const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/pageB-CF8DLiui.js","assets/phaser-BvzNzgtf.js","assets/pageB-wS7tmdLb.css"])))=>i.map(i=>d[i]);
var e,t=Object.defineProperty,a=(e,a,s)=>((e,a,s)=>a in e?t(e,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[a]=s)(e,"symbol"!=typeof a?a+"":a,s);import{p as s,c as n}from"./phaser-BvzNzgtf.js";function i(e){const t=Object.create(null);for(const a of e.split(","))t[a]=1;return e=>e in t}!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const a of e)if("childList"===a.type)for(const e of a.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const o={},l=[],r=()=>{},c=()=>!1,u=e=>111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),d=e=>e.startsWith("onUpdate:"),h=Object.assign,p=(e,t)=>{const a=e.indexOf(t);a>-1&&e.splice(a,1)},f=Object.prototype.hasOwnProperty,m=(e,t)=>f.call(e,t),g=Array.isArray,v=e=>"[object Map]"===T(e),b=e=>"[object Set]"===T(e),y=e=>"[object Date]"===T(e),_=e=>"function"==typeof e,w=e=>"string"==typeof e,x=e=>"symbol"==typeof e,S=e=>null!==e&&"object"==typeof e,k=e=>(S(e)||_(e))&&_(e.then)&&_(e.catch),C=Object.prototype.toString,T=e=>C.call(e),B=e=>T(e).slice(8,-1),A=e=>"[object Object]"===T(e),I=e=>w(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e,E=i(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),P=e=>{const t=Object.create(null);return a=>t[a]||(t[a]=e(a))},O=/-(\w)/g,D=P((e=>e.replace(O,((e,t)=>t?t.toUpperCase():"")))),$=/\B([A-Z])/g,M=P((e=>e.replace($,"-$1").toLowerCase())),L=P((e=>e.charAt(0).toUpperCase()+e.slice(1))),N=P((e=>e?`on${L(e)}`:"")),R=(e,t)=>!Object.is(e,t),j=(e,...t)=>{for(let a=0;a<e.length;a++)e[a](...t)},z=(e,t,a,s=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:s,value:a})},V=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let H;const F=()=>H||(H="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{});function W(e){if(g(e)){const t={};for(let a=0;a<e.length;a++){const s=e[a],n=w(s)?K(s):W(s);if(n)for(const e in n)t[e]=n[e]}return t}if(w(e)||S(e))return e}const U=/;(?![^(]*\))/g,G=/:([^]+)/,q=/\/\*[^]*?\*\//g;function K(e){const t={};return e.replace(q,"").split(U).forEach((e=>{if(e){const a=e.split(G);a.length>1&&(t[a[0].trim()]=a[1].trim())}})),t}function Y(e){let t="";if(w(e))t=e;else if(g(e))for(let a=0;a<e.length;a++){const s=Y(e[a]);s&&(t+=s+" ")}else if(S(e))for(const a in e)e[a]&&(t+=a+" ");return t.trim()}function X(e){if(!e)return null;let{class:t,style:a}=e;return t&&!w(t)&&(e.class=Y(t)),a&&(e.style=W(a)),e}const Q=i("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function J(e){return!!e||""===e}function Z(e,t){if(e===t)return!0;let a=y(e),s=y(t);if(a||s)return!(!a||!s)&&e.getTime()===t.getTime();if(a=x(e),s=x(t),a||s)return e===t;if(a=g(e),s=g(t),a||s)return!(!a||!s)&&function(e,t){if(e.length!==t.length)return!1;let a=!0;for(let s=0;a&&s<e.length;s++)a=Z(e[s],t[s]);return a}(e,t);if(a=S(e),s=S(t),a||s){if(!a||!s)return!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const a in e){const s=e.hasOwnProperty(a),n=t.hasOwnProperty(a);if(s&&!n||!s&&n||!Z(e[a],t[a]))return!1}}return String(e)===String(t)}function ee(e,t){return e.findIndex((e=>Z(e,t)))}const te=e=>!(!e||!0!==e.__v_isRef),ae=e=>w(e)?e:null==e?"":g(e)||S(e)&&(e.toString===C||!_(e.toString))?te(e)?ae(e.value):JSON.stringify(e,se,2):String(e),se=(e,t)=>te(t)?se(e,t.value):v(t)?{[`Map(${t.size})`]:[...t.entries()].reduce(((e,[t,a],s)=>(e[ne(t,s)+" =>"]=a,e)),{})}:b(t)?{[`Set(${t.size})`]:[...t.values()].map((e=>ne(e)))}:x(t)?ne(t):!S(t)||g(t)||A(t)?t:String(t),ne=(e,t="")=>{var a;return x(e)?`Symbol(${null!=(a=e.description)?a:t})`:e};let ie,oe;class le{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=ie,!e&&ie&&(this.index=(ie.scopes||(ie.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){let e,t;if(this._isPaused=!0,this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].pause();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){let e,t;if(this._isPaused=!1,this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].resume();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].resume()}}run(e){if(this._active){const t=ie;try{return ie=this,e()}finally{ie=t}}}on(){ie=this}off(){ie=this.parent}stop(e){if(this._active){let t,a;for(this._active=!1,t=0,a=this.effects.length;t<a;t++)this.effects[t].stop();for(this.effects.length=0,t=0,a=this.cleanups.length;t<a;t++)this.cleanups[t]();if(this.cleanups.length=0,this.scopes){for(t=0,a=this.scopes.length;t<a;t++)this.scopes[t].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const e=this.parent.scopes.pop();e&&e!==this&&(this.parent.scopes[this.index]=e,e.index=this.index)}this.parent=void 0}}}function re(e){return new le(e)}function ce(){return ie}function ue(e,t=!1){ie&&ie.cleanups.push(e)}const de=new WeakSet;class he{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,ie&&ie.active&&ie.effects.push(this)}pause(){this.flags|=64}resume(){64&this.flags&&(this.flags&=-65,de.has(this)&&(de.delete(this),this.trigger()))}notify(){2&this.flags&&!(32&this.flags)||8&this.flags||ge(this)}run(){if(!(1&this.flags))return this.fn();this.flags|=2,Ie(this),ye(this);const e=oe,t=Ce;oe=this,Ce=!0;try{return this.fn()}finally{_e(this),oe=e,Ce=t,this.flags&=-3}}stop(){if(1&this.flags){for(let e=this.deps;e;e=e.nextDep)Se(e);this.deps=this.depsTail=void 0,Ie(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){64&this.flags?de.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){we(this)&&this.run()}get dirty(){return we(this)}}let pe,fe,me=0;function ge(e,t=!1){if(e.flags|=8,t)return e.next=fe,void(fe=e);e.next=pe,pe=e}function ve(){me++}function be(){if(--me>0)return;if(fe){let e=fe;for(fe=void 0;e;){const t=e.next;e.next=void 0,e.flags&=-9,e=t}}let e;for(;pe;){let a=pe;for(pe=void 0;a;){const s=a.next;if(a.next=void 0,a.flags&=-9,1&a.flags)try{a.trigger()}catch(t){e||(e=t)}a=s}}if(e)throw e}function ye(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function _e(e){let t,a=e.depsTail,s=a;for(;s;){const e=s.prevDep;-1===s.version?(s===a&&(a=e),Se(s),ke(s)):t=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=e}e.deps=t,e.depsTail=a}function we(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(xe(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function xe(e){if(4&e.flags&&!(16&e.flags))return;if(e.flags&=-17,e.globalVersion===Ee)return;e.globalVersion=Ee;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!we(e))return void(e.flags&=-3);const a=oe,s=Ce;oe=e,Ce=!0;try{ye(e);const a=e.fn(e._value);(0===t.version||R(a,e._value))&&(e._value=a,t.version++)}catch(n){throw t.version++,n}finally{oe=a,Ce=s,_e(e),e.flags&=-3}}function Se(e,t=!1){const{dep:a,prevSub:s,nextSub:n}=e;if(s&&(s.nextSub=n,e.prevSub=void 0),n&&(n.prevSub=s,e.nextSub=void 0),a.subs===e&&(a.subs=s,!s&&a.computed)){a.computed.flags&=-5;for(let e=a.computed.deps;e;e=e.nextDep)Se(e,!0)}t||--a.sc||!a.map||a.map.delete(a.key)}function ke(e){const{prevDep:t,nextDep:a}=e;t&&(t.nextDep=a,e.prevDep=void 0),a&&(a.prevDep=t,e.nextDep=void 0)}let Ce=!0;const Te=[];function Be(){Te.push(Ce),Ce=!1}function Ae(){const e=Te.pop();Ce=void 0===e||e}function Ie(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const e=oe;oe=void 0;try{t()}finally{oe=e}}}let Ee=0;class Pe{constructor(e,t){this.sub=e,this.dep=t,this.version=t.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Oe{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!oe||!Ce||oe===this.computed)return;let t=this.activeLink;if(void 0===t||t.sub!==oe)t=this.activeLink=new Pe(oe,this),oe.deps?(t.prevDep=oe.depsTail,oe.depsTail.nextDep=t,oe.depsTail=t):oe.deps=oe.depsTail=t,De(t);else if(-1===t.version&&(t.version=this.version,t.nextDep)){const e=t.nextDep;e.prevDep=t.prevDep,t.prevDep&&(t.prevDep.nextDep=e),t.prevDep=oe.depsTail,t.nextDep=void 0,oe.depsTail.nextDep=t,oe.depsTail=t,oe.deps===t&&(oe.deps=e)}return t}trigger(e){this.version++,Ee++,this.notify(e)}notify(e){ve();try{for(let e=this.subs;e;e=e.prevSub)e.sub.notify()&&e.sub.dep.notify()}finally{be()}}}function De(e){if(e.dep.sc++,4&e.sub.flags){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let e=t.deps;e;e=e.nextDep)De(e)}const a=e.dep.subs;a!==e&&(e.prevSub=a,a&&(a.nextSub=e)),e.dep.subs=e}}const $e=new WeakMap,Me=Symbol(""),Le=Symbol(""),Ne=Symbol("");function Re(e,t,a){if(Ce&&oe){let t=$e.get(e);t||$e.set(e,t=new Map);let s=t.get(a);s||(t.set(a,s=new Oe),s.map=t,s.key=a),s.track()}}function je(e,t,a,s,n,i){const o=$e.get(e);if(!o)return void Ee++;const l=e=>{e&&e.trigger()};if(ve(),"clear"===t)o.forEach(l);else{const n=g(e),i=n&&I(a);if(n&&"length"===a){const e=Number(s);o.forEach(((t,a)=>{("length"===a||a===Ne||!x(a)&&a>=e)&&l(t)}))}else switch((void 0!==a||o.has(void 0))&&l(o.get(a)),i&&l(o.get(Ne)),t){case"add":n?i&&l(o.get("length")):(l(o.get(Me)),v(e)&&l(o.get(Le)));break;case"delete":n||(l(o.get(Me)),v(e)&&l(o.get(Le)));break;case"set":v(e)&&l(o.get(Me))}}be()}function ze(e){const t=St(e);return t===e?t:(Re(t,0,Ne),wt(e)?t:t.map(Ct))}function Ve(e){return Re(e=St(e),0,Ne),e}const He={__proto__:null,[Symbol.iterator](){return Fe(this,Symbol.iterator,Ct)},concat(...e){return ze(this).concat(...e.map((e=>g(e)?ze(e):e)))},entries(){return Fe(this,"entries",(e=>(e[1]=Ct(e[1]),e)))},every(e,t){return Ue(this,"every",e,t,void 0,arguments)},filter(e,t){return Ue(this,"filter",e,t,(e=>e.map(Ct)),arguments)},find(e,t){return Ue(this,"find",e,t,Ct,arguments)},findIndex(e,t){return Ue(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Ue(this,"findLast",e,t,Ct,arguments)},findLastIndex(e,t){return Ue(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Ue(this,"forEach",e,t,void 0,arguments)},includes(...e){return qe(this,"includes",e)},indexOf(...e){return qe(this,"indexOf",e)},join(e){return ze(this).join(e)},lastIndexOf(...e){return qe(this,"lastIndexOf",e)},map(e,t){return Ue(this,"map",e,t,void 0,arguments)},pop(){return Ke(this,"pop")},push(...e){return Ke(this,"push",e)},reduce(e,...t){return Ge(this,"reduce",e,t)},reduceRight(e,...t){return Ge(this,"reduceRight",e,t)},shift(){return Ke(this,"shift")},some(e,t){return Ue(this,"some",e,t,void 0,arguments)},splice(...e){return Ke(this,"splice",e)},toReversed(){return ze(this).toReversed()},toSorted(e){return ze(this).toSorted(e)},toSpliced(...e){return ze(this).toSpliced(...e)},unshift(...e){return Ke(this,"unshift",e)},values(){return Fe(this,"values",Ct)}};function Fe(e,t,a){const s=Ve(e),n=s[t]();return s===e||wt(e)||(n._next=n.next,n.next=()=>{const e=n._next();return e.value&&(e.value=a(e.value)),e}),n}const We=Array.prototype;function Ue(e,t,a,s,n,i){const o=Ve(e),l=o!==e&&!wt(e),r=o[t];if(r!==We[t]){const t=r.apply(e,i);return l?Ct(t):t}let c=a;o!==e&&(l?c=function(t,s){return a.call(this,Ct(t),s,e)}:a.length>2&&(c=function(t,s){return a.call(this,t,s,e)}));const u=r.call(o,c,s);return l&&n?n(u):u}function Ge(e,t,a,s){const n=Ve(e);let i=a;return n!==e&&(wt(e)?a.length>3&&(i=function(t,s,n){return a.call(this,t,s,n,e)}):i=function(t,s,n){return a.call(this,t,Ct(s),n,e)}),n[t](i,...s)}function qe(e,t,a){const s=St(e);Re(s,0,Ne);const n=s[t](...a);return-1!==n&&!1!==n||!xt(a[0])?n:(a[0]=St(a[0]),s[t](...a))}function Ke(e,t,a=[]){Be(),ve();const s=St(e)[t].apply(e,a);return be(),Ae(),s}const Ye=i("__proto__,__v_isRef,__isVue"),Xe=new Set(Object.getOwnPropertyNames(Symbol).filter((e=>"arguments"!==e&&"caller"!==e)).map((e=>Symbol[e])).filter(x));function Qe(e){x(e)||(e=String(e));const t=St(this);return Re(t,0,e),t.hasOwnProperty(e)}class Je{constructor(e=!1,t=!1){this._isReadonly=e,this._isShallow=t}get(e,t,a){if("__v_skip"===t)return e.__v_skip;const s=this._isReadonly,n=this._isShallow;if("__v_isReactive"===t)return!s;if("__v_isReadonly"===t)return s;if("__v_isShallow"===t)return n;if("__v_raw"===t)return a===(s?n?ft:pt:n?ht:dt).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(a)?e:void 0;const i=g(e);if(!s){let e;if(i&&(e=He[t]))return e;if("hasOwnProperty"===t)return Qe}const o=Reflect.get(e,t,Bt(e)?e:a);return(x(t)?Xe.has(t):Ye(t))?o:(s||Re(e,0,t),n?o:Bt(o)?i&&I(t)?o:o.value:S(o)?s?vt(o):mt(o):o)}}class Ze extends Je{constructor(e=!1){super(!1,e)}set(e,t,a,s){let n=e[t];if(!this._isShallow){const t=_t(n);if(wt(a)||_t(a)||(n=St(n),a=St(a)),!g(e)&&Bt(n)&&!Bt(a))return!t&&(n.value=a,!0)}const i=g(e)&&I(t)?Number(t)<e.length:m(e,t),o=Reflect.set(e,t,a,Bt(e)?e:s);return e===St(s)&&(i?R(a,n)&&je(e,"set",t,a):je(e,"add",t,a)),o}deleteProperty(e,t){const a=m(e,t);e[t];const s=Reflect.deleteProperty(e,t);return s&&a&&je(e,"delete",t,void 0),s}has(e,t){const a=Reflect.has(e,t);return x(t)&&Xe.has(t)||Re(e,0,t),a}ownKeys(e){return Re(e,0,g(e)?"length":Me),Reflect.ownKeys(e)}}class et extends Je{constructor(e=!1){super(!0,e)}set(e,t){return!0}deleteProperty(e,t){return!0}}const tt=new Ze,at=new et,st=new Ze(!0),nt=e=>e,it=e=>Reflect.getPrototypeOf(e);function ot(e){return function(...t){return"delete"!==e&&("clear"===e?void 0:this)}}function lt(e,t){const a=function(e,t){const a={get(a){const s=this.__v_raw,n=St(s),i=St(a);e||(R(a,i)&&Re(n,0,a),Re(n,0,i));const{has:o}=it(n),l=t?nt:e?Tt:Ct;return o.call(n,a)?l(s.get(a)):o.call(n,i)?l(s.get(i)):void(s!==n&&s.get(a))},get size(){const t=this.__v_raw;return!e&&Re(St(t),0,Me),Reflect.get(t,"size",t)},has(t){const a=this.__v_raw,s=St(a),n=St(t);return e||(R(t,n)&&Re(s,0,t),Re(s,0,n)),t===n?a.has(t):a.has(t)||a.has(n)},forEach(a,s){const n=this,i=n.__v_raw,o=St(i),l=t?nt:e?Tt:Ct;return!e&&Re(o,0,Me),i.forEach(((e,t)=>a.call(s,l(e),l(t),n)))}};return h(a,e?{add:ot("add"),set:ot("set"),delete:ot("delete"),clear:ot("clear")}:{add(e){t||wt(e)||_t(e)||(e=St(e));const a=St(this);return it(a).has.call(a,e)||(a.add(e),je(a,"add",e,e)),this},set(e,a){t||wt(a)||_t(a)||(a=St(a));const s=St(this),{has:n,get:i}=it(s);let o=n.call(s,e);o||(e=St(e),o=n.call(s,e));const l=i.call(s,e);return s.set(e,a),o?R(a,l)&&je(s,"set",e,a):je(s,"add",e,a),this},delete(e){const t=St(this),{has:a,get:s}=it(t);let n=a.call(t,e);n||(e=St(e),n=a.call(t,e)),s&&s.call(t,e);const i=t.delete(e);return n&&je(t,"delete",e,void 0),i},clear(){const e=St(this),t=0!==e.size,a=e.clear();return t&&je(e,"clear",void 0,void 0),a}}),["keys","values","entries",Symbol.iterator].forEach((s=>{a[s]=function(e,t,a){return function(...s){const n=this.__v_raw,i=St(n),o=v(i),l="entries"===e||e===Symbol.iterator&&o,r="keys"===e&&o,c=n[e](...s),u=a?nt:t?Tt:Ct;return!t&&Re(i,0,r?Le:Me),{next(){const{value:e,done:t}=c.next();return t?{value:e,done:t}:{value:l?[u(e[0]),u(e[1])]:u(e),done:t}},[Symbol.iterator](){return this}}}}(s,e,t)})),a}(e,t);return(t,s,n)=>"__v_isReactive"===s?!e:"__v_isReadonly"===s?e:"__v_raw"===s?t:Reflect.get(m(a,s)&&s in t?a:t,s,n)}const rt={get:lt(!1,!1)},ct={get:lt(!1,!0)},ut={get:lt(!0,!1)},dt=new WeakMap,ht=new WeakMap,pt=new WeakMap,ft=new WeakMap;function mt(e){return _t(e)?e:bt(e,!1,tt,rt,dt)}function gt(e){return bt(e,!1,st,ct,ht)}function vt(e){return bt(e,!0,at,ut,pt)}function bt(e,t,a,s,n){if(!S(e))return e;if(e.__v_raw&&(!t||!e.__v_isReactive))return e;const i=n.get(e);if(i)return i;const o=(l=e).__v_skip||!Object.isExtensible(l)?0:function(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}(B(l));var l;if(0===o)return e;const r=new Proxy(e,2===o?s:a);return n.set(e,r),r}function yt(e){return _t(e)?yt(e.__v_raw):!(!e||!e.__v_isReactive)}function _t(e){return!(!e||!e.__v_isReadonly)}function wt(e){return!(!e||!e.__v_isShallow)}function xt(e){return!!e&&!!e.__v_raw}function St(e){const t=e&&e.__v_raw;return t?St(t):e}function kt(e){return!m(e,"__v_skip")&&Object.isExtensible(e)&&z(e,"__v_skip",!0),e}const Ct=e=>S(e)?mt(e):e,Tt=e=>S(e)?vt(e):e;function Bt(e){return!!e&&!0===e.__v_isRef}function At(e){return Et(e,!1)}function It(e){return Et(e,!0)}function Et(e,t){return Bt(e)?e:new Pt(e,t)}class Pt{constructor(e,t){this.dep=new Oe,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=t?e:St(e),this._value=t?e:Ct(e),this.__v_isShallow=t}get value(){return this.dep.track(),this._value}set value(e){const t=this._rawValue,a=this.__v_isShallow||wt(e)||_t(e);e=a?e:St(e),R(e,t)&&(this._rawValue=e,this._value=a?e:Ct(e),this.dep.trigger())}}function Ot(e){return Bt(e)?e.value:e}const Dt={get:(e,t,a)=>"__v_raw"===t?e:Ot(Reflect.get(e,t,a)),set:(e,t,a,s)=>{const n=e[t];return Bt(n)&&!Bt(a)?(n.value=a,!0):Reflect.set(e,t,a,s)}};function $t(e){return yt(e)?e:new Proxy(e,Dt)}class Mt{constructor(e,t,a){this._object=e,this._key=t,this._defaultValue=a,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=void 0===e?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return function(e,t){const a=$e.get(e);return a&&a.get(t)}(St(this._object),this._key)}}class Lt{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function Nt(e,t,a){return Bt(e)?e:_(e)?new Lt(e):S(e)&&arguments.length>1?Rt(e,t,a):At(e)}function Rt(e,t,a){const s=e[t];return Bt(s)?s:new Mt(e,t,a)}class jt{constructor(e,t,a){this.fn=e,this.setter=t,this._value=void 0,this.dep=new Oe(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Ee-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!t,this.isSSR=a}notify(){if(this.flags|=16,!(8&this.flags)&&oe!==this)return ge(this,!0),!0}get value(){const e=this.dep.track();return xe(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}const zt={},Vt=new WeakMap;let Ht;function Ft(e,t=1/0,a){if(t<=0||!S(e)||e.__v_skip)return e;if((a=a||new Set).has(e))return e;if(a.add(e),t--,Bt(e))Ft(e.value,t,a);else if(g(e))for(let s=0;s<e.length;s++)Ft(e[s],t,a);else if(b(e)||v(e))e.forEach((e=>{Ft(e,t,a)}));else if(A(e)){for(const s in e)Ft(e[s],t,a);for(const s of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,s)&&Ft(e[s],t,a)}return e}function Wt(e,t,a,s){try{return s?e(...s):e()}catch(n){Gt(n,t,a)}}function Ut(e,t,a,s){if(_(e)){const n=Wt(e,t,a,s);return n&&k(n)&&n.catch((e=>{Gt(e,t,a)})),n}if(g(e)){const n=[];for(let i=0;i<e.length;i++)n.push(Ut(e[i],t,a,s));return n}}function Gt(e,t,a,s=!0){t&&t.vnode;const{errorHandler:n,throwUnhandledErrorInProduction:i}=t&&t.appContext.config||o;if(t){let s=t.parent;const i=t.proxy,o=`https://vuejs.org/error-reference/#runtime-${a}`;for(;s;){const t=s.ec;if(t)for(let a=0;a<t.length;a++)if(!1===t[a](e,i,o))return;s=s.parent}if(n)return Be(),Wt(n,null,10,[e,i,o]),void Ae()}!function(e,t,a,s=!0,n=!1){if(n)throw e;console.error(e)}(e,0,0,s,i)}const qt=[];let Kt=-1;const Yt=[];let Xt=null,Qt=0;const Jt=Promise.resolve();let Zt=null;function ea(e){const t=Zt||Jt;return e?t.then(this?e.bind(this):e):t}function ta(e){if(!(1&e.flags)){const t=ia(e),a=qt[qt.length-1];!a||!(2&e.flags)&&t>=ia(a)?qt.push(e):qt.splice(function(e){let t=Kt+1,a=qt.length;for(;t<a;){const s=t+a>>>1,n=qt[s],i=ia(n);i<e||i===e&&2&n.flags?t=s+1:a=s}return t}(t),0,e),e.flags|=1,aa()}}function aa(){Zt||(Zt=Jt.then(oa))}function sa(e,t,a=Kt+1){for(;a<qt.length;a++){const t=qt[a];if(t&&2&t.flags){if(e&&t.id!==e.uid)continue;qt.splice(a,1),a--,4&t.flags&&(t.flags&=-2),t(),4&t.flags||(t.flags&=-2)}}}function na(e){if(Yt.length){const e=[...new Set(Yt)].sort(((e,t)=>ia(e)-ia(t)));if(Yt.length=0,Xt)return void Xt.push(...e);for(Xt=e,Qt=0;Qt<Xt.length;Qt++){const e=Xt[Qt];4&e.flags&&(e.flags&=-2),8&e.flags||e(),e.flags&=-2}Xt=null,Qt=0}}const ia=e=>null==e.id?2&e.flags?-1:1/0:e.id;function oa(e){try{for(Kt=0;Kt<qt.length;Kt++){const e=qt[Kt];!e||8&e.flags||(4&e.flags&&(e.flags&=-2),Wt(e,e.i,e.i?15:14),4&e.flags||(e.flags&=-2))}}finally{for(;Kt<qt.length;Kt++){const e=qt[Kt];e&&(e.flags&=-2)}Kt=-1,qt.length=0,na(),Zt=null,(qt.length||Yt.length)&&oa()}}let la=null,ra=null;function ca(e){const t=la;return la=e,ra=e&&e.type.__scopeId||null,t}function ua(e,t=la,a){if(!t)return e;if(e._n)return e;const s=(...a)=>{s._d&&On(-1);const n=ca(t);let i;try{i=e(...a)}finally{ca(n),s._d&&On(1)}return i};return s._n=!0,s._c=!0,s._d=!0,s}function da(e,t){if(null===la)return e;const a=hi(la),s=e.dirs||(e.dirs=[]);for(let n=0;n<t.length;n++){let[e,i,l,r=o]=t[n];e&&(_(e)&&(e={mounted:e,updated:e}),e.deep&&Ft(i),s.push({dir:e,instance:a,value:i,oldValue:void 0,arg:l,modifiers:r}))}return e}function ha(e,t,a,s){const n=e.dirs,i=t&&t.dirs;for(let o=0;o<n.length;o++){const l=n[o];i&&(l.oldValue=i[o].value);let r=l.dir[s];r&&(Be(),Ut(r,a,8,[e.el,l,e,t]),Ae())}}const pa=Symbol("_vte"),fa=e=>e.__isTeleport,ma=e=>e&&(e.disabled||""===e.disabled),ga=e=>e&&(e.defer||""===e.defer),va=e=>"undefined"!=typeof SVGElement&&e instanceof SVGElement,ba=e=>"function"==typeof MathMLElement&&e instanceof MathMLElement,ya=(e,t)=>{const a=e&&e.to;return w(a)?t?t(a):null:a},_a={name:"Teleport",__isTeleport:!0,process(e,t,a,s,n,i,o,l,r,c){const{mc:u,pc:d,pbc:h,o:{insert:p,querySelector:f,createText:m,createComment:g}}=c,v=ma(t.props);let{shapeFlag:b,children:y,dynamicChildren:_}=t;if(null==e){const e=t.el=m(""),c=t.anchor=m("");p(e,a,s),p(c,a,s);const d=(e,t)=>{16&b&&(n&&n.isCE&&(n.ce._teleportTarget=e),u(y,e,t,n,i,o,l,r))},h=()=>{const e=t.target=ya(t.props,f),a=ka(e,t,m,p);e&&("svg"!==o&&va(e)?o="svg":"mathml"!==o&&ba(e)&&(o="mathml"),v||(d(e,a),Sa(t,!1)))};v&&(d(a,c),Sa(t,!0)),ga(t.props)?en((()=>{h(),t.el.__isMounted=!0}),i):h()}else{if(ga(t.props)&&!e.el.__isMounted)return void en((()=>{_a.process(e,t,a,s,n,i,o,l,r,c),delete e.el.__isMounted}),i);t.el=e.el,t.targetStart=e.targetStart;const u=t.anchor=e.anchor,p=t.target=e.target,m=t.targetAnchor=e.targetAnchor,g=ma(e.props),b=g?a:p,y=g?u:m;if("svg"===o||va(p)?o="svg":("mathml"===o||ba(p))&&(o="mathml"),_?(h(e.dynamicChildren,_,b,n,i,o,l),nn(e,t,!0)):r||d(e,t,b,y,n,i,o,l,!1),v)g?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):wa(t,a,u,c,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const e=t.target=ya(t.props,f);e&&wa(t,e,null,c,0)}else g&&wa(t,p,m,c,1);Sa(t,v)}},remove(e,t,a,{um:s,o:{remove:n}},i){const{shapeFlag:o,children:l,anchor:r,targetStart:c,targetAnchor:u,target:d,props:h}=e;if(d&&(n(c),n(u)),i&&n(r),16&o){const e=i||!ma(h);for(let n=0;n<l.length;n++){const i=l[n];s(i,t,a,e,!!i.dynamicChildren)}}},move:wa,hydrate:function(e,t,a,s,n,i,{o:{nextSibling:o,parentNode:l,querySelector:r,insert:c,createText:u}},d){const h=t.target=ya(t.props,r);if(h){const r=ma(t.props),p=h._lpa||h.firstChild;if(16&t.shapeFlag)if(r)t.anchor=d(o(e),t,l(e),a,s,n,i),t.targetStart=p,t.targetAnchor=p&&o(p);else{t.anchor=o(e);let l=p;for(;l;){if(l&&8===l.nodeType)if("teleport start anchor"===l.data)t.targetStart=l;else if("teleport anchor"===l.data){t.targetAnchor=l,h._lpa=t.targetAnchor&&o(t.targetAnchor);break}l=o(l)}t.targetAnchor||ka(h,t,u,c),d(p&&o(p),t,h,a,s,n,i)}Sa(t,r)}return t.anchor&&o(t.anchor)}};function wa(e,t,a,{o:{insert:s},m:n},i=2){0===i&&s(e.targetAnchor,t,a);const{el:o,anchor:l,shapeFlag:r,children:c,props:u}=e,d=2===i;if(d&&s(o,t,a),(!d||ma(u))&&16&r)for(let h=0;h<c.length;h++)n(c[h],t,a,2);d&&s(l,t,a)}const xa=_a;function Sa(e,t){const a=e.ctx;if(a&&a.ut){let s,n;for(t?(s=e.el,n=e.anchor):(s=e.targetStart,n=e.targetAnchor);s&&s!==n;)1===s.nodeType&&s.setAttribute("data-v-owner",a.uid),s=s.nextSibling;a.ut()}}function ka(e,t,a,s){const n=t.targetStart=a(""),i=t.targetAnchor=a("");return n[pa]=i,e&&(s(n,e),s(i,e)),i}const Ca=Symbol("_leaveCb"),Ta=Symbol("_enterCb"),Ba=[Function,Array],Aa={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Ba,onEnter:Ba,onAfterEnter:Ba,onEnterCancelled:Ba,onBeforeLeave:Ba,onLeave:Ba,onAfterLeave:Ba,onLeaveCancelled:Ba,onBeforeAppear:Ba,onAppear:Ba,onAfterAppear:Ba,onAppearCancelled:Ba},Ia=e=>{const t=e.subTree;return t.component?Ia(t.component):t};function Ea(e){let t=e[0];if(e.length>1)for(const a of e)if(a.type!==Tn){t=a;break}return t}const Pa={name:"BaseTransition",props:Aa,setup(e,{slots:t}){const a=ti(),s=function(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Xa((()=>{e.isMounted=!0})),Za((()=>{e.isUnmounting=!0})),e}();return()=>{const n=t.default&&Na(t.default(),!0);if(!n||!n.length)return;const i=Ea(n),o=St(e),{mode:l}=o;if(s.isLeaving)return $a(i);const r=Ma(i);if(!r)return $a(i);let c=Da(r,o,s,a,(e=>c=e));r.type!==Tn&&La(r,c);let u=a.subTree&&Ma(a.subTree);if(u&&u.type!==Tn&&!Nn(r,u)&&Ia(a).type!==Tn){let e=Da(u,o,s,a);if(La(u,e),"out-in"===l&&r.type!==Tn)return s.isLeaving=!0,e.afterLeave=()=>{s.isLeaving=!1,8&a.job.flags||a.update(),delete e.afterLeave,u=void 0},$a(i);"in-out"===l&&r.type!==Tn?e.delayLeave=(e,t,a)=>{Oa(s,u)[String(u.key)]=u,e[Ca]=()=>{t(),e[Ca]=void 0,delete c.delayedLeave,u=void 0},c.delayedLeave=()=>{a(),delete c.delayedLeave,u=void 0}}:u=void 0}else u&&(u=void 0);return i}}};function Oa(e,t){const{leavingVNodes:a}=e;let s=a.get(t.type);return s||(s=Object.create(null),a.set(t.type,s)),s}function Da(e,t,a,s,n){const{appear:i,mode:o,persisted:l=!1,onBeforeEnter:r,onEnter:c,onAfterEnter:u,onEnterCancelled:d,onBeforeLeave:h,onLeave:p,onAfterLeave:f,onLeaveCancelled:m,onBeforeAppear:v,onAppear:b,onAfterAppear:y,onAppearCancelled:_}=t,w=String(e.key),x=Oa(a,e),S=(e,t)=>{e&&Ut(e,s,9,t)},k=(e,t)=>{const a=t[1];S(e,t),g(e)?e.every((e=>e.length<=1))&&a():e.length<=1&&a()},C={mode:o,persisted:l,beforeEnter(t){let s=r;if(!a.isMounted){if(!i)return;s=v||r}t[Ca]&&t[Ca](!0);const n=x[w];n&&Nn(e,n)&&n.el[Ca]&&n.el[Ca](),S(s,[t])},enter(e){let t=c,s=u,n=d;if(!a.isMounted){if(!i)return;t=b||c,s=y||u,n=_||d}let o=!1;const l=e[Ta]=t=>{o||(o=!0,S(t?n:s,[e]),C.delayedLeave&&C.delayedLeave(),e[Ta]=void 0)};t?k(t,[e,l]):l()},leave(t,s){const n=String(e.key);if(t[Ta]&&t[Ta](!0),a.isUnmounting)return s();S(h,[t]);let i=!1;const o=t[Ca]=a=>{i||(i=!0,s(),S(a?m:f,[t]),t[Ca]=void 0,x[n]===e&&delete x[n])};x[n]=e,p?k(p,[t,o]):o()},clone(e){const i=Da(e,t,a,s,n);return n&&n(i),i}};return C}function $a(e){if(Ha(e))return(e=Fn(e)).children=null,e}function Ma(e){if(!Ha(e))return fa(e.type)&&e.children?Ea(e.children):e;const{shapeFlag:t,children:a}=e;if(a){if(16&t)return a[0];if(32&t&&_(a.default))return a.default()}}function La(e,t){6&e.shapeFlag&&e.component?(e.transition=t,La(e.component.subTree,t)):128&e.shapeFlag?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Na(e,t=!1,a){let s=[],n=0;for(let i=0;i<e.length;i++){let o=e[i];const l=null==a?o.key:String(a)+String(null!=o.key?o.key:i);o.type===kn?(128&o.patchFlag&&n++,s=s.concat(Na(o.children,t,l))):(t||o.type!==Tn)&&s.push(null!=l?Fn(o,{key:l}):o)}if(n>1)for(let i=0;i<s.length;i++)s[i].patchFlag=-2;return s}function Ra(e,t){return _(e)?(()=>h({name:e.name},t,{setup:e}))():e}function ja(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function za(e,t,a,s,n=!1){if(g(e))return void e.forEach(((e,i)=>za(e,t&&(g(t)?t[i]:t),a,s,n)));if(Va(s)&&!n)return void(512&s.shapeFlag&&s.type.__asyncResolved&&s.component.subTree.component&&za(e,t,a,s.component.subTree));const i=4&s.shapeFlag?hi(s.component):s.el,l=n?null:i,{i:r,r:c}=e,u=t&&t.r,d=r.refs===o?r.refs={}:r.refs,h=r.setupState,f=St(h),v=h===o?()=>!1:e=>m(f,e);if(null!=u&&u!==c&&(w(u)?(d[u]=null,v(u)&&(h[u]=null)):Bt(u)&&(u.value=null)),_(c))Wt(c,r,12,[l,d]);else{const t=w(c),s=Bt(c);if(t||s){const o=()=>{if(e.f){const a=t?v(c)?h[c]:d[c]:c.value;n?g(a)&&p(a,i):g(a)?a.includes(i)||a.push(i):t?(d[c]=[i],v(c)&&(h[c]=d[c])):(c.value=[i],e.k&&(d[e.k]=c.value))}else t?(d[c]=l,v(c)&&(h[c]=l)):s&&(c.value=l,e.k&&(d[e.k]=l))};l?(o.id=-1,en(o,a)):o()}}}F().requestIdleCallback,F().cancelIdleCallback;const Va=e=>!!e.type.__asyncLoader,Ha=e=>e.type.__isKeepAlive;function Fa(e,t){Ua(e,"a",t)}function Wa(e,t){Ua(e,"da",t)}function Ua(e,t,a=ei){const s=e.__wdc||(e.__wdc=()=>{let t=a;for(;t;){if(t.isDeactivated)return;t=t.parent}return e()});if(qa(t,s,a),a){let e=a.parent;for(;e&&e.parent;)Ha(e.parent.vnode)&&Ga(s,t,a,e),e=e.parent}}function Ga(e,t,a,s){const n=qa(t,e,s,!0);es((()=>{p(s[t],n)}),a)}function qa(e,t,a=ei,s=!1){if(a){const n=a[e]||(a[e]=[]),i=t.__weh||(t.__weh=(...s)=>{Be();const n=ni(a),i=Ut(t,a,e,s);return n(),Ae(),i});return s?n.unshift(i):n.push(i),i}}const Ka=e=>(t,a=ei)=>{li&&"sp"!==e||qa(e,((...e)=>t(...e)),a)},Ya=Ka("bm"),Xa=Ka("m"),Qa=Ka("bu"),Ja=Ka("u"),Za=Ka("bum"),es=Ka("um"),ts=Ka("sp"),as=Ka("rtg"),ss=Ka("rtc");function ns(e,t=ei){qa("ec",e,t)}const is="components";function os(e,t){return cs(is,e,!0,t)||e}const ls=Symbol.for("v-ndc");function rs(e){return w(e)?cs(is,e,!1)||e:e||ls}function cs(e,t,a=!0,s=!1){const n=la||ei;if(n){const a=n.type;{const e=function(e,t=!0){return _(e)?e.displayName||e.name:e.name||t&&e.__name}(a,!1);if(e&&(e===t||e===D(t)||e===L(D(t))))return a}const i=us(n[e]||a[e],t)||us(n.appContext[e],t);return!i&&s?a:i}}function us(e,t){return e&&(e[t]||e[D(t)]||e[L(D(t))])}function ds(e,t,a,s){let n;const i=a,o=g(e);if(o||w(e)){let a=!1;o&&yt(e)&&(a=!wt(e),e=Ve(e)),n=new Array(e.length);for(let s=0,o=e.length;s<o;s++)n[s]=t(a?Ct(e[s]):e[s],s,void 0,i)}else if("number"==typeof e){n=new Array(e);for(let a=0;a<e;a++)n[a]=t(a+1,a,void 0,i)}else if(S(e))if(e[Symbol.iterator])n=Array.from(e,((e,a)=>t(e,a,void 0,i)));else{const a=Object.keys(e);n=new Array(a.length);for(let s=0,o=a.length;s<o;s++){const o=a[s];n[s]=t(e[o],o,s,i)}}else n=[];return n}function hs(e,t){for(let a=0;a<t.length;a++){const s=t[a];if(g(s))for(let t=0;t<s.length;t++)e[s[t].name]=s[t].fn;else s&&(e[s.name]=s.key?(...e)=>{const t=s.fn(...e);return t&&(t.key=s.key),t}:s.fn)}return e}function ps(e,t,a={},s,n){if(la.ce||la.parent&&Va(la.parent)&&la.parent.ce)return"default"!==t&&(a.name=t),En(),Mn(kn,null,[Vn("slot",a,s&&s())],64);let i=e[t];i&&i._c&&(i._d=!1),En();const o=i&&fs(i(a)),l=a.key||o&&o.key,r=Mn(kn,{key:(l&&!x(l)?l:`_${t}`)+(!o&&s?"_fb":"")},o||(s?s():[]),o&&1===e._?64:-2);return!n&&r.scopeId&&(r.slotScopeIds=[r.scopeId+"-s"]),i&&i._c&&(i._d=!0),r}function fs(e){return e.some((e=>!Ln(e)||e.type!==Tn&&!(e.type===kn&&!fs(e.children))))?e:null}const ms=e=>e?oi(e)?hi(e):ms(e.parent):null,gs=h(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>ms(e.parent),$root:e=>ms(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Ts(e),$forceUpdate:e=>e.f||(e.f=()=>{ta(e.update)}),$nextTick:e=>e.n||(e.n=ea.bind(e.proxy)),$watch:e=>pn.bind(e)}),vs=(e,t)=>e!==o&&!e.__isScriptSetup&&m(e,t),bs={get({_:e},t){if("__v_skip"===t)return!0;const{ctx:a,setupState:s,data:n,props:i,accessCache:l,type:r,appContext:c}=e;let u;if("$"!==t[0]){const r=l[t];if(void 0!==r)switch(r){case 1:return s[t];case 2:return n[t];case 4:return a[t];case 3:return i[t]}else{if(vs(s,t))return l[t]=1,s[t];if(n!==o&&m(n,t))return l[t]=2,n[t];if((u=e.propsOptions[0])&&m(u,t))return l[t]=3,i[t];if(a!==o&&m(a,t))return l[t]=4,a[t];Ss&&(l[t]=0)}}const d=gs[t];let h,p;return d?("$attrs"===t&&Re(e.attrs,0,""),d(e)):(h=r.__cssModules)&&(h=h[t])?h:a!==o&&m(a,t)?(l[t]=4,a[t]):(p=c.config.globalProperties,m(p,t)?p[t]:void 0)},set({_:e},t,a){const{data:s,setupState:n,ctx:i}=e;return vs(n,t)?(n[t]=a,!0):s!==o&&m(s,t)?(s[t]=a,!0):!(m(e.props,t)||"$"===t[0]&&t.slice(1)in e||(i[t]=a,0))},has({_:{data:e,setupState:t,accessCache:a,ctx:s,appContext:n,propsOptions:i}},l){let r;return!!a[l]||e!==o&&m(e,l)||vs(t,l)||(r=i[0])&&m(r,l)||m(s,l)||m(gs,l)||m(n.config.globalProperties,l)},defineProperty(e,t,a){return null!=a.get?e._.accessCache[t]=0:m(a,"value")&&this.set(e,t,a.value,null),Reflect.defineProperty(e,t,a)}};function ys(){return ws().slots}function _s(){return ws().attrs}function ws(){const e=ti();return e.setupContext||(e.setupContext=di(e))}function xs(e){return g(e)?e.reduce(((e,t)=>(e[t]=null,e)),{}):e}let Ss=!0;function ks(e,t,a){Ut(g(e)?e.map((e=>e.bind(t.proxy))):e.bind(t.proxy),t,a)}function Cs(e,t,a,s){let n=s.includes(".")?fn(a,s):()=>a[s];if(w(e)){const a=t[e];_(a)&&dn(n,a)}else if(_(e))dn(n,e.bind(a));else if(S(e))if(g(e))e.forEach((e=>Cs(e,t,a,s)));else{const s=_(e.handler)?e.handler.bind(a):t[e.handler];_(s)&&dn(n,s,e)}}function Ts(e){const t=e.type,{mixins:a,extends:s}=t,{mixins:n,optionsCache:i,config:{optionMergeStrategies:o}}=e.appContext,l=i.get(t);let r;return l?r=l:n.length||a||s?(r={},n.length&&n.forEach((e=>Bs(r,e,o,!0))),Bs(r,t,o)):r=t,S(t)&&i.set(t,r),r}function Bs(e,t,a,s=!1){const{mixins:n,extends:i}=t;i&&Bs(e,i,a,!0),n&&n.forEach((t=>Bs(e,t,a,!0)));for(const o in t)if(s&&"expose"===o);else{const s=As[o]||a&&a[o];e[o]=s?s(e[o],t[o]):t[o]}return e}const As={data:Is,props:Ds,emits:Ds,methods:Os,computed:Os,beforeCreate:Ps,created:Ps,beforeMount:Ps,mounted:Ps,beforeUpdate:Ps,updated:Ps,beforeDestroy:Ps,beforeUnmount:Ps,destroyed:Ps,unmounted:Ps,activated:Ps,deactivated:Ps,errorCaptured:Ps,serverPrefetch:Ps,components:Os,directives:Os,watch:function(e,t){if(!e)return t;if(!t)return e;const a=h(Object.create(null),e);for(const s in t)a[s]=Ps(e[s],t[s]);return a},provide:Is,inject:function(e,t){return Os(Es(e),Es(t))}};function Is(e,t){return t?e?function(){return h(_(e)?e.call(this,this):e,_(t)?t.call(this,this):t)}:t:e}function Es(e){if(g(e)){const t={};for(let a=0;a<e.length;a++)t[e[a]]=e[a];return t}return e}function Ps(e,t){return e?[...new Set([].concat(e,t))]:t}function Os(e,t){return e?h(Object.create(null),e,t):t}function Ds(e,t){return e?g(e)&&g(t)?[...new Set([...e,...t])]:h(Object.create(null),xs(e),xs(null!=t?t:{})):t}function $s(){return{app:null,config:{isNativeTag:c,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Ms=0;function Ls(e,t){return function(t,a=null){_(t)||(t=h({},t)),null==a||S(a)||(a=null);const s=$s(),n=new WeakSet,i=[];let o=!1;const l=s.app={_uid:Ms++,_component:t,_props:a,_container:null,_context:s,_instance:null,version:mi,get config(){return s.config},set config(e){},use:(e,...t)=>(n.has(e)||(e&&_(e.install)?(n.add(e),e.install(l,...t)):_(e)&&(n.add(e),e(l,...t))),l),mixin:e=>(s.mixins.includes(e)||s.mixins.push(e),l),component:(e,t)=>t?(s.components[e]=t,l):s.components[e],directive:(e,t)=>t?(s.directives[e]=t,l):s.directives[e],mount(n,i,r){if(!o){const i=l._ceVNode||Vn(t,a);return i.appContext=s,!0===r?r="svg":!1===r&&(r=void 0),e(i,n,r),o=!0,l._container=n,n.__vue_app__=l,hi(i.component)}},onUnmount(e){i.push(e)},unmount(){o&&(Ut(i,l._instance,16),e(null,l._container),delete l._container.__vue_app__)},provide:(e,t)=>(s.provides[e]=t,l),runWithContext(e){const t=Ns;Ns=l;try{return e()}finally{Ns=t}}};return l}}let Ns=null;function Rs(e,t){if(ei){let a=ei.provides;const s=ei.parent&&ei.parent.provides;s===a&&(a=ei.provides=Object.create(s)),a[e]=t}}function js(e,t,a=!1){const s=ei||la;if(s||Ns){const n=Ns?Ns._context.provides:s?null==s.parent?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(n&&e in n)return n[e];if(arguments.length>1)return a&&_(t)?t.call(s&&s.proxy):t}}const zs={},Vs=()=>Object.create(zs),Hs=e=>Object.getPrototypeOf(e)===zs;function Fs(e,t,a,s){const[n,i]=e.propsOptions;let l,r=!1;if(t)for(let o in t){if(E(o))continue;const c=t[o];let u;n&&m(n,u=D(o))?i&&i.includes(u)?(l||(l={}))[u]=c:a[u]=c:bn(e.emitsOptions,o)||o in s&&c===s[o]||(s[o]=c,r=!0)}if(i){const t=St(a),s=l||o;for(let o=0;o<i.length;o++){const l=i[o];a[l]=Ws(n,t,l,s[l],e,!m(s,l))}}return r}function Ws(e,t,a,s,n,i){const o=e[a];if(null!=o){const e=m(o,"default");if(e&&void 0===s){const e=o.default;if(o.type!==Function&&!o.skipFactory&&_(e)){const{propsDefaults:i}=n;if(a in i)s=i[a];else{const o=ni(n);s=i[a]=e.call(null,t),o()}}else s=e;n.ce&&n.ce._setProp(a,s)}o[0]&&(i&&!e?s=!1:!o[1]||""!==s&&s!==M(a)||(s=!0))}return s}const Us=new WeakMap;function Gs(e,t,a=!1){const s=a?Us:t.propsCache,n=s.get(e);if(n)return n;const i=e.props,r={},c=[];let u=!1;if(!_(e)){const s=e=>{u=!0;const[a,s]=Gs(e,t,!0);h(r,a),s&&c.push(...s)};!a&&t.mixins.length&&t.mixins.forEach(s),e.extends&&s(e.extends),e.mixins&&e.mixins.forEach(s)}if(!i&&!u)return S(e)&&s.set(e,l),l;if(g(i))for(let l=0;l<i.length;l++){const e=D(i[l]);qs(e)&&(r[e]=o)}else if(i)for(const o in i){const e=D(o);if(qs(e)){const t=i[o],a=r[e]=g(t)||_(t)?{type:t}:h({},t),s=a.type;let n=!1,l=!0;if(g(s))for(let e=0;e<s.length;++e){const t=s[e],a=_(t)&&t.name;if("Boolean"===a){n=!0;break}"String"===a&&(l=!1)}else n=_(s)&&"Boolean"===s.name;a[0]=n,a[1]=l,(n||m(a,"default"))&&c.push(e)}}const d=[r,c];return S(e)&&s.set(e,d),d}function qs(e){return"$"!==e[0]&&!E(e)}const Ks=e=>"_"===e[0]||"$stable"===e,Ys=e=>g(e)?e.map(qn):[qn(e)],Xs=(e,t,a)=>{if(t._n)return t;const s=ua(((...e)=>Ys(t(...e))),a);return s._c=!1,s},Qs=(e,t,a)=>{const s=e._ctx;for(const n in e){if(Ks(n))continue;const a=e[n];if(_(a))t[n]=Xs(0,a,s);else if(null!=a){const e=Ys(a);t[n]=()=>e}}},Js=(e,t)=>{const a=Ys(t);e.slots.default=()=>a},Zs=(e,t,a)=>{for(const s in t)(a||"_"!==s)&&(e[s]=t[s])},en=function(e,t){var a;t&&t.pendingBranch?g(e)?t.effects.push(...e):t.effects.push(e):(g(a=e)?Yt.push(...a):Xt&&-1===a.id?Xt.splice(Qt+1,0,a):1&a.flags||(Yt.push(a),a.flags|=1),aa())};function tn(e){return function(e,t){F().__VUE__=!0;const{insert:a,remove:s,patchProp:n,createElement:i,createText:c,createComment:u,setText:d,setElementText:h,parentNode:p,nextSibling:f,setScopeId:g=r,insertStaticContent:v}=e,b=(e,t,a,s=null,n=null,i=null,o=void 0,l=null,r=!!t.dynamicChildren)=>{if(e===t)return;e&&!Nn(e,t)&&(s=Q(e),G(e,n,i,!0),e=null),-2===t.patchFlag&&(r=!1,t.dynamicChildren=null);const{type:c,ref:u,shapeFlag:d}=t;switch(c){case Cn:y(e,t,a,s);break;case Tn:_(e,t,a,s);break;case Bn:null==e&&w(t,a,s,o);break;case kn:P(e,t,a,s,n,i,o,l,r);break;default:1&d?x(e,t,a,s,n,i,o,l,r):6&d?O(e,t,a,s,n,i,o,l,r):(64&d||128&d)&&c.process(e,t,a,s,n,i,o,l,r,ee)}null!=u&&n&&za(u,e&&e.ref,i,t||e,!t)},y=(e,t,s,n)=>{if(null==e)a(t.el=c(t.children),s,n);else{const a=t.el=e.el;t.children!==e.children&&d(a,t.children)}},_=(e,t,s,n)=>{null==e?a(t.el=u(t.children||""),s,n):t.el=e.el},w=(e,t,a,s)=>{[e.el,e.anchor]=v(e.children,t,a,s,e.el,e.anchor)},x=(e,t,a,s,n,i,o,l,r)=>{"svg"===t.type?o="svg":"math"===t.type&&(o="mathml"),null==e?S(t,a,s,n,i,o,l,r):B(e,t,n,i,o,l,r)},S=(e,t,s,o,l,r,c,u)=>{let d,p;const{props:f,shapeFlag:m,transition:g,dirs:v}=e;if(d=e.el=i(e.type,r,f&&f.is,f),8&m?h(d,e.children):16&m&&T(e.children,d,null,o,l,an(e,r),c,u),v&&ha(e,null,o,"created"),C(d,e,e.scopeId,c,o),f){for(const e in f)"value"===e||E(e)||n(d,e,null,f[e],r,o);"value"in f&&n(d,"value",null,f.value,r),(p=f.onVnodeBeforeMount)&&Qn(p,o,e)}v&&ha(e,null,o,"beforeMount");const b=function(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}(l,g);b&&g.beforeEnter(d),a(d,t,s),((p=f&&f.onVnodeMounted)||b||v)&&en((()=>{p&&Qn(p,o,e),b&&g.enter(d),v&&ha(e,null,o,"mounted")}),l)},C=(e,t,a,s,n)=>{if(a&&g(e,a),s)for(let i=0;i<s.length;i++)g(e,s[i]);if(n){let a=n.subTree;if(t===a||Sn(a.type)&&(a.ssContent===t||a.ssFallback===t)){const t=n.vnode;C(e,t,t.scopeId,t.slotScopeIds,n.parent)}}},T=(e,t,a,s,n,i,o,l,r=0)=>{for(let c=r;c<e.length;c++){const r=e[c]=l?Kn(e[c]):qn(e[c]);b(null,r,t,a,s,n,i,o,l)}},B=(e,t,a,s,i,l,r)=>{const c=t.el=e.el;let{patchFlag:u,dynamicChildren:d,dirs:p}=t;u|=16&e.patchFlag;const f=e.props||o,m=t.props||o;let g;if(a&&sn(a,!1),(g=m.onVnodeBeforeUpdate)&&Qn(g,a,t,e),p&&ha(t,e,a,"beforeUpdate"),a&&sn(a,!0),(f.innerHTML&&null==m.innerHTML||f.textContent&&null==m.textContent)&&h(c,""),d?A(e.dynamicChildren,d,c,a,s,an(t,i),l):r||V(e,t,c,null,a,s,an(t,i),l,!1),u>0){if(16&u)I(c,f,m,a,i);else if(2&u&&f.class!==m.class&&n(c,"class",null,m.class,i),4&u&&n(c,"style",f.style,m.style,i),8&u){const e=t.dynamicProps;for(let t=0;t<e.length;t++){const s=e[t],o=f[s],l=m[s];l===o&&"value"!==s||n(c,s,o,l,i,a)}}1&u&&e.children!==t.children&&h(c,t.children)}else r||null!=d||I(c,f,m,a,i);((g=m.onVnodeUpdated)||p)&&en((()=>{g&&Qn(g,a,t,e),p&&ha(t,e,a,"updated")}),s)},A=(e,t,a,s,n,i,o)=>{for(let l=0;l<t.length;l++){const r=e[l],c=t[l],u=r.el&&(r.type===kn||!Nn(r,c)||70&r.shapeFlag)?p(r.el):a;b(r,c,u,null,s,n,i,o,!0)}},I=(e,t,a,s,i)=>{if(t!==a){if(t!==o)for(const o in t)E(o)||o in a||n(e,o,t[o],null,i,s);for(const o in a){if(E(o))continue;const l=a[o],r=t[o];l!==r&&"value"!==o&&n(e,o,r,l,i,s)}"value"in a&&n(e,"value",t.value,a.value,i)}},P=(e,t,s,n,i,o,l,r,u)=>{const d=t.el=e?e.el:c(""),h=t.anchor=e?e.anchor:c("");let{patchFlag:p,dynamicChildren:f,slotScopeIds:m}=t;m&&(r=r?r.concat(m):m),null==e?(a(d,s,n),a(h,s,n),T(t.children||[],s,h,i,o,l,r,u)):p>0&&64&p&&f&&e.dynamicChildren?(A(e.dynamicChildren,f,s,i,o,l,r),(null!=t.key||i&&t===i.subTree)&&nn(e,t,!0)):V(e,t,s,h,i,o,l,r,u)},O=(e,t,a,s,n,i,o,l,r)=>{t.slotScopeIds=l,null==e?512&t.shapeFlag?n.ctx.activate(t,a,s,o,r):$(t,a,s,n,i,o,r):L(e,t,r)},$=(e,t,a,s,n,i,l)=>{const r=e.component=function(e,t,a){const s=e.type,n=(t?t.appContext:e.appContext)||Jn,i={uid:Zn++,vnode:e,type:s,parent:t,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new le(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(n.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Gs(s,n),emitsOptions:vn(s,n),emit:null,emitted:null,propsDefaults:o,inheritAttrs:s.inheritAttrs,ctx:o,data:o,props:o,attrs:o,slots:o,refs:o,setupState:o,setupContext:null,suspense:a,suspenseId:a?a.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=gn.bind(null,i),e.ce&&e.ce(i),i}(e,s,n);if(Ha(e)&&(r.ctx.renderer=ee),function(e,t=!1,a=!1){t&&si(t);const{props:s,children:n}=e.vnode,i=oi(e);(function(e,t,a,s=!1){const n={},i=Vs();e.propsDefaults=Object.create(null),Fs(e,t,n,i);for(const o in e.propsOptions[0])o in n||(n[o]=void 0);a?e.props=s?n:gt(n):e.type.props?e.props=n:e.props=i,e.attrs=i})(e,s,i,t),((e,t,a)=>{const s=e.slots=Vs();if(32&e.vnode.shapeFlag){const e=t._;e?(Zs(s,t,a),a&&z(s,"_",e,!0)):Qs(t,s)}else t&&Js(e,t)})(e,n,a);i&&function(e,t){const a=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,bs);const{setup:s}=a;if(s){Be();const a=e.setupContext=s.length>1?di(e):null,n=ni(e),i=Wt(s,e,0,[e.props,a]),o=k(i);if(Ae(),n(),!o&&!e.sp||Va(e)||ja(e),o){if(i.then(ii,ii),t)return i.then((t=>{ri(e,t)})).catch((t=>{Gt(t,e,0)}));e.asyncDep=i}else ri(e,i)}else ci(e)}(e,t);t&&si(!1)}(r,!1,l),r.asyncDep){if(n&&n.registerDep(r,N,l),!e.el){const e=r.subTree=Vn(Tn);_(null,e,t,a)}}else N(r,e,t,a,n,i,l)},L=(e,t,a)=>{const s=t.component=e.component;if(function(e,t,a){const{props:s,children:n,component:i}=e,{props:o,children:l,patchFlag:r}=t,c=i.emitsOptions;if(t.dirs||t.transition)return!0;if(!(a&&r>=0))return!(!n&&!l||l&&l.$stable)||s!==o&&(s?!o||xn(s,o,c):!!o);if(1024&r)return!0;if(16&r)return s?xn(s,o,c):!!o;if(8&r){const e=t.dynamicProps;for(let t=0;t<e.length;t++){const a=e[t];if(o[a]!==s[a]&&!bn(c,a))return!0}}return!1}(e,t,a)){if(s.asyncDep&&!s.asyncResolved)return void R(s,t,a);s.next=t,s.update()}else t.el=e.el,s.vnode=t},N=(e,t,a,s,n,i,o)=>{const l=()=>{if(e.isMounted){let{next:t,bu:a,u:s,parent:r,vnode:c}=e;{const a=on(e);if(a)return t&&(t.el=c.el,R(e,t,o)),void a.asyncDep.then((()=>{e.isUnmounted||l()}))}let u,d=t;sn(e,!1),t?(t.el=c.el,R(e,t,o)):t=c,a&&j(a),(u=t.props&&t.props.onVnodeBeforeUpdate)&&Qn(u,r,t,c),sn(e,!0);const h=yn(e),f=e.subTree;e.subTree=h,b(f,h,p(f.el),Q(f),e,n,i),t.el=h.el,null===d&&function({vnode:e,parent:t},a){for(;t;){const s=t.subTree;if(s.suspense&&s.suspense.activeBranch===e&&(s.el=e.el),s!==e)break;(e=t.vnode).el=a,t=t.parent}}(e,h.el),s&&en(s,n),(u=t.props&&t.props.onVnodeUpdated)&&en((()=>Qn(u,r,t,c)),n)}else{let o;const{el:l,props:r}=t,{bm:c,m:u,parent:d,root:h,type:p}=e,f=Va(t);sn(e,!1),c&&j(c),!f&&(o=r&&r.onVnodeBeforeMount)&&Qn(o,d,t),sn(e,!0);{h.ce&&h.ce._injectChildStyle(p);const o=e.subTree=yn(e);b(null,o,a,s,e,n,i),t.el=o.el}if(u&&en(u,n),!f&&(o=r&&r.onVnodeMounted)){const e=t;en((()=>Qn(o,d,e)),n)}(256&t.shapeFlag||d&&Va(d.vnode)&&256&d.vnode.shapeFlag)&&e.a&&en(e.a,n),e.isMounted=!0,t=a=s=null}};e.scope.on();const r=e.effect=new he(l);e.scope.off();const c=e.update=r.run.bind(r),u=e.job=r.runIfDirty.bind(r);u.i=e,u.id=e.uid,r.scheduler=()=>ta(u),sn(e,!0),c()},R=(e,t,a)=>{t.component=e;const s=e.vnode.props;e.vnode=t,e.next=null,function(e,t,a,s){const{props:n,attrs:i,vnode:{patchFlag:o}}=e,l=St(n),[r]=e.propsOptions;let c=!1;if(!(s||o>0)||16&o){let s;Fs(e,t,n,i)&&(c=!0);for(const i in l)t&&(m(t,i)||(s=M(i))!==i&&m(t,s))||(r?!a||void 0===a[i]&&void 0===a[s]||(n[i]=Ws(r,l,i,void 0,e,!0)):delete n[i]);if(i!==l)for(const e in i)t&&m(t,e)||(delete i[e],c=!0)}else if(8&o){const a=e.vnode.dynamicProps;for(let s=0;s<a.length;s++){let o=a[s];if(bn(e.emitsOptions,o))continue;const u=t[o];if(r)if(m(i,o))u!==i[o]&&(i[o]=u,c=!0);else{const t=D(o);n[t]=Ws(r,l,t,u,e,!1)}else u!==i[o]&&(i[o]=u,c=!0)}}c&&je(e.attrs,"set","")}(e,t.props,s,a),((e,t,a)=>{const{vnode:s,slots:n}=e;let i=!0,l=o;if(32&s.shapeFlag){const e=t._;e?a&&1===e?i=!1:Zs(n,t,a):(i=!t.$stable,Qs(t,n)),l=t}else t&&(Js(e,t),l={default:1});if(i)for(const o in n)Ks(o)||null!=l[o]||delete n[o]})(e,t.children,a),Be(),sa(e),Ae()},V=(e,t,a,s,n,i,o,l,r=!1)=>{const c=e&&e.children,u=e?e.shapeFlag:0,d=t.children,{patchFlag:p,shapeFlag:f}=t;if(p>0){if(128&p)return void W(c,d,a,s,n,i,o,l,r);if(256&p)return void H(c,d,a,s,n,i,o,l,r)}8&f?(16&u&&X(c,n,i),d!==c&&h(a,d)):16&u?16&f?W(c,d,a,s,n,i,o,l,r):X(c,n,i,!0):(8&u&&h(a,""),16&f&&T(d,a,s,n,i,o,l,r))},H=(e,t,a,s,n,i,o,r,c)=>{t=t||l;const u=(e=e||l).length,d=t.length,h=Math.min(u,d);let p;for(p=0;p<h;p++){const s=t[p]=c?Kn(t[p]):qn(t[p]);b(e[p],s,a,null,n,i,o,r,c)}u>d?X(e,n,i,!0,!1,h):T(t,a,s,n,i,o,r,c,h)},W=(e,t,a,s,n,i,o,r,c)=>{let u=0;const d=t.length;let h=e.length-1,p=d-1;for(;u<=h&&u<=p;){const s=e[u],l=t[u]=c?Kn(t[u]):qn(t[u]);if(!Nn(s,l))break;b(s,l,a,null,n,i,o,r,c),u++}for(;u<=h&&u<=p;){const s=e[h],l=t[p]=c?Kn(t[p]):qn(t[p]);if(!Nn(s,l))break;b(s,l,a,null,n,i,o,r,c),h--,p--}if(u>h){if(u<=p){const e=p+1,l=e<d?t[e].el:s;for(;u<=p;)b(null,t[u]=c?Kn(t[u]):qn(t[u]),a,l,n,i,o,r,c),u++}}else if(u>p)for(;u<=h;)G(e[u],n,i,!0),u++;else{const f=u,m=u,g=new Map;for(u=m;u<=p;u++){const e=t[u]=c?Kn(t[u]):qn(t[u]);null!=e.key&&g.set(e.key,u)}let v,y=0;const _=p-m+1;let w=!1,x=0;const S=new Array(_);for(u=0;u<_;u++)S[u]=0;for(u=f;u<=h;u++){const s=e[u];if(y>=_){G(s,n,i,!0);continue}let l;if(null!=s.key)l=g.get(s.key);else for(v=m;v<=p;v++)if(0===S[v-m]&&Nn(s,t[v])){l=v;break}void 0===l?G(s,n,i,!0):(S[l-m]=u+1,l>=x?x=l:w=!0,b(s,t[l],a,null,n,i,o,r,c),y++)}const k=w?function(e){const t=e.slice(),a=[0];let s,n,i,o,l;const r=e.length;for(s=0;s<r;s++){const r=e[s];if(0!==r){if(n=a[a.length-1],e[n]<r){t[s]=n,a.push(s);continue}for(i=0,o=a.length-1;i<o;)l=i+o>>1,e[a[l]]<r?i=l+1:o=l;r<e[a[i]]&&(i>0&&(t[s]=a[i-1]),a[i]=s)}}for(i=a.length,o=a[i-1];i-- >0;)a[i]=o,o=t[o];return a}(S):l;for(v=k.length-1,u=_-1;u>=0;u--){const e=m+u,l=t[e],h=e+1<d?t[e+1].el:s;0===S[u]?b(null,l,a,h,n,i,o,r,c):w&&(v<0||u!==k[v]?U(l,a,h,2):v--)}}},U=(e,t,s,n,i=null)=>{const{el:o,type:l,transition:r,children:c,shapeFlag:u}=e;if(6&u)U(e.component.subTree,t,s,n);else if(128&u)e.suspense.move(t,s,n);else if(64&u)l.move(e,t,s,ee);else if(l!==kn)if(l!==Bn)if(2!==n&&1&u&&r)if(0===n)r.beforeEnter(o),a(o,t,s),en((()=>r.enter(o)),i);else{const{leave:e,delayLeave:n,afterLeave:i}=r,l=()=>a(o,t,s),c=()=>{e(o,(()=>{l(),i&&i()}))};n?n(o,l,c):c()}else a(o,t,s);else(({el:e,anchor:t},s,n)=>{let i;for(;e&&e!==t;)i=f(e),a(e,s,n),e=i;a(t,s,n)})(e,t,s);else{a(o,t,s);for(let e=0;e<c.length;e++)U(c[e],t,s,n);a(e.anchor,t,s)}},G=(e,t,a,s=!1,n=!1)=>{const{type:i,props:o,ref:l,children:r,dynamicChildren:c,shapeFlag:u,patchFlag:d,dirs:h,cacheIndex:p}=e;if(-2===d&&(n=!1),null!=l&&za(l,null,a,e,!0),null!=p&&(t.renderCache[p]=void 0),256&u)return void t.ctx.deactivate(e);const f=1&u&&h,m=!Va(e);let g;if(m&&(g=o&&o.onVnodeBeforeUnmount)&&Qn(g,t,e),6&u)Y(e.component,a,s);else{if(128&u)return void e.suspense.unmount(a,s);f&&ha(e,null,t,"beforeUnmount"),64&u?e.type.remove(e,t,a,ee,s):c&&!c.hasOnce&&(i!==kn||d>0&&64&d)?X(c,t,a,!1,!0):(i===kn&&384&d||!n&&16&u)&&X(r,t,a),s&&q(e)}(m&&(g=o&&o.onVnodeUnmounted)||f)&&en((()=>{g&&Qn(g,t,e),f&&ha(e,null,t,"unmounted")}),a)},q=e=>{const{type:t,el:a,anchor:n,transition:i}=e;if(t===kn)return void K(a,n);if(t===Bn)return void(({el:e,anchor:t})=>{let a;for(;e&&e!==t;)a=f(e),s(e),e=a;s(t)})(e);const o=()=>{s(a),i&&!i.persisted&&i.afterLeave&&i.afterLeave()};if(1&e.shapeFlag&&i&&!i.persisted){const{leave:t,delayLeave:s}=i,n=()=>t(a,o);s?s(e.el,o,n):n()}else o()},K=(e,t)=>{let a;for(;e!==t;)a=f(e),s(e),e=a;s(t)},Y=(e,t,a)=>{const{bum:s,scope:n,job:i,subTree:o,um:l,m:r,a:c}=e;ln(r),ln(c),s&&j(s),n.stop(),i&&(i.flags|=8,G(o,e,t,a)),l&&en(l,t),en((()=>{e.isUnmounted=!0}),t),t&&t.pendingBranch&&!t.isUnmounted&&e.asyncDep&&!e.asyncResolved&&e.suspenseId===t.pendingId&&(t.deps--,0===t.deps&&t.resolve())},X=(e,t,a,s=!1,n=!1,i=0)=>{for(let o=i;o<e.length;o++)G(e[o],t,a,s,n)},Q=e=>{if(6&e.shapeFlag)return Q(e.component.subTree);if(128&e.shapeFlag)return e.suspense.next();const t=f(e.anchor||e.el),a=t&&t[pa];return a?f(a):t};let J=!1;const Z=(e,t,a)=>{null==e?t._vnode&&G(t._vnode,null,null,!0):b(t._vnode||null,e,t,null,null,null,a),t._vnode=e,J||(J=!0,sa(),na(),J=!1)},ee={p:b,um:G,m:U,r:q,mt:$,mc:T,pc:V,pbc:A,n:Q,o:e};return{render:Z,hydrate:undefined,createApp:Ls(Z)}}(e)}function an({type:e,props:t},a){return"svg"===a&&"foreignObject"===e||"mathml"===a&&"annotation-xml"===e&&t&&t.encoding&&t.encoding.includes("html")?void 0:a}function sn({effect:e,job:t},a){a?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function nn(e,t,a=!1){const s=e.children,n=t.children;if(g(s)&&g(n))for(let i=0;i<s.length;i++){const e=s[i];let t=n[i];1&t.shapeFlag&&!t.dynamicChildren&&((t.patchFlag<=0||32===t.patchFlag)&&(t=n[i]=Kn(n[i]),t.el=e.el),a||-2===t.patchFlag||nn(e,t)),t.type===Cn&&(t.el=e.el)}}function on(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:on(t)}function ln(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const rn=Symbol.for("v-scx"),cn=()=>js(rn);function un(e,t){return hn(e,null,t)}function dn(e,t,a){return hn(e,t,a)}function hn(e,t,a=o){const{immediate:s,deep:n,flush:i,once:l}=a,c=h({},a),u=t&&s||!t&&"post"!==i;let d;if(li)if("sync"===i){const e=cn();d=e.__watcherHandles||(e.__watcherHandles=[])}else if(!u){const e=()=>{};return e.stop=r,e.resume=r,e.pause=r,e}const f=ei;c.call=(e,t,a)=>Ut(e,f,t,a);let m=!1;"post"===i?c.scheduler=e=>{en(e,f&&f.suspense)}:"sync"!==i&&(m=!0,c.scheduler=(e,t)=>{t?e():ta(e)}),c.augmentJob=e=>{t&&(e.flags|=4),m&&(e.flags|=2,f&&(e.id=f.uid,e.i=f))};const v=function(e,t,a=o){const{immediate:s,deep:n,once:i,scheduler:l,augmentJob:c,call:u}=a,d=e=>n?e:wt(e)||!1===n||0===n?Ft(e,1):Ft(e);let h,f,m,v,b=!1,y=!1;if(Bt(e)?(f=()=>e.value,b=wt(e)):yt(e)?(f=()=>d(e),b=!0):g(e)?(y=!0,b=e.some((e=>yt(e)||wt(e))),f=()=>e.map((e=>Bt(e)?e.value:yt(e)?d(e):_(e)?u?u(e,2):e():void 0))):f=_(e)?t?u?()=>u(e,2):e:()=>{if(m){Be();try{m()}finally{Ae()}}const t=Ht;Ht=h;try{return u?u(e,3,[v]):e(v)}finally{Ht=t}}:r,t&&n){const e=f,t=!0===n?1/0:n;f=()=>Ft(e(),t)}const w=ce(),x=()=>{h.stop(),w&&w.active&&p(w.effects,h)};if(i&&t){const e=t;t=(...t)=>{e(...t),x()}}let S=y?new Array(e.length).fill(zt):zt;const k=e=>{if(1&h.flags&&(h.dirty||e))if(t){const e=h.run();if(n||b||(y?e.some(((e,t)=>R(e,S[t]))):R(e,S))){m&&m();const a=Ht;Ht=h;try{const a=[e,S===zt?void 0:y&&S[0]===zt?[]:S,v];u?u(t,3,a):t(...a),S=e}finally{Ht=a}}}else h.run()};return c&&c(k),h=new he(f),h.scheduler=l?()=>l(k,!1):k,v=e=>function(e,t=!1,a=Ht){if(a){let t=Vt.get(a);t||Vt.set(a,t=[]),t.push(e)}}(e,!1,h),m=h.onStop=()=>{const e=Vt.get(h);if(e){if(u)u(e,4);else for(const t of e)t();Vt.delete(h)}},t?s?k(!0):S=h.run():l?l(k.bind(null,!0),!0):h.run(),x.pause=h.pause.bind(h),x.resume=h.resume.bind(h),x.stop=x,x}(e,t,c);return li&&(d?d.push(v):u&&v()),v}function pn(e,t,a){const s=this.proxy,n=w(e)?e.includes(".")?fn(s,e):()=>s[e]:e.bind(s,s);let i;_(t)?i=t:(i=t.handler,a=t);const o=ni(this),l=hn(n,i.bind(s),a);return o(),l}function fn(e,t){const a=t.split(".");return()=>{let t=e;for(let e=0;e<a.length&&t;e++)t=t[a[e]];return t}}const mn=(e,t)=>"modelValue"===t||"model-value"===t?e.modelModifiers:e[`${t}Modifiers`]||e[`${D(t)}Modifiers`]||e[`${M(t)}Modifiers`];function gn(e,t,...a){if(e.isUnmounted)return;const s=e.vnode.props||o;let n=a;const i=t.startsWith("update:"),l=i&&mn(s,t.slice(7));let r;l&&(l.trim&&(n=a.map((e=>w(e)?e.trim():e))),l.number&&(n=a.map(V)));let c=s[r=N(t)]||s[r=N(D(t))];!c&&i&&(c=s[r=N(M(t))]),c&&Ut(c,e,6,n);const u=s[r+"Once"];if(u){if(e.emitted){if(e.emitted[r])return}else e.emitted={};e.emitted[r]=!0,Ut(u,e,6,n)}}function vn(e,t,a=!1){const s=t.emitsCache,n=s.get(e);if(void 0!==n)return n;const i=e.emits;let o={},l=!1;if(!_(e)){const s=e=>{const a=vn(e,t,!0);a&&(l=!0,h(o,a))};!a&&t.mixins.length&&t.mixins.forEach(s),e.extends&&s(e.extends),e.mixins&&e.mixins.forEach(s)}return i||l?(g(i)?i.forEach((e=>o[e]=null)):h(o,i),S(e)&&s.set(e,o),o):(S(e)&&s.set(e,null),null)}function bn(e,t){return!(!e||!u(t))&&(t=t.slice(2).replace(/Once$/,""),m(e,t[0].toLowerCase()+t.slice(1))||m(e,M(t))||m(e,t))}function yn(e){const{type:t,vnode:a,proxy:s,withProxy:n,propsOptions:[i],slots:o,attrs:l,emit:r,render:c,renderCache:u,props:h,data:p,setupState:f,ctx:m,inheritAttrs:g}=e,v=ca(e);let b,y;try{if(4&a.shapeFlag){const e=n||s,t=e;b=qn(c.call(t,e,u,h,f,p,m)),y=l}else{const e=t;b=qn(e.length>1?e(h,{attrs:l,slots:o,emit:r}):e(h,null)),y=t.props?l:_n(l)}}catch(w){An.length=0,Gt(w,e,1),b=Vn(Tn)}let _=b;if(y&&!1!==g){const e=Object.keys(y),{shapeFlag:t}=_;e.length&&7&t&&(i&&e.some(d)&&(y=wn(y,i)),_=Fn(_,y,!1,!0))}return a.dirs&&(_=Fn(_,null,!1,!0),_.dirs=_.dirs?_.dirs.concat(a.dirs):a.dirs),a.transition&&La(_,a.transition),b=_,ca(v),b}const _n=e=>{let t;for(const a in e)("class"===a||"style"===a||u(a))&&((t||(t={}))[a]=e[a]);return t},wn=(e,t)=>{const a={};for(const s in e)d(s)&&s.slice(9)in t||(a[s]=e[s]);return a};function xn(e,t,a){const s=Object.keys(t);if(s.length!==Object.keys(e).length)return!0;for(let n=0;n<s.length;n++){const i=s[n];if(t[i]!==e[i]&&!bn(a,i))return!0}return!1}const Sn=e=>e.__isSuspense,kn=Symbol.for("v-fgt"),Cn=Symbol.for("v-txt"),Tn=Symbol.for("v-cmt"),Bn=Symbol.for("v-stc"),An=[];let In=null;function En(e=!1){An.push(In=e?null:[])}let Pn=1;function On(e,t=!1){Pn+=e,e<0&&In&&t&&(In.hasOnce=!0)}function Dn(e){return e.dynamicChildren=Pn>0?In||l:null,An.pop(),In=An[An.length-1]||null,Pn>0&&In&&In.push(e),e}function $n(e,t,a,s,n,i){return Dn(zn(e,t,a,s,n,i,!0))}function Mn(e,t,a,s,n){return Dn(Vn(e,t,a,s,n,!0))}function Ln(e){return!!e&&!0===e.__v_isVNode}function Nn(e,t){return e.type===t.type&&e.key===t.key}const Rn=({key:e})=>null!=e?e:null,jn=({ref:e,ref_key:t,ref_for:a})=>("number"==typeof e&&(e=""+e),null!=e?w(e)||Bt(e)||_(e)?{i:la,r:e,k:t,f:!!a}:e:null);function zn(e,t=null,a=null,s=0,n=null,i=(e===kn?0:1),o=!1,l=!1){const r={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Rn(t),ref:t&&jn(t),scopeId:ra,slotScopeIds:null,children:a,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:s,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:la};return l?(Yn(r,a),128&i&&e.normalize(r)):a&&(r.shapeFlag|=w(a)?8:16),Pn>0&&!o&&In&&(r.patchFlag>0||6&i)&&32!==r.patchFlag&&In.push(r),r}const Vn=function(e,t=null,a=null,s=0,n=null,i=!1){if(e&&e!==ls||(e=Tn),Ln(e)){const s=Fn(e,t,!0);return a&&Yn(s,a),Pn>0&&!i&&In&&(6&s.shapeFlag?In[In.indexOf(e)]=s:In.push(s)),s.patchFlag=-2,s}var o;if(_(o=e)&&"__vccOpts"in o&&(e=e.__vccOpts),t){t=Hn(t);let{class:e,style:a}=t;e&&!w(e)&&(t.class=Y(e)),S(a)&&(xt(a)&&!g(a)&&(a=h({},a)),t.style=W(a))}return zn(e,t,a,s,n,w(e)?1:Sn(e)?128:fa(e)?64:S(e)?4:_(e)?2:0,i,!0)};function Hn(e){return e?xt(e)||Hs(e)?h({},e):e:null}function Fn(e,t,a=!1,s=!1){const{props:n,ref:i,patchFlag:o,children:l,transition:r}=e,c=t?Xn(n||{},t):n,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&Rn(c),ref:t&&t.ref?a&&i?g(i)?i.concat(jn(t)):[i,jn(t)]:jn(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:l,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==kn?-1===o?16:16|o:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:r,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Fn(e.ssContent),ssFallback:e.ssFallback&&Fn(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return r&&s&&La(u,r.clone(u)),u}function Wn(e=" ",t=0){return Vn(Cn,null,e,t)}function Un(e,t){const a=Vn(Bn,null,e);return a.staticCount=t,a}function Gn(e="",t=!1){return t?(En(),Mn(Tn,null,e)):Vn(Tn,null,e)}function qn(e){return null==e||"boolean"==typeof e?Vn(Tn):g(e)?Vn(kn,null,e.slice()):Ln(e)?Kn(e):Vn(Cn,null,String(e))}function Kn(e){return null===e.el&&-1!==e.patchFlag||e.memo?e:Fn(e)}function Yn(e,t){let a=0;const{shapeFlag:s}=e;if(null==t)t=null;else if(g(t))a=16;else if("object"==typeof t){if(65&s){const a=t.default;return void(a&&(a._c&&(a._d=!1),Yn(e,a()),a._c&&(a._d=!0)))}{a=32;const s=t._;s||Hs(t)?3===s&&la&&(1===la.slots._?t._=1:(t._=2,e.patchFlag|=1024)):t._ctx=la}}else _(t)?(t={default:t,_ctx:la},a=32):(t=String(t),64&s?(a=16,t=[Wn(t)]):a=8);e.children=t,e.shapeFlag|=a}function Xn(...e){const t={};for(let a=0;a<e.length;a++){const s=e[a];for(const e in s)if("class"===e)t.class!==s.class&&(t.class=Y([t.class,s.class]));else if("style"===e)t.style=W([t.style,s.style]);else if(u(e)){const a=t[e],n=s[e];!n||a===n||g(a)&&a.includes(n)||(t[e]=a?[].concat(a,n):n)}else""!==e&&(t[e]=s[e])}return t}function Qn(e,t,a,s=null){Ut(e,t,7,[a,s])}const Jn=$s();let Zn=0,ei=null;const ti=()=>ei||la;let ai,si;{const e=F(),t=(t,a)=>{let s;return(s=e[t])||(s=e[t]=[]),s.push(a),e=>{s.length>1?s.forEach((t=>t(e))):s[0](e)}};ai=t("__VUE_INSTANCE_SETTERS__",(e=>ei=e)),si=t("__VUE_SSR_SETTERS__",(e=>li=e))}const ni=e=>{const t=ei;return ai(e),e.scope.on(),()=>{e.scope.off(),ai(t)}},ii=()=>{ei&&ei.scope.off(),ai(null)};function oi(e){return 4&e.vnode.shapeFlag}let li=!1;function ri(e,t,a){_(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:S(t)&&(e.setupState=$t(t)),ci(e)}function ci(e,t,a){const s=e.type;e.render||(e.render=s.render||r);{const t=ni(e);Be();try{!function(e){const t=Ts(e),a=e.proxy,s=e.ctx;Ss=!1,t.beforeCreate&&ks(t.beforeCreate,e,"bc");const{data:n,computed:i,methods:o,watch:l,provide:c,inject:u,created:d,beforeMount:h,mounted:p,beforeUpdate:f,updated:m,activated:v,deactivated:b,beforeDestroy:y,beforeUnmount:w,destroyed:x,unmounted:k,render:C,renderTracked:T,renderTriggered:B,errorCaptured:A,serverPrefetch:I,expose:E,inheritAttrs:P,components:O,directives:D,filters:$}=t;if(u&&function(e,t,a=r){g(e)&&(e=Es(e));for(const s in e){const a=e[s];let n;n=S(a)?"default"in a?js(a.from||s,a.default,!0):js(a.from||s):js(a),Bt(n)?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>n.value,set:e=>n.value=e}):t[s]=n}}(u,s,null),o)for(const r in o){const e=o[r];_(e)&&(s[r]=e.bind(a))}if(n){const t=n.call(a,a);S(t)&&(e.data=mt(t))}if(Ss=!0,i)for(const g in i){const e=i[g],t=_(e)?e.bind(a,a):_(e.get)?e.get.bind(a,a):r,n=!_(e)&&_(e.set)?e.set.bind(a):r,o=pi({get:t,set:n});Object.defineProperty(s,g,{enumerable:!0,configurable:!0,get:()=>o.value,set:e=>o.value=e})}if(l)for(const r in l)Cs(l[r],s,a,r);if(c){const e=_(c)?c.call(a):c;Reflect.ownKeys(e).forEach((t=>{Rs(t,e[t])}))}function M(e,t){g(t)?t.forEach((t=>e(t.bind(a)))):t&&e(t.bind(a))}if(d&&ks(d,e,"c"),M(Ya,h),M(Xa,p),M(Qa,f),M(Ja,m),M(Fa,v),M(Wa,b),M(ns,A),M(ss,T),M(as,B),M(Za,w),M(es,k),M(ts,I),g(E))if(E.length){const t=e.exposed||(e.exposed={});E.forEach((e=>{Object.defineProperty(t,e,{get:()=>a[e],set:t=>a[e]=t})}))}else e.exposed||(e.exposed={});C&&e.render===r&&(e.render=C),null!=P&&(e.inheritAttrs=P),O&&(e.components=O),D&&(e.directives=D),I&&ja(e)}(e)}finally{Ae(),t()}}}const ui={get:(e,t)=>(Re(e,0,""),e[t])};function di(e){return{attrs:new Proxy(e.attrs,ui),slots:e.slots,emit:e.emit,expose:t=>{e.exposed=t||{}}}}function hi(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy($t(kt(e.exposed)),{get:(t,a)=>a in t?t[a]:a in gs?gs[a](e):void 0,has:(e,t)=>t in e||t in gs})):e.proxy}const pi=(e,t)=>{const a=function(e,t,a=!1){let s,n;return _(e)?s=e:(s=e.get,n=e.set),new jt(s,n,a)}(e,0,li);return a};function fi(e,t,a){const s=arguments.length;return 2===s?S(t)&&!g(t)?Ln(t)?Vn(e,null,[t]):Vn(e,t):Vn(e,null,t):(s>3?a=Array.prototype.slice.call(arguments,2):3===s&&Ln(a)&&(a=[a]),Vn(e,t,a))}const mi="3.5.13";let gi;const vi="undefined"!=typeof window&&window.trustedTypes;if(vi)try{gi=vi.createPolicy("vue",{createHTML:e=>e})}catch(Sm){}const bi=gi?e=>gi.createHTML(e):e=>e,yi="undefined"!=typeof document?document:null,_i=yi&&yi.createElement("template"),wi={insert:(e,t,a)=>{t.insertBefore(e,a||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,a,s)=>{const n="svg"===t?yi.createElementNS("http://www.w3.org/2000/svg",e):"mathml"===t?yi.createElementNS("http://www.w3.org/1998/Math/MathML",e):a?yi.createElement(e,{is:a}):yi.createElement(e);return"select"===e&&s&&null!=s.multiple&&n.setAttribute("multiple",s.multiple),n},createText:e=>yi.createTextNode(e),createComment:e=>yi.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>yi.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,a,s,n,i){const o=a?a.previousSibling:t.lastChild;if(n&&(n===i||n.nextSibling))for(;t.insertBefore(n.cloneNode(!0),a),n!==i&&(n=n.nextSibling););else{_i.innerHTML=bi("svg"===s?`<svg>${e}</svg>`:"mathml"===s?`<math>${e}</math>`:e);const n=_i.content;if("svg"===s||"mathml"===s){const e=n.firstChild;for(;e.firstChild;)n.appendChild(e.firstChild);n.removeChild(e)}t.insertBefore(n,a)}return[o?o.nextSibling:t.firstChild,a?a.previousSibling:t.lastChild]}},xi="transition",Si="animation",ki=Symbol("_vtc"),Ci={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Ti=h({},Aa,Ci),Bi=(e=>(e.displayName="Transition",e.props=Ti,e))(((e,{slots:t})=>fi(Pa,function(e){const t={};for(const h in e)h in Ci||(t[h]=e[h]);if(!1===e.css)return t;const{name:a="v",type:s,duration:n,enterFromClass:i=`${a}-enter-from`,enterActiveClass:o=`${a}-enter-active`,enterToClass:l=`${a}-enter-to`,appearFromClass:r=i,appearActiveClass:c=o,appearToClass:u=l,leaveFromClass:d=`${a}-leave-from`,leaveActiveClass:p=`${a}-leave-active`,leaveToClass:f=`${a}-leave-to`}=e,m=function(e){if(null==e)return null;if(S(e))return[Ei(e.enter),Ei(e.leave)];{const t=Ei(e);return[t,t]}}(n),g=m&&m[0],v=m&&m[1],{onBeforeEnter:b,onEnter:y,onEnterCancelled:_,onLeave:w,onLeaveCancelled:x,onBeforeAppear:k=b,onAppear:C=y,onAppearCancelled:T=_}=t,B=(e,t,a,s)=>{e._enterCancelled=s,Oi(e,t?u:l),Oi(e,t?c:o),a&&a()},A=(e,t)=>{e._isLeaving=!1,Oi(e,d),Oi(e,f),Oi(e,p),t&&t()},I=e=>(t,a)=>{const n=e?C:y,o=()=>B(t,e,a);Ai(n,[t,o]),Di((()=>{Oi(t,e?r:i),Pi(t,e?u:l),Ii(n)||Mi(t,s,g,o)}))};return h(t,{onBeforeEnter(e){Ai(b,[e]),Pi(e,i),Pi(e,o)},onBeforeAppear(e){Ai(k,[e]),Pi(e,r),Pi(e,c)},onEnter:I(!1),onAppear:I(!0),onLeave(e,t){e._isLeaving=!0;const a=()=>A(e,t);Pi(e,d),e._enterCancelled?(Pi(e,p),Ri()):(Ri(),Pi(e,p)),Di((()=>{e._isLeaving&&(Oi(e,d),Pi(e,f),Ii(w)||Mi(e,s,v,a))})),Ai(w,[e,a])},onEnterCancelled(e){B(e,!1,void 0,!0),Ai(_,[e])},onAppearCancelled(e){B(e,!0,void 0,!0),Ai(T,[e])},onLeaveCancelled(e){A(e),Ai(x,[e])}})}(e),t))),Ai=(e,t=[])=>{g(e)?e.forEach((e=>e(...t))):e&&e(...t)},Ii=e=>!!e&&(g(e)?e.some((e=>e.length>1)):e.length>1);function Ei(e){return(e=>{const t=w(e)?Number(e):NaN;return isNaN(t)?e:t})(e)}function Pi(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.add(t))),(e[ki]||(e[ki]=new Set)).add(t)}function Oi(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.remove(t)));const a=e[ki];a&&(a.delete(t),a.size||(e[ki]=void 0))}function Di(e){requestAnimationFrame((()=>{requestAnimationFrame(e)}))}let $i=0;function Mi(e,t,a,s){const n=e._endId=++$i,i=()=>{n===e._endId&&s()};if(null!=a)return setTimeout(i,a);const{type:o,timeout:l,propCount:r}=function(e,t){const a=window.getComputedStyle(e),s=e=>(a[e]||"").split(", "),n=s(`${xi}Delay`),i=s(`${xi}Duration`),o=Li(n,i),l=s(`${Si}Delay`),r=s(`${Si}Duration`),c=Li(l,r);let u=null,d=0,h=0;t===xi?o>0&&(u=xi,d=o,h=i.length):t===Si?c>0&&(u=Si,d=c,h=r.length):(d=Math.max(o,c),u=d>0?o>c?xi:Si:null,h=u?u===xi?i.length:r.length:0);return{type:u,timeout:d,propCount:h,hasTransform:u===xi&&/\b(transform|all)(,|$)/.test(s(`${xi}Property`).toString())}}(e,t);if(!o)return s();const c=o+"end";let u=0;const d=()=>{e.removeEventListener(c,h),i()},h=t=>{t.target===e&&++u>=r&&d()};setTimeout((()=>{u<r&&d()}),l+1),e.addEventListener(c,h)}function Li(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map(((t,a)=>Ni(t)+Ni(e[a]))))}function Ni(e){return"auto"===e?0:1e3*Number(e.slice(0,-1).replace(",","."))}function Ri(){return document.body.offsetHeight}const ji=Symbol("_vod"),zi=Symbol("_vsh"),Vi={beforeMount(e,{value:t},{transition:a}){e[ji]="none"===e.style.display?"":e.style.display,a&&t?a.beforeEnter(e):Hi(e,t)},mounted(e,{value:t},{transition:a}){a&&t&&a.enter(e)},updated(e,{value:t,oldValue:a},{transition:s}){!t!=!a&&(s?t?(s.beforeEnter(e),Hi(e,!0),s.enter(e)):s.leave(e,(()=>{Hi(e,!1)})):Hi(e,t))},beforeUnmount(e,{value:t}){Hi(e,t)}};function Hi(e,t){e.style.display=t?e[ji]:"none",e[zi]=!t}const Fi=Symbol(""),Wi=/(^|;)\s*display\s*:/,Ui=/\s*!important$/;function Gi(e,t,a){if(g(a))a.forEach((a=>Gi(e,t,a)));else if(null==a&&(a=""),t.startsWith("--"))e.setProperty(t,a);else{const s=function(e,t){const a=Ki[t];if(a)return a;let s=D(t);if("filter"!==s&&s in e)return Ki[t]=s;s=L(s);for(let n=0;n<qi.length;n++){const a=qi[n]+s;if(a in e)return Ki[t]=a}return t}(e,t);Ui.test(a)?e.setProperty(M(s),a.replace(Ui,""),"important"):e[s]=a}}const qi=["Webkit","Moz","ms"],Ki={},Yi="http://www.w3.org/1999/xlink";function Xi(e,t,a,s,n,i=Q(t)){s&&t.startsWith("xlink:")?null==a?e.removeAttributeNS(Yi,t.slice(6,t.length)):e.setAttributeNS(Yi,t,a):null==a||i&&!J(a)?e.removeAttribute(t):e.setAttribute(t,i?"":x(a)?String(a):a)}function Qi(e,t,a,s,n){if("innerHTML"===t||"textContent"===t)return void(null!=a&&(e[t]="innerHTML"===t?bi(a):a));const i=e.tagName;if("value"===t&&"PROGRESS"!==i&&!i.includes("-")){const s="OPTION"===i?e.getAttribute("value")||"":e.value,n=null==a?"checkbox"===e.type?"on":"":String(a);return s===n&&"_value"in e||(e.value=n),null==a&&e.removeAttribute(t),void(e._value=a)}let o=!1;if(""===a||null==a){const s=typeof e[t];"boolean"===s?a=J(a):null==a&&"string"===s?(a="",o=!0):"number"===s&&(a=0,o=!0)}try{e[t]=a}catch(Sm){}o&&e.removeAttribute(n||t)}function Ji(e,t,a,s){e.addEventListener(t,a,s)}const Zi=Symbol("_vei");const eo=/(?:Once|Passive|Capture)$/;let to=0;const ao=Promise.resolve(),so=()=>to||(ao.then((()=>to=0)),to=Date.now()),no=e=>111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,io=e=>{const t=e.props["onUpdate:modelValue"]||!1;return g(t)?e=>j(t,e):t};function oo(e){e.target.composing=!0}function lo(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const ro=Symbol("_assign"),co={created(e,{modifiers:{lazy:t,trim:a,number:s}},n){e[ro]=io(n);const i=s||n.props&&"number"===n.props.type;Ji(e,t?"change":"input",(t=>{if(t.target.composing)return;let s=e.value;a&&(s=s.trim()),i&&(s=V(s)),e[ro](s)})),a&&Ji(e,"change",(()=>{e.value=e.value.trim()})),t||(Ji(e,"compositionstart",oo),Ji(e,"compositionend",lo),Ji(e,"change",lo))},mounted(e,{value:t}){e.value=null==t?"":t},beforeUpdate(e,{value:t,oldValue:a,modifiers:{lazy:s,trim:n,number:i}},o){if(e[ro]=io(o),e.composing)return;const l=null==t?"":t;if((!i&&"number"!==e.type||/^0\d/.test(e.value)?e.value:V(e.value))!==l){if(document.activeElement===e&&"range"!==e.type){if(s&&t===a)return;if(n&&e.value.trim()===l)return}e.value=l}}},uo={deep:!0,created(e,t,a){e[ro]=io(a),Ji(e,"change",(()=>{const t=e._modelValue,a=go(e),s=e.checked,n=e[ro];if(g(t)){const e=ee(t,a),i=-1!==e;if(s&&!i)n(t.concat(a));else if(!s&&i){const a=[...t];a.splice(e,1),n(a)}}else if(b(t)){const e=new Set(t);s?e.add(a):e.delete(a),n(e)}else n(vo(e,s))}))},mounted:ho,beforeUpdate(e,t,a){e[ro]=io(a),ho(e,t,a)}};function ho(e,{value:t,oldValue:a},s){let n;if(e._modelValue=t,g(t))n=ee(t,s.props.value)>-1;else if(b(t))n=t.has(s.props.value);else{if(t===a)return;n=Z(t,vo(e,!0))}e.checked!==n&&(e.checked=n)}const po={created(e,{value:t},a){e.checked=Z(t,a.props.value),e[ro]=io(a),Ji(e,"change",(()=>{e[ro](go(e))}))},beforeUpdate(e,{value:t,oldValue:a},s){e[ro]=io(s),t!==a&&(e.checked=Z(t,s.props.value))}},fo={deep:!0,created(e,{value:t,modifiers:{number:a}},s){const n=b(t);Ji(e,"change",(()=>{const t=Array.prototype.filter.call(e.options,(e=>e.selected)).map((e=>a?V(go(e)):go(e)));e[ro](e.multiple?n?new Set(t):t:t[0]),e._assigning=!0,ea((()=>{e._assigning=!1}))})),e[ro]=io(s)},mounted(e,{value:t}){mo(e,t)},beforeUpdate(e,t,a){e[ro]=io(a)},updated(e,{value:t}){e._assigning||mo(e,t)}};function mo(e,t){const a=e.multiple,s=g(t);if(!a||s||b(t)){for(let n=0,i=e.options.length;n<i;n++){const i=e.options[n],o=go(i);if(a)if(s){const e=typeof o;i.selected="string"===e||"number"===e?t.some((e=>String(e)===String(o))):ee(t,o)>-1}else i.selected=t.has(o);else if(Z(go(i),t))return void(e.selectedIndex!==n&&(e.selectedIndex=n))}a||-1===e.selectedIndex||(e.selectedIndex=-1)}}function go(e){return"_value"in e?e._value:e.value}function vo(e,t){const a=t?"_trueValue":"_falseValue";return a in e?e[a]:t}const bo=["ctrl","shift","alt","meta"],yo={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&0!==e.button,middle:e=>"button"in e&&1!==e.button,right:e=>"button"in e&&2!==e.button,exact:(e,t)=>bo.some((a=>e[`${a}Key`]&&!t.includes(a)))},_o=(e,t)=>{const a=e._withMods||(e._withMods={}),s=t.join(".");return a[s]||(a[s]=(a,...s)=>{for(let e=0;e<t.length;e++){const s=yo[t[e]];if(s&&s(a,t))return}return e(a,...s)})},wo={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},xo=(e,t)=>{const a=e._withKeys||(e._withKeys={}),s=t.join(".");return a[s]||(a[s]=a=>{if(!("key"in a))return;const s=M(a.key);return t.some((e=>e===s||wo[e]===s))?e(a):void 0})},So=h({patchProp:(e,t,a,s,n,i)=>{const o="svg"===n;"class"===t?function(e,t,a){const s=e[ki];s&&(t=(t?[t,...s]:[...s]).join(" ")),null==t?e.removeAttribute("class"):a?e.setAttribute("class",t):e.className=t}(e,s,o):"style"===t?function(e,t,a){const s=e.style,n=w(a);let i=!1;if(a&&!n){if(t)if(w(t))for(const e of t.split(";")){const t=e.slice(0,e.indexOf(":")).trim();null==a[t]&&Gi(s,t,"")}else for(const e in t)null==a[e]&&Gi(s,e,"");for(const e in a)"display"===e&&(i=!0),Gi(s,e,a[e])}else if(n){if(t!==a){const e=s[Fi];e&&(a+=";"+e),s.cssText=a,i=Wi.test(a)}}else t&&e.removeAttribute("style");ji in e&&(e[ji]=i?s.display:"",e[zi]&&(s.display="none"))}(e,a,s):u(t)?d(t)||function(e,t,a,s,n=null){const i=e[Zi]||(e[Zi]={}),o=i[t];if(s&&o)o.value=s;else{const[a,l]=function(e){let t;if(eo.test(e)){let a;for(t={};a=e.match(eo);)e=e.slice(0,e.length-a[0].length),t[a[0].toLowerCase()]=!0}return[":"===e[2]?e.slice(3):M(e.slice(2)),t]}(t);if(s){const o=i[t]=function(e,t){const a=e=>{if(e._vts){if(e._vts<=a.attached)return}else e._vts=Date.now();Ut(function(e,t){if(g(t)){const a=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{a.call(e),e._stopped=!0},t.map((e=>t=>!t._stopped&&e&&e(t)))}return t}(e,a.value),t,5,[e])};return a.value=e,a.attached=so(),a}(s,n);Ji(e,a,o,l)}else o&&(function(e,t,a,s){e.removeEventListener(t,a,s)}(e,a,o,l),i[t]=void 0)}}(e,t,0,s,i):("."===t[0]?(t=t.slice(1),1):"^"===t[0]?(t=t.slice(1),0):function(e,t,a,s){if(s)return"innerHTML"===t||"textContent"===t||!!(t in e&&no(t)&&_(a));if("spellcheck"===t||"draggable"===t||"translate"===t)return!1;if("form"===t)return!1;if("list"===t&&"INPUT"===e.tagName)return!1;if("type"===t&&"TEXTAREA"===e.tagName)return!1;if("width"===t||"height"===t){const t=e.tagName;if("IMG"===t||"VIDEO"===t||"CANVAS"===t||"SOURCE"===t)return!1}return(!no(t)||!w(a))&&t in e}(e,t,s,o))?(Qi(e,t,s),e.tagName.includes("-")||"value"!==t&&"checked"!==t&&"selected"!==t||Xi(e,t,s,o,0,"value"!==t)):!e._isVueCE||!/[A-Z]/.test(t)&&w(s)?("true-value"===t?e._trueValue=s:"false-value"===t&&(e._falseValue=s),Xi(e,t,s,o)):Qi(e,D(t),s,0,t)}},wi);let ko,Co;const To=e=>Co=e,Bo=Symbol();function Ao(e){return e&&"object"==typeof e&&"[object Object]"===Object.prototype.toString.call(e)&&"function"!=typeof e.toJSON}var Io,Eo;(Eo=Io||(Io={})).direct="direct",Eo.patchObject="patch object",Eo.patchFunction="patch function";const Po=()=>{};function Oo(e,t,a,s=Po){e.push(t);const n=()=>{const a=e.indexOf(t);a>-1&&(e.splice(a,1),s())};return!a&&ce()&&ue(n),n}function Do(e,...t){e.slice().forEach((e=>{e(...t)}))}const $o=e=>e(),Mo=Symbol(),Lo=Symbol();function No(e,t){e instanceof Map&&t instanceof Map?t.forEach(((t,a)=>e.set(a,t))):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const a in t){if(!t.hasOwnProperty(a))continue;const s=t[a],n=e[a];Ao(n)&&Ao(s)&&e.hasOwnProperty(a)&&!Bt(s)&&!yt(s)?e[a]=No(n,s):e[a]=s}return e}const Ro=Symbol(),{assign:jo}=Object;function zo(e,t,a={},s,n,i){let o;const l=jo({actions:{}},a),r={deep:!0};let c,u,d,h=[],p=[];const f=s.state.value[e];let m;function g(t){let a;c=u=!1,"function"==typeof t?(t(s.state.value[e]),a={type:Io.patchFunction,storeId:e,events:d}):(No(s.state.value[e],t),a={type:Io.patchObject,payload:t,storeId:e,events:d});const n=m=Symbol();ea().then((()=>{m===n&&(c=!0)})),u=!0,Do(h,a,s.state.value[e])}i||f||(s.state.value[e]={}),At({});const v=i?function(){const{state:e}=a,t=e?e():{};this.$patch((e=>{jo(e,t)}))}:Po,b=(t,a="")=>{if(Mo in t)return t[Lo]=a,t;const n=function(){To(s);const a=Array.from(arguments),i=[],o=[];let l;Do(p,{args:a,name:n[Lo],store:y,after:function(e){i.push(e)},onError:function(e){o.push(e)}});try{l=t.apply(this&&this.$id===e?this:y,a)}catch(r){throw Do(o,r),r}return l instanceof Promise?l.then((e=>(Do(i,e),e))).catch((e=>(Do(o,e),Promise.reject(e)))):(Do(i,l),l)};return n[Mo]=!0,n[Lo]=a,n},y=mt({_p:s,$id:e,$onAction:Oo.bind(null,p),$patch:g,$reset:v,$subscribe(t,a={}){const n=Oo(h,t,a.detached,(()=>i())),i=o.run((()=>dn((()=>s.state.value[e]),(s=>{("sync"===a.flush?u:c)&&t({storeId:e,type:Io.direct,events:d},s)}),jo({},r,a))));return n},$dispose:function(){o.stop(),h=[],p=[],s._s.delete(e)}});s._s.set(e,y);const _=(s._a&&s._a.runWithContext||$o)((()=>s._e.run((()=>(o=re()).run((()=>t({action:b})))))));for(const S in _){const t=_[S];if(Bt(t)&&(!Bt(x=t)||!x.effect)||yt(t))i||(!f||Ao(w=t)&&w.hasOwnProperty(Ro)||(Bt(t)?t.value=f[S]:No(t,f[S])),s.state.value[e][S]=t);else if("function"==typeof t){const e=b(t,S);_[S]=e,l.actions[S]=t}}var w,x;return jo(y,_),jo(St(y),_),Object.defineProperty(y,"$state",{get:()=>s.state.value[e],set:e=>{g((t=>{jo(t,e)}))}}),s._p.forEach((e=>{jo(y,o.run((()=>e({store:y,app:s._a,pinia:s,options:l}))))})),f&&i&&a.hydrate&&a.hydrate(y.$state,f),c=!0,u=!0,y}function Vo(e,t,a){let s;const n="function"==typeof t;function i(a,i){return(a=a||(ei||la||Ns?js(Bo,null):null))&&To(a),(a=Co)._s.has(e)||(n?zo(e,t,s,a):function(e,t,a,s){const{state:n,actions:i,getters:o}=t,l=a.state.value[e];let r;r=zo(e,(function(){l||(a.state.value[e]=n?n():{});const t=function(e){const t=g(e)?new Array(e.length):{};for(const a in e)t[a]=Rt(e,a);return t}(a.state.value[e]);return jo(t,i,Object.keys(o||{}).reduce(((t,s)=>(t[s]=kt(pi((()=>{To(a);const t=a._s.get(e);return o[s].call(t,t)}))),t)),{}))}),t,a,0,!0)}(e,s,a)),a._s.get(e)}return s=n?a:t,i.$id=e,i}const Ho=e=>{try{return`https://devpoki.ebrainzone.com/game-server${e}`}catch(t){return console.error("Error building API URL:",t),""}},Fo=e=>{try{return`https://bopoki.ebrainzone.com${e}`}catch(t){return console.error("Error building API URL:",t),""}},Wo=Vo("table",{state:()=>({currentTableId:"",previousTableId:""}),actions:{setTableId(e){this.previousTableId=this.currentTableId,this.currentTableId=e},resetTableId(){this.currentTableId="",this.previousTableId=""}},getters:{hasTableChanged(){return""!==this.previousTableId&&this.previousTableId!==this.currentTableId}},persist:{key:"table-store",storage:localStorage}}),Uo="undefined"!=typeof document;function Go(e){return"object"==typeof e||"displayName"in e||"props"in e||"__vccOpts"in e}const qo=Object.assign;function Ko(e,t){const a={};for(const s in t){const n=t[s];a[s]=Xo(n)?n.map(e):e(n)}return a}const Yo=()=>{},Xo=Array.isArray,Qo=/#/g,Jo=/&/g,Zo=/\//g,el=/=/g,tl=/\?/g,al=/\+/g,sl=/%5B/g,nl=/%5D/g,il=/%5E/g,ol=/%60/g,ll=/%7B/g,rl=/%7C/g,cl=/%7D/g,ul=/%20/g;function dl(e){return encodeURI(""+e).replace(rl,"|").replace(sl,"[").replace(nl,"]")}function hl(e){return dl(e).replace(al,"%2B").replace(ul,"+").replace(Qo,"%23").replace(Jo,"%26").replace(ol,"`").replace(ll,"{").replace(cl,"}").replace(il,"^")}function pl(e){return null==e?"":function(e){return dl(e).replace(Qo,"%23").replace(tl,"%3F")}(e).replace(Zo,"%2F")}function fl(e){try{return decodeURIComponent(""+e)}catch(t){}return""+e}const ml=/\/$/;function gl(e,t,a="/"){let s,n={},i="",o="";const l=t.indexOf("#");let r=t.indexOf("?");return l<r&&l>=0&&(r=-1),r>-1&&(s=t.slice(0,r),i=t.slice(r+1,l>-1?l:t.length),n=e(i)),l>-1&&(s=s||t.slice(0,l),o=t.slice(l,t.length)),s=function(e,t){if(e.startsWith("/"))return e;if(!e)return t;const a=t.split("/"),s=e.split("/"),n=s[s.length-1];".."!==n&&"."!==n||s.push("");let i,o,l=a.length-1;for(i=0;i<s.length;i++)if(o=s[i],"."!==o){if(".."!==o)break;l>1&&l--}return a.slice(0,l).join("/")+"/"+s.slice(i).join("/")}(null!=s?s:t,a),{fullPath:s+(i&&"?")+i+o,path:s,query:n,hash:fl(o)}}function vl(e,t){return t&&e.toLowerCase().startsWith(t.toLowerCase())?e.slice(t.length)||"/":e}function bl(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function yl(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const a in e)if(!_l(e[a],t[a]))return!1;return!0}function _l(e,t){return Xo(e)?wl(e,t):Xo(t)?wl(t,e):e===t}function wl(e,t){return Xo(t)?e.length===t.length&&e.every(((e,a)=>e===t[a])):1===e.length&&e[0]===t}const xl={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Sl,kl,Cl,Tl;(kl=Sl||(Sl={})).pop="pop",kl.push="push",(Tl=Cl||(Cl={})).back="back",Tl.forward="forward",Tl.unknown="";const Bl=/^[^#]+#/;function Al(e,t){return e.replace(Bl,"#")+t}const Il=()=>({left:window.scrollX,top:window.scrollY});function El(e,t){return(history.state?history.state.position-t:-1)+e}const Pl=new Map;function Ol(e,t){const{pathname:a,search:s,hash:n}=t,i=e.indexOf("#");if(i>-1){let t=n.includes(e.slice(i))?e.slice(i).length:1,a=n.slice(t);return"/"!==a[0]&&(a="/"+a),vl(a,"")}return vl(a,e)+s+n}function Dl(e,t,a,s=!1,n=!1){return{back:e,current:t,forward:a,replaced:s,position:window.history.length,scroll:n?Il():null}}function $l(e){return"string"==typeof e||"symbol"==typeof e}const Ml=Symbol("");var Ll,Nl;function Rl(e,t){return qo(new Error,{type:e,[Ml]:!0},t)}function jl(e,t){return e instanceof Error&&Ml in e&&(null==t||!!(e.type&t))}(Nl=Ll||(Ll={}))[Nl.aborted=4]="aborted",Nl[Nl.cancelled=8]="cancelled",Nl[Nl.duplicated=16]="duplicated";const zl="[^/]+?",Vl={sensitive:!1,strict:!1,start:!0,end:!0},Hl=/[.+*?^${}()[\]/\\]/g;function Fl(e,t){let a=0;for(;a<e.length&&a<t.length;){const s=t[a]-e[a];if(s)return s;a++}return e.length<t.length?1===e.length&&80===e[0]?-1:1:e.length>t.length?1===t.length&&80===t[0]?1:-1:0}function Wl(e,t){let a=0;const s=e.score,n=t.score;for(;a<s.length&&a<n.length;){const e=Fl(s[a],n[a]);if(e)return e;a++}if(1===Math.abs(n.length-s.length)){if(Ul(s))return 1;if(Ul(n))return-1}return n.length-s.length}function Ul(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Gl={type:0,value:""},ql=/[a-zA-Z0-9_]/;function Kl(e,t,a){const s=function(e,t){const a=qo({},Vl,t),s=[];let n=a.start?"^":"";const i=[];for(const r of e){const e=r.length?[]:[90];a.strict&&!r.length&&(n+="/");for(let t=0;t<r.length;t++){const s=r[t];let o=40+(a.sensitive?.25:0);if(0===s.type)t||(n+="/"),n+=s.value.replace(Hl,"\\$&"),o+=40;else if(1===s.type){const{value:e,repeatable:a,optional:c,regexp:u}=s;i.push({name:e,repeatable:a,optional:c});const d=u||zl;if(d!==zl){o+=10;try{new RegExp(`(${d})`)}catch(l){throw new Error(`Invalid custom RegExp for param "${e}" (${d}): `+l.message)}}let h=a?`((?:${d})(?:/(?:${d}))*)`:`(${d})`;t||(h=c&&r.length<2?`(?:/${h})`:"/"+h),c&&(h+="?"),n+=h,o+=20,c&&(o+=-8),a&&(o+=-20),".*"===d&&(o+=-50)}e.push(o)}s.push(e)}if(a.strict&&a.end){const e=s.length-1;s[e][s[e].length-1]+=.7000000000000001}a.strict||(n+="/?"),a.end?n+="$":a.strict&&!n.endsWith("/")&&(n+="(?:/|$)");const o=new RegExp(n,a.sensitive?"":"i");return{re:o,score:s,keys:i,parse:function(e){const t=e.match(o),a={};if(!t)return null;for(let s=1;s<t.length;s++){const e=t[s]||"",n=i[s-1];a[n.name]=e&&n.repeatable?e.split("/"):e}return a},stringify:function(t){let a="",s=!1;for(const n of e){s&&a.endsWith("/")||(a+="/"),s=!1;for(const e of n)if(0===e.type)a+=e.value;else if(1===e.type){const{value:i,repeatable:o,optional:l}=e,r=i in t?t[i]:"";if(Xo(r)&&!o)throw new Error(`Provided param "${i}" is an array but it is not repeatable (* or + modifiers)`);const c=Xo(r)?r.join("/"):r;if(!c){if(!l)throw new Error(`Missing required param "${i}"`);n.length<2&&(a.endsWith("/")?a=a.slice(0,-1):s=!0)}a+=c}}return a||"/"}}}(function(e){if(!e)return[[]];if("/"===e)return[[Gl]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(e){throw new Error(`ERR (${a})/"${c}": ${e}`)}let a=0,s=a;const n=[];let i;function o(){i&&n.push(i),i=[]}let l,r=0,c="",u="";function d(){c&&(0===a?i.push({type:0,value:c}):1===a||2===a||3===a?(i.length>1&&("*"===l||"+"===l)&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:c,regexp:u,repeatable:"*"===l||"+"===l,optional:"*"===l||"?"===l})):t("Invalid state to consume buffer"),c="")}function h(){c+=l}for(;r<e.length;)if(l=e[r++],"\\"!==l||2===a)switch(a){case 0:"/"===l?(c&&d(),o()):":"===l?(d(),a=1):h();break;case 4:h(),a=s;break;case 1:"("===l?a=2:ql.test(l)?h():(d(),a=0,"*"!==l&&"?"!==l&&"+"!==l&&r--);break;case 2:")"===l?"\\"==u[u.length-1]?u=u.slice(0,-1)+l:a=3:u+=l;break;case 3:d(),a=0,"*"!==l&&"?"!==l&&"+"!==l&&r--,u="";break;default:t("Unknown state")}else s=a,a=4;return 2===a&&t(`Unfinished custom RegExp for param "${c}"`),d(),o(),n}(e.path),a),n=qo(s,{record:e,parent:t,children:[],alias:[]});return t&&!n.record.aliasOf==!t.record.aliasOf&&t.children.push(n),n}function Yl(e,t){const a={};for(const s of t)s in e&&(a[s]=e[s]);return a}function Xl(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:Ql(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function Ql(e){const t={},a=e.props||!1;if("component"in e)t.default=a;else for(const s in e.components)t[s]="object"==typeof a?a[s]:a;return t}function Jl(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Zl(e){return e.reduce(((e,t)=>qo(e,t.meta)),{})}function er(e,t){const a={};for(const s in e)a[s]=s in t?t[s]:e[s];return a}function tr({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function ar(e){const t={};if(""===e||"?"===e)return t;const a=("?"===e[0]?e.slice(1):e).split("&");for(let s=0;s<a.length;++s){const e=a[s].replace(al," "),n=e.indexOf("="),i=fl(n<0?e:e.slice(0,n)),o=n<0?null:fl(e.slice(n+1));if(i in t){let e=t[i];Xo(e)||(e=t[i]=[e]),e.push(o)}else t[i]=o}return t}function sr(e){let t="";for(let a in e){const s=e[a];(a=hl(a).replace(el,"%3D"),null!=s)?(Xo(s)?s.map((e=>e&&hl(e))):[s&&hl(s)]).forEach((e=>{void 0!==e&&(t+=(t.length?"&":"")+a,null!=e&&(t+="="+e))})):void 0!==s&&(t+=(t.length?"&":"")+a)}return t}function nr(e){const t={};for(const a in e){const s=e[a];void 0!==s&&(t[a]=Xo(s)?s.map((e=>null==e?null:""+e)):null==s?s:""+s)}return t}const ir=Symbol(""),or=Symbol(""),lr=Symbol(""),rr=Symbol(""),cr=Symbol("");function ur(){let e=[];return{add:function(t){return e.push(t),()=>{const a=e.indexOf(t);a>-1&&e.splice(a,1)}},list:()=>e.slice(),reset:function(){e=[]}}}function dr(e,t,a,s,n,i=(e=>e())){const o=s&&(s.enterCallbacks[n]=s.enterCallbacks[n]||[]);return()=>new Promise(((l,r)=>{const c=e=>{var i;!1===e?r(Rl(4,{from:a,to:t})):e instanceof Error?r(e):"string"==typeof(i=e)||i&&"object"==typeof i?r(Rl(2,{from:t,to:e})):(o&&s.enterCallbacks[n]===o&&"function"==typeof e&&o.push(e),l())},u=i((()=>e.call(s&&s.instances[n],t,a,c)));let d=Promise.resolve(u);e.length<3&&(d=d.then(c)),d.catch((e=>r(e)))}))}function hr(e,t,a,s,n=(e=>e())){const i=[];for(const o of e)for(const e in o.components){let l=o.components[e];if("beforeRouteEnter"===t||o.instances[e])if(Go(l)){const r=(l.__vccOpts||l)[t];r&&i.push(dr(r,a,s,o,e,n))}else{let r=l();i.push((()=>r.then((i=>{if(!i)throw new Error(`Couldn't resolve component "${e}" at "${o.path}"`);const l=(r=i).__esModule||"Module"===r[Symbol.toStringTag]||r.default&&Go(r.default)?i.default:i;var r;o.mods[e]=i,o.components[e]=l;const c=(l.__vccOpts||l)[t];return c&&dr(c,a,s,o,e,n)()}))))}}return i}function pr(e){const t=js(lr),a=js(rr),s=pi((()=>{const a=Ot(e.to);return t.resolve(a)})),n=pi((()=>{const{matched:e}=s.value,{length:t}=e,n=e[t-1],i=a.matched;if(!n||!i.length)return-1;const o=i.findIndex(bl.bind(null,n));if(o>-1)return o;const l=mr(e[t-2]);return t>1&&mr(n)===l&&i[i.length-1].path!==l?i.findIndex(bl.bind(null,e[t-2])):o})),i=pi((()=>n.value>-1&&function(e,t){for(const a in t){const s=t[a],n=e[a];if("string"==typeof s){if(s!==n)return!1}else if(!Xo(n)||n.length!==s.length||s.some(((e,t)=>e!==n[t])))return!1}return!0}(a.params,s.value.params))),o=pi((()=>n.value>-1&&n.value===a.matched.length-1&&yl(a.params,s.value.params)));return{route:s,href:pi((()=>s.value.href)),isActive:i,isExactActive:o,navigate:function(a={}){if(function(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey||e.defaultPrevented||void 0!==e.button&&0!==e.button)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}(a)){const a=t[Ot(e.replace)?"replace":"push"](Ot(e.to)).catch(Yo);return e.viewTransition&&"undefined"!=typeof document&&"startViewTransition"in document&&document.startViewTransition((()=>a)),a}return Promise.resolve()}}}const fr=Ra({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:pr,setup(e,{slots:t}){const a=mt(pr(e)),{options:s}=js(lr),n=pi((()=>({[gr(e.activeClass,s.linkActiveClass,"router-link-active")]:a.isActive,[gr(e.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:a.isExactActive})));return()=>{const s=t.default&&(1===(i=t.default(a)).length?i[0]:i);var i;return e.custom?s:fi("a",{"aria-current":a.isExactActive?e.ariaCurrentValue:null,href:a.href,onClick:a.navigate,class:n.value},s)}}});function mr(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const gr=(e,t,a)=>null!=e?e:null!=t?t:a;function vr(e,t){if(!e)return null;const a=e(t);return 1===a.length?a[0]:a}const br=Ra({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:a}){const s=js(cr),n=pi((()=>e.route||s.value)),i=js(or,0),o=pi((()=>{let e=Ot(i);const{matched:t}=n.value;let a;for(;(a=t[e])&&!a.components;)e++;return e})),l=pi((()=>n.value.matched[o.value]));Rs(or,pi((()=>o.value+1))),Rs(ir,l),Rs(cr,n);const r=At();return dn((()=>[r.value,l.value,e.name]),(([e,t,a],[s,n,i])=>{t&&(t.instances[a]=e,n&&n!==t&&e&&e===s&&(t.leaveGuards.size||(t.leaveGuards=n.leaveGuards),t.updateGuards.size||(t.updateGuards=n.updateGuards))),!e||!t||n&&bl(t,n)&&s||(t.enterCallbacks[a]||[]).forEach((t=>t(e)))}),{flush:"post"}),()=>{const s=n.value,i=e.name,o=l.value,c=o&&o.components[i];if(!c)return vr(a.default,{Component:c,route:s});const u=o.props[i],d=u?!0===u?s.params:"function"==typeof u?u(s):u:null,h=fi(c,qo({},d,t,{onVnodeUnmounted:e=>{e.component.isUnmounted&&(o.instances[i]=null)},ref:r}));return vr(a.default,{Component:h,route:s})||h}}});function yr(){return js(lr)}function _r(e){return js(rr)}const wr=Vo("websocket",(()=>{const e=At(null),t=At(null),a=At(!1);let s=0;const n=5,i=At(null),o=At(!1),l=At(!0),r=At(null),c=At(""),u=At(null),d=At(!1),h=Wo(),p=pi((()=>h.currentTableId)),f=_r(),m=(e=>{try{return"wss://devpoki.ebrainzone.com/game-ws"}catch(t){return console.error("Error building WebSocket URL:",t),""}})(),g=pi((()=>f.path.includes("/game")||f.path.includes("/table")));function v(){if(e.value&&e.value.readyState!==WebSocket.CLOSED)console.log("WebSocket 已經連接");else if(o.value)console.log("WebSocket 正在連接中...");else if(l.value){o.value=!0,console.log("嘗試建立 WebSocket 連線...");try{e.value=new WebSocket(m),e.value.onopen=()=>{console.log("WebSocket 連線成功 ✅"),a.value=!0,s=0,o.value=!1,c.value&&k(c.value),g&&p.value&&(console.log("檢測到在遊戲桌頁面，自動訂閱桌子:",p.value),C(p.value)),null===r.value&&(r.value=window.setInterval((()=>{w()}),3e4))},e.value.onmessage=e=>{try{const a=JSON.parse(e.data);t.value=a,"heartbeat"===a.event&&"ok"===a.status&&(d.value=!0,null!==u.value&&(window.clearTimeout(u.value),u.value=null))}catch(a){console.error("解析 WebSocket 訊息失敗:",a)}},e.value.onclose=e=>{console.log(`WebSocket 連線已關閉 ❌ 代碼: ${e.code}, 原因: ${e.reason}`),a.value=!1,o.value=!1,null!==u.value&&(window.clearTimeout(u.value),u.value=null),1e3!==e.code&&1001!==e.code&&l.value&&b()},e.value.onerror=e=>{console.error("WebSocket 錯誤:",e),o.value=!1}}catch(n){console.error("建立 WebSocket 連線失敗:",n),o.value=!1,l.value&&b()}}else console.log("網路離線，無法建立 WebSocket 連線")}function b(){if(s>=n)return void console.warn(`已達最大重連次數 (${n})，停止重試`);null!==i.value&&(window.clearTimeout(i.value),i.value=null);const t=Math.min(1e3*Math.pow(2,s),3e4);s++,console.log(`嘗試在 ${t/1e3} 秒後重新連線... (第 ${s} 次)`),i.value=window.setTimeout((()=>{e.value&&e.value.readyState!==WebSocket.CLOSED&&e.value.readyState!==WebSocket.CLOSING||v()}),t)}function y(){l.value=navigator.onLine,l.value?(console.log("網路已恢復，嘗試重新連接 WebSocket"),a.value||e.value&&e.value.readyState!==WebSocket.CLOSED||(s=0,v())):console.log("網路已斷開，WebSocket 可能會斷開連接")}function _(){null!==r.value&&(window.clearInterval(r.value),r.value=null),null!==u.value&&(window.clearTimeout(u.value),u.value=null)}function w(){if(l.value&&(!a.value||!e.value||e.value.readyState===WebSocket.CLOSED))return console.log("檢測到 WebSocket 未連接，嘗試重新連接"),s=0,void v();if(e.value&&e.value.readyState===WebSocket.OPEN){d.value=!1;const n={event:"heartbeat"};try{e.value.send(JSON.stringify(n)),null!==u.value&&window.clearTimeout(u.value),u.value=window.setTimeout((()=>{if(!d.value){if(console.warn("心跳包無回應，連接可能已斷開，嘗試重新連接"),a.value=!1,e.value){try{e.value.close()}catch(t){console.error("關閉失效的 WebSocket 連接時出錯:",t)}e.value=null}s=0,v()}}),5e3)}catch(t){console.error("發送心跳包失敗:",t),a.value=!1,b()}}}function x(t){e.value&&e.value.readyState===WebSocket.OPEN?e.value.send(JSON.stringify(t)):(console.warn("WebSocket 未連線，無法發送訊息"),a.value||v())}function S(){e.value&&(null!==i.value&&(window.clearTimeout(i.value),i.value=null),_(),e.value.close(1e3,"用戶主動關閉連線"),s=0,e.value=null,a.value=!1)}function k(e){if(e)if(c.value=e,a.value)x({event:"resubscribe",type:"user",user_token:e}),console.log("身分訂閱成功");else{v();const t=setInterval((()=>{a.value&&(clearInterval(t),x({event:"resubscribe",type:"user",user_token:e}),console.log("身分訂閱成功"))}),100)}}function C(e){if(e)if(a.value)x({event:"resubscribe",type:"table_play",table_id:e});else{v();const t=setInterval((()=>{a.value&&(clearInterval(t),x({event:"resubscribe",type:"table_play",table_id:e}))}),100)}}return es((()=>{null!==i.value&&(window.clearTimeout(i.value),i.value=null),window.removeEventListener("online",y),window.removeEventListener("offline",y),_(),S()})),Xa((()=>{l.value=navigator.onLine,window.addEventListener("online",y),window.addEventListener("offline",y)})),{ws:e,messages:t,isConnected:a,connect:v,sendMessage:x,disconnect:S,attemptReconnect:b,forceReconnect:function(){console.log("強制重新連接 WebSocket"),e.value&&(e.value.close(1e3,"強制重新連接"),e.value=null),a.value=!1,s=0,l.value&&v()},checkConnection:w,subscribeToUser:function(e){if(e)if(a.value)x({event:"subscribe",type:"user",user_token:e});else{v();const t=setInterval((()=>{a.value&&(clearInterval(t),x({event:"subscribe",type:"user",user_token:e}))}),100)}else console.log("請輸入有效的使用者 Token!","error")},unsubscribeFromUser:function(e){e&&(c.value===e&&(c.value=""),a.value)&&x({event:"unsubscribe",type:"user",user_token:e})},resubscribeToUser:k,subscribeToTableShow:function(e){if(e)if(a.value)x({event:"subscribe",type:"table_show",table_id:e});else{v();const t=setInterval((()=>{a.value&&(clearInterval(t),x({event:"subscribe",type:"table_show",table_id:e}))}),100)}else console.log("請輸入有效的桌子 ID!","error")},unsubscribeFromTableShow:function(e){e&&a.value&&x({event:"unsubscribe",type:"table_show",table_id:e})},resubscribeToTableShow:function(e){if(e)if(a.value)x({event:"resubscribe",type:"table_show",table_id:e});else{v();const t=setInterval((()=>{a.value&&(clearInterval(t),x({event:"resubscribe",type:"table_show",table_id:e}))}),100)}},subscribeToTablePlay:function(e){if(e)if(a.value)x({event:"subscribe",type:"table_play",table_id:e});else{v();const t=setInterval((()=>{a.value&&(clearInterval(t),x({event:"subscribe",type:"table_play",table_id:e}))}),100)}else console.log("請輸入有效的桌子 ID!","error")},unsubscribeFromTablePlay:function(e){e&&a.value&&x({event:"unsubscribe",type:"table_play",table_id:e})},resubscribeToTablePlay:C,subscribeToTournamentShow:function(e){if(e)if(a.value)x({event:"subscribe",type:"tournament",tournament_ids:e});else{v();const t=setInterval((()=>{a.value&&(clearInterval(t),x({event:"subscribe",type:"tournament",tournament_ids:e}))}),100)}else console.log("請輸入有效的錦標賽 ID!","error")},unsubscribeFromTournamentShow:function(e){e&&a.value&&x({event:"unsubscribe",type:"tournament",tournament_ids:e})},resubscribeToTournamentShow:function(e){if(e)if(a.value)x({event:"resubscribe",type:"tournament",tournament_ids:e});else{v();const t=setInterval((()=>{a.value&&(clearInterval(t),x({event:"resubscribe",type:"tournament",tournament_ids:e}))}),100)}},subscribeChat:function(e,t){if(e)if(a.value)x({event:"subscribe",type:"chat",user_token:e,msg_types:t});else{v();const s=setInterval((()=>{a.value&&(clearInterval(s),x({event:"subscribe",type:"chat",user_token:e,msg_types:t}))}),100)}else console.log("請輸入有效的使用者 Token!","error")},unsubscribeChat:function(e,t){e&&a.value&&x({event:"unsubscribe",type:"chat",user_token:e,msg_types:t})},resubscribeChat:function(e,t){if(e)if(a.value)x({event:"resubscribe",type:"chat",user_token:e,msg_types:t}),console.log("聊天室訂閱成功");else{v();const s=setInterval((()=>{a.value&&(clearInterval(s),x({event:"resubscribe",type:"chat",user_token:e,msg_types:t}),console.log("聊天室訂閱成功"))}),100)}}}})),xr=Ra({__name:"App",setup(e){const t=wr();return Rs("messages",t.messages),Rs("isConnected",t.isConnected),Xa((()=>{})),es((()=>{})),(e,t)=>{const a=os("router-view");return En(),Mn(a)}}}),Sr={},kr=mt({isMobile:window.innerWidth<=768,setIsMobile(e){this.isMobile=e}}),Cr={class:"login-container"},Tr={class:"login-box"},Br={class:"message"},Ar={key:0,class:"spinner"},Ir=(e,t)=>{const a=e.__vccOpts||e;for(const[s,n]of t)a[s]=n;return a},Er=Ir(Ra({__name:"HomeView",setup(e){const t=yr(),a=At(!0),s=At("前端網頁...");return Xa((async()=>{t.push("/")})),(e,t)=>(En(),$n("div",Cr,[zn("div",Tr,[zn("div",Br,[zn("p",null,ae(s.value),1),a.value?(En(),$n("div",Ar)):Gn("",!0)])])]))}}),[["__scopeId","data-v-9221f375"]]),Pr={class:"web-portfolio"},Or={class:"filters"},Dr={class:"projects-container"},$r=["onClick"],Mr={class:"project-info"},Lr=Ir(Ra({__name:"WebPortfolio",setup(e){const t=yr(),a=At("all"),s=At([{id:1,title:"Phaser 太空射擊遊戲",description:"使用 Phaser 3 開發的經典太空射擊遊戲，包含多種敵人類型和武器升級系統",image:"game1.jpg",link:"/games/space-shooter",type:"game"},{id:2,title:"2D 平台跳躍遊戲",description:"具有物理引擎的平台跳躍遊戲，玩家需要收集金幣並避開障礙物",image:"game2.jpg",link:"/games/platform-jumper",type:"game"},{id:3,title:"粒子特效展示",description:"使用 Phaser 的粒子系統創建的各種視覺特效展示",image:"effect1.jpg",link:"/effects/particles",type:"effect"},{id:4,title:"動態光影效果",description:"實現動態光影和色彩變換的視覺特效",image:"effect2.jpg",link:"/effects/lighting",type:"effect"}]),n=pi((()=>"all"===a.value?s.value:s.value.filter((e=>e.type===a.value)))),i=e=>{a.value=e};return Xa((()=>{})),(e,s)=>(En(),$n("div",Pr,[s[4]||(s[4]=zn("header",{class:"header"},[zn("h1",null,"前端作品集"),zn("p",{class:"subtitle"},"Phaser 遊戲與特效展示")],-1)),zn("div",Or,[zn("button",{class:Y(["filter-btn",{active:"all"===a.value}]),onClick:s[0]||(s[0]=e=>i("all"))},"全部 ",2),zn("button",{class:Y(["filter-btn",{active:"game"===a.value}]),onClick:s[1]||(s[1]=e=>i("game"))}," 遊戲 ",2),zn("button",{class:Y(["filter-btn",{active:"effect"===a.value}]),onClick:s[2]||(s[2]=e=>i("effect"))}," 特效 ",2)]),zn("div",Dr,[(En(!0),$n(kn,null,ds(n.value,(e=>(En(),$n("div",{key:e.id,class:"project-card",onClick:a=>{return s=e.link,void t.push(s);var s}},[zn("div",{class:"project-image",style:W({backgroundImage:`url(@/assets/images/${e.image})`})},[zn("div",{class:Y(["project-type",e.type])},ae("game"===e.type?"遊戲":"特效"),3)],4),zn("div",Mr,[zn("h3",null,ae(e.title),1),zn("p",null,ae(e.description),1),s[3]||(s[3]=zn("button",{class:"play-btn"},"立即體驗",-1))])],8,$r)))),128))])]))}}),[["__scopeId","data-v-b530abaf"]]),Nr={class:"mobile-portfolio"},Rr={class:"tabs"},jr={key:0,class:"projects-list"},zr=["onClick"],Vr={class:"project-info"},Hr={key:1,class:"projects-list"},Fr=["onClick"],Wr={class:"project-info"},Ur=Ir(Ra({__name:"MobilePortfolio",setup(e){const t=yr(),a=At("games"),s=At([{id:1,title:"英雄戰爭",description:"經典RPG射擊遊戲，擊敗敵人、收集道具",image:"game1.jpg",link:"game2"},{id:2,title:"方塊消除",description:"消除方塊的遊戲",image:"game2.jpg",link:"game3"}]),n=At([{id:1,title:"粒子特效",description:"多種粒子系統視覺特效展示",image:"effect1.jpg",link:"/effects/particles"},{id:2,title:"光影效果",description:"動態光影和色彩變換的視覺特效",image:"effect2.jpg",link:"/effects/lighting"},{id:3,title:"立體3D選角特效",description:"RPG遊戲選角介面",image:"effect2.jpg",link:"pageA"},{id:4,title:"光影選角特效",description:"RPG遊戲選角介面",image:"effect2.jpg",link:"pageB"}]),i=e=>{t.push(e)},o=e=>{a.value=e};return Xa((()=>{})),(e,t)=>(En(),$n("div",Nr,[t[4]||(t[4]=zn("header",{class:"header"},[zn("h1",null,"前端作品集"),zn("p",{class:"subtitle"},"Phaser 遊戲與特效")],-1)),zn("div",Rr,[zn("button",{class:Y(["tab-btn",{active:"games"===a.value}]),onClick:t[0]||(t[0]=e=>o("games"))}," 遊戲 ",2),zn("button",{class:Y(["tab-btn",{active:"effects"===a.value}]),onClick:t[1]||(t[1]=e=>o("effects"))}," 特效 ",2)]),"games"===a.value?(En(),$n("div",jr,[(En(!0),$n(kn,null,ds(s.value,(e=>(En(),$n("div",{key:e.id,class:"project-item",onClick:t=>i(e.link)},[zn("div",{class:"project-image",style:W({backgroundImage:`url(@/assets/images/${e.image})`})},null,4),zn("div",Vr,[zn("h3",null,ae(e.title),1),zn("p",null,ae(e.description),1),t[2]||(t[2]=zn("div",{class:"play-icon"},"▶",-1))])],8,zr)))),128))])):Gn("",!0),"effects"===a.value?(En(),$n("div",Hr,[(En(!0),$n(kn,null,ds(n.value,(e=>(En(),$n("div",{key:e.id,class:"project-item",onClick:t=>i(e.link)},[zn("div",{class:"project-image",style:W({backgroundImage:`url(@/assets/images/${e.image})`})},null,4),zn("div",Wr,[zn("h3",null,ae(e.title),1),zn("p",null,ae(e.description),1),t[3]||(t[3]=zn("div",{class:"play-icon"},"▶",-1))])],8,Fr)))),128))])):Gn("",!0)]))}}),[["__scopeId","data-v-80eba18b"]]);var Gr="top",qr="bottom",Kr="right",Yr="left",Xr="auto",Qr=[Gr,qr,Kr,Yr],Jr="start",Zr="end",ec="clippingParents",tc="viewport",ac="popper",sc="reference",nc=Qr.reduce((function(e,t){return e.concat([t+"-"+Jr,t+"-"+Zr])}),[]),ic=[].concat(Qr,[Xr]).reduce((function(e,t){return e.concat([t,t+"-"+Jr,t+"-"+Zr])}),[]),oc="beforeRead",lc="read",rc="afterRead",cc="beforeMain",uc="main",dc="afterMain",hc="beforeWrite",pc="write",fc="afterWrite",mc=[oc,lc,rc,cc,uc,dc,hc,pc,fc];function gc(e){return e?(e.nodeName||"").toLowerCase():null}function vc(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function bc(e){return e instanceof vc(e).Element||e instanceof Element}function yc(e){return e instanceof vc(e).HTMLElement||e instanceof HTMLElement}function _c(e){return"undefined"!=typeof ShadowRoot&&(e instanceof vc(e).ShadowRoot||e instanceof ShadowRoot)}const wc={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var a=t.styles[e]||{},s=t.attributes[e]||{},n=t.elements[e];yc(n)&&gc(n)&&(Object.assign(n.style,a),Object.keys(s).forEach((function(e){var t=s[e];!1===t?n.removeAttribute(e):n.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,a={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,a.popper),t.styles=a,t.elements.arrow&&Object.assign(t.elements.arrow.style,a.arrow),function(){Object.keys(t.elements).forEach((function(e){var s=t.elements[e],n=t.attributes[e]||{},i=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:a[e]).reduce((function(e,t){return e[t]="",e}),{});yc(s)&&gc(s)&&(Object.assign(s.style,i),Object.keys(n).forEach((function(e){s.removeAttribute(e)})))}))}},requires:["computeStyles"]};function xc(e){return e.split("-")[0]}var Sc=Math.max,kc=Math.min,Cc=Math.round;function Tc(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function Bc(){return!/^((?!chrome|android).)*safari/i.test(Tc())}function Ac(e,t,a){void 0===t&&(t=!1),void 0===a&&(a=!1);var s=e.getBoundingClientRect(),n=1,i=1;t&&yc(e)&&(n=e.offsetWidth>0&&Cc(s.width)/e.offsetWidth||1,i=e.offsetHeight>0&&Cc(s.height)/e.offsetHeight||1);var o=(bc(e)?vc(e):window).visualViewport,l=!Bc()&&a,r=(s.left+(l&&o?o.offsetLeft:0))/n,c=(s.top+(l&&o?o.offsetTop:0))/i,u=s.width/n,d=s.height/i;return{width:u,height:d,top:c,right:r+u,bottom:c+d,left:r,x:r,y:c}}function Ic(e){var t=Ac(e),a=e.offsetWidth,s=e.offsetHeight;return Math.abs(t.width-a)<=1&&(a=t.width),Math.abs(t.height-s)<=1&&(s=t.height),{x:e.offsetLeft,y:e.offsetTop,width:a,height:s}}function Ec(e,t){var a=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(a&&_c(a)){var s=t;do{if(s&&e.isSameNode(s))return!0;s=s.parentNode||s.host}while(s)}return!1}function Pc(e){return vc(e).getComputedStyle(e)}function Oc(e){return["table","td","th"].indexOf(gc(e))>=0}function Dc(e){return((bc(e)?e.ownerDocument:e.document)||window.document).documentElement}function $c(e){return"html"===gc(e)?e:e.assignedSlot||e.parentNode||(_c(e)?e.host:null)||Dc(e)}function Mc(e){return yc(e)&&"fixed"!==Pc(e).position?e.offsetParent:null}function Lc(e){for(var t=vc(e),a=Mc(e);a&&Oc(a)&&"static"===Pc(a).position;)a=Mc(a);return a&&("html"===gc(a)||"body"===gc(a)&&"static"===Pc(a).position)?t:a||function(e){var t=/firefox/i.test(Tc());if(/Trident/i.test(Tc())&&yc(e)&&"fixed"===Pc(e).position)return null;var a=$c(e);for(_c(a)&&(a=a.host);yc(a)&&["html","body"].indexOf(gc(a))<0;){var s=Pc(a);if("none"!==s.transform||"none"!==s.perspective||"paint"===s.contain||-1!==["transform","perspective"].indexOf(s.willChange)||t&&"filter"===s.willChange||t&&s.filter&&"none"!==s.filter)return a;a=a.parentNode}return null}(e)||t}function Nc(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Rc(e,t,a){return Sc(e,kc(t,a))}function jc(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function zc(e,t){return t.reduce((function(t,a){return t[a]=e,t}),{})}const Vc={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,a=e.state,s=e.name,n=e.options,i=a.elements.arrow,o=a.modifiersData.popperOffsets,l=xc(a.placement),r=Nc(l),c=[Yr,Kr].indexOf(l)>=0?"height":"width";if(i&&o){var u=function(e,t){return jc("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:zc(e,Qr))}(n.padding,a),d=Ic(i),h="y"===r?Gr:Yr,p="y"===r?qr:Kr,f=a.rects.reference[c]+a.rects.reference[r]-o[r]-a.rects.popper[c],m=o[r]-a.rects.reference[r],g=Lc(i),v=g?"y"===r?g.clientHeight||0:g.clientWidth||0:0,b=f/2-m/2,y=u[h],_=v-d[c]-u[p],w=v/2-d[c]/2+b,x=Rc(y,w,_),S=r;a.modifiersData[s]=((t={})[S]=x,t.centerOffset=x-w,t)}},effect:function(e){var t=e.state,a=e.options.element,s=void 0===a?"[data-popper-arrow]":a;null!=s&&("string"!=typeof s||(s=t.elements.popper.querySelector(s)))&&Ec(t.elements.popper,s)&&(t.elements.arrow=s)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Hc(e){return e.split("-")[1]}var Fc={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Wc(e){var t,a=e.popper,s=e.popperRect,n=e.placement,i=e.variation,o=e.offsets,l=e.position,r=e.gpuAcceleration,c=e.adaptive,u=e.roundOffsets,d=e.isFixed,h=o.x,p=void 0===h?0:h,f=o.y,m=void 0===f?0:f,g="function"==typeof u?u({x:p,y:m}):{x:p,y:m};p=g.x,m=g.y;var v=o.hasOwnProperty("x"),b=o.hasOwnProperty("y"),y=Yr,_=Gr,w=window;if(c){var x=Lc(a),S="clientHeight",k="clientWidth";x===vc(a)&&"static"!==Pc(x=Dc(a)).position&&"absolute"===l&&(S="scrollHeight",k="scrollWidth"),(n===Gr||(n===Yr||n===Kr)&&i===Zr)&&(_=qr,m-=(d&&x===w&&w.visualViewport?w.visualViewport.height:x[S])-s.height,m*=r?1:-1),n!==Yr&&(n!==Gr&&n!==qr||i!==Zr)||(y=Kr,p-=(d&&x===w&&w.visualViewport?w.visualViewport.width:x[k])-s.width,p*=r?1:-1)}var C,T=Object.assign({position:l},c&&Fc),B=!0===u?function(e,t){var a=e.x,s=e.y,n=t.devicePixelRatio||1;return{x:Cc(a*n)/n||0,y:Cc(s*n)/n||0}}({x:p,y:m},vc(a)):{x:p,y:m};return p=B.x,m=B.y,r?Object.assign({},T,((C={})[_]=b?"0":"",C[y]=v?"0":"",C.transform=(w.devicePixelRatio||1)<=1?"translate("+p+"px, "+m+"px)":"translate3d("+p+"px, "+m+"px, 0)",C)):Object.assign({},T,((t={})[_]=b?m+"px":"",t[y]=v?p+"px":"",t.transform="",t))}const Uc={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,a=e.options,s=a.gpuAcceleration,n=void 0===s||s,i=a.adaptive,o=void 0===i||i,l=a.roundOffsets,r=void 0===l||l,c={placement:xc(t.placement),variation:Hc(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:n,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,Wc(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:r})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,Wc(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:r})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}};var Gc={passive:!0};const qc={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,a=e.instance,s=e.options,n=s.scroll,i=void 0===n||n,o=s.resize,l=void 0===o||o,r=vc(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&c.forEach((function(e){e.addEventListener("scroll",a.update,Gc)})),l&&r.addEventListener("resize",a.update,Gc),function(){i&&c.forEach((function(e){e.removeEventListener("scroll",a.update,Gc)})),l&&r.removeEventListener("resize",a.update,Gc)}},data:{}};var Kc={left:"right",right:"left",bottom:"top",top:"bottom"};function Yc(e){return e.replace(/left|right|bottom|top/g,(function(e){return Kc[e]}))}var Xc={start:"end",end:"start"};function Qc(e){return e.replace(/start|end/g,(function(e){return Xc[e]}))}function Jc(e){var t=vc(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Zc(e){return Ac(Dc(e)).left+Jc(e).scrollLeft}function eu(e){var t=Pc(e),a=t.overflow,s=t.overflowX,n=t.overflowY;return/auto|scroll|overlay|hidden/.test(a+n+s)}function tu(e){return["html","body","#document"].indexOf(gc(e))>=0?e.ownerDocument.body:yc(e)&&eu(e)?e:tu($c(e))}function au(e,t){var a;void 0===t&&(t=[]);var s=tu(e),n=s===(null==(a=e.ownerDocument)?void 0:a.body),i=vc(s),o=n?[i].concat(i.visualViewport||[],eu(s)?s:[]):s,l=t.concat(o);return n?l:l.concat(au($c(o)))}function su(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function nu(e,t,a){return t===tc?su(function(e,t){var a=vc(e),s=Dc(e),n=a.visualViewport,i=s.clientWidth,o=s.clientHeight,l=0,r=0;if(n){i=n.width,o=n.height;var c=Bc();(c||!c&&"fixed"===t)&&(l=n.offsetLeft,r=n.offsetTop)}return{width:i,height:o,x:l+Zc(e),y:r}}(e,a)):bc(t)?function(e,t){var a=Ac(e,!1,"fixed"===t);return a.top=a.top+e.clientTop,a.left=a.left+e.clientLeft,a.bottom=a.top+e.clientHeight,a.right=a.left+e.clientWidth,a.width=e.clientWidth,a.height=e.clientHeight,a.x=a.left,a.y=a.top,a}(t,a):su(function(e){var t,a=Dc(e),s=Jc(e),n=null==(t=e.ownerDocument)?void 0:t.body,i=Sc(a.scrollWidth,a.clientWidth,n?n.scrollWidth:0,n?n.clientWidth:0),o=Sc(a.scrollHeight,a.clientHeight,n?n.scrollHeight:0,n?n.clientHeight:0),l=-s.scrollLeft+Zc(e),r=-s.scrollTop;return"rtl"===Pc(n||a).direction&&(l+=Sc(a.clientWidth,n?n.clientWidth:0)-i),{width:i,height:o,x:l,y:r}}(Dc(e)))}function iu(e){var t,a=e.reference,s=e.element,n=e.placement,i=n?xc(n):null,o=n?Hc(n):null,l=a.x+a.width/2-s.width/2,r=a.y+a.height/2-s.height/2;switch(i){case Gr:t={x:l,y:a.y-s.height};break;case qr:t={x:l,y:a.y+a.height};break;case Kr:t={x:a.x+a.width,y:r};break;case Yr:t={x:a.x-s.width,y:r};break;default:t={x:a.x,y:a.y}}var c=i?Nc(i):null;if(null!=c){var u="y"===c?"height":"width";switch(o){case Jr:t[c]=t[c]-(a[u]/2-s[u]/2);break;case Zr:t[c]=t[c]+(a[u]/2-s[u]/2)}}return t}function ou(e,t){void 0===t&&(t={});var a=t,s=a.placement,n=void 0===s?e.placement:s,i=a.strategy,o=void 0===i?e.strategy:i,l=a.boundary,r=void 0===l?ec:l,c=a.rootBoundary,u=void 0===c?tc:c,d=a.elementContext,h=void 0===d?ac:d,p=a.altBoundary,f=void 0!==p&&p,m=a.padding,g=void 0===m?0:m,v=jc("number"!=typeof g?g:zc(g,Qr)),b=h===ac?sc:ac,y=e.rects.popper,_=e.elements[f?b:h],w=function(e,t,a,s){var n="clippingParents"===t?function(e){var t=au($c(e)),a=["absolute","fixed"].indexOf(Pc(e).position)>=0&&yc(e)?Lc(e):e;return bc(a)?t.filter((function(e){return bc(e)&&Ec(e,a)&&"body"!==gc(e)})):[]}(e):[].concat(t),i=[].concat(n,[a]),o=i[0],l=i.reduce((function(t,a){var n=nu(e,a,s);return t.top=Sc(n.top,t.top),t.right=kc(n.right,t.right),t.bottom=kc(n.bottom,t.bottom),t.left=Sc(n.left,t.left),t}),nu(e,o,s));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}(bc(_)?_:_.contextElement||Dc(e.elements.popper),r,u,o),x=Ac(e.elements.reference),S=iu({reference:x,element:y,placement:n}),k=su(Object.assign({},y,S)),C=h===ac?k:x,T={top:w.top-C.top+v.top,bottom:C.bottom-w.bottom+v.bottom,left:w.left-C.left+v.left,right:C.right-w.right+v.right},B=e.modifiersData.offset;if(h===ac&&B){var A=B[n];Object.keys(T).forEach((function(e){var t=[Kr,qr].indexOf(e)>=0?1:-1,a=[Gr,qr].indexOf(e)>=0?"y":"x";T[e]+=A[a]*t}))}return T}const lu={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,a=e.options,s=e.name;if(!t.modifiersData[s]._skip){for(var n=a.mainAxis,i=void 0===n||n,o=a.altAxis,l=void 0===o||o,r=a.fallbackPlacements,c=a.padding,u=a.boundary,d=a.rootBoundary,h=a.altBoundary,p=a.flipVariations,f=void 0===p||p,m=a.allowedAutoPlacements,g=t.options.placement,v=xc(g),b=r||(v!==g&&f?function(e){if(xc(e)===Xr)return[];var t=Yc(e);return[Qc(e),t,Qc(t)]}(g):[Yc(g)]),y=[g].concat(b).reduce((function(e,a){return e.concat(xc(a)===Xr?function(e,t){void 0===t&&(t={});var a=t,s=a.placement,n=a.boundary,i=a.rootBoundary,o=a.padding,l=a.flipVariations,r=a.allowedAutoPlacements,c=void 0===r?ic:r,u=Hc(s),d=u?l?nc:nc.filter((function(e){return Hc(e)===u})):Qr,h=d.filter((function(e){return c.indexOf(e)>=0}));0===h.length&&(h=d);var p=h.reduce((function(t,a){return t[a]=ou(e,{placement:a,boundary:n,rootBoundary:i,padding:o})[xc(a)],t}),{});return Object.keys(p).sort((function(e,t){return p[e]-p[t]}))}(t,{placement:a,boundary:u,rootBoundary:d,padding:c,flipVariations:f,allowedAutoPlacements:m}):a)}),[]),_=t.rects.reference,w=t.rects.popper,x=new Map,S=!0,k=y[0],C=0;C<y.length;C++){var T=y[C],B=xc(T),A=Hc(T)===Jr,I=[Gr,qr].indexOf(B)>=0,E=I?"width":"height",P=ou(t,{placement:T,boundary:u,rootBoundary:d,altBoundary:h,padding:c}),O=I?A?Kr:Yr:A?qr:Gr;_[E]>w[E]&&(O=Yc(O));var D=Yc(O),$=[];if(i&&$.push(P[B]<=0),l&&$.push(P[O]<=0,P[D]<=0),$.every((function(e){return e}))){k=T,S=!1;break}x.set(T,$)}if(S)for(var M=function(e){var t=y.find((function(t){var a=x.get(t);if(a)return a.slice(0,e).every((function(e){return e}))}));if(t)return k=t,"break"},L=f?3:1;L>0&&"break"!==M(L);L--);t.placement!==k&&(t.modifiersData[s]._skip=!0,t.placement=k,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function ru(e,t,a){return void 0===a&&(a={x:0,y:0}),{top:e.top-t.height-a.y,right:e.right-t.width+a.x,bottom:e.bottom-t.height+a.y,left:e.left-t.width-a.x}}function cu(e){return[Gr,Kr,qr,Yr].some((function(t){return e[t]>=0}))}const uu={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,a=e.name,s=t.rects.reference,n=t.rects.popper,i=t.modifiersData.preventOverflow,o=ou(t,{elementContext:"reference"}),l=ou(t,{altBoundary:!0}),r=ru(o,s),c=ru(l,n,i),u=cu(r),d=cu(c);t.modifiersData[a]={referenceClippingOffsets:r,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}},du={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,a=e.options,s=e.name,n=a.offset,i=void 0===n?[0,0]:n,o=ic.reduce((function(e,a){return e[a]=function(e,t,a){var s=xc(e),n=[Yr,Gr].indexOf(s)>=0?-1:1,i="function"==typeof a?a(Object.assign({},t,{placement:e})):a,o=i[0],l=i[1];return o=o||0,l=(l||0)*n,[Yr,Kr].indexOf(s)>=0?{x:l,y:o}:{x:o,y:l}}(a,t.rects,i),e}),{}),l=o[t.placement],r=l.x,c=l.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=r,t.modifiersData.popperOffsets.y+=c),t.modifiersData[s]=o}},hu={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,a=e.name;t.modifiersData[a]=iu({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})},data:{}},pu={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,a=e.options,s=e.name,n=a.mainAxis,i=void 0===n||n,o=a.altAxis,l=void 0!==o&&o,r=a.boundary,c=a.rootBoundary,u=a.altBoundary,d=a.padding,h=a.tether,p=void 0===h||h,f=a.tetherOffset,m=void 0===f?0:f,g=ou(t,{boundary:r,rootBoundary:c,padding:d,altBoundary:u}),v=xc(t.placement),b=Hc(t.placement),y=!b,_=Nc(v),w="x"===_?"y":"x",x=t.modifiersData.popperOffsets,S=t.rects.reference,k=t.rects.popper,C="function"==typeof m?m(Object.assign({},t.rects,{placement:t.placement})):m,T="number"==typeof C?{mainAxis:C,altAxis:C}:Object.assign({mainAxis:0,altAxis:0},C),B=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,A={x:0,y:0};if(x){if(i){var I,E="y"===_?Gr:Yr,P="y"===_?qr:Kr,O="y"===_?"height":"width",D=x[_],$=D+g[E],M=D-g[P],L=p?-k[O]/2:0,N=b===Jr?S[O]:k[O],R=b===Jr?-k[O]:-S[O],j=t.elements.arrow,z=p&&j?Ic(j):{width:0,height:0},V=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},H=V[E],F=V[P],W=Rc(0,S[O],z[O]),U=y?S[O]/2-L-W-H-T.mainAxis:N-W-H-T.mainAxis,G=y?-S[O]/2+L+W+F+T.mainAxis:R+W+F+T.mainAxis,q=t.elements.arrow&&Lc(t.elements.arrow),K=q?"y"===_?q.clientTop||0:q.clientLeft||0:0,Y=null!=(I=null==B?void 0:B[_])?I:0,X=D+G-Y,Q=Rc(p?kc($,D+U-Y-K):$,D,p?Sc(M,X):M);x[_]=Q,A[_]=Q-D}if(l){var J,Z="x"===_?Gr:Yr,ee="x"===_?qr:Kr,te=x[w],ae="y"===w?"height":"width",se=te+g[Z],ne=te-g[ee],ie=-1!==[Gr,Yr].indexOf(v),oe=null!=(J=null==B?void 0:B[w])?J:0,le=ie?se:te-S[ae]-k[ae]-oe+T.altAxis,re=ie?te+S[ae]+k[ae]-oe-T.altAxis:ne,ce=p&&ie?(de=Rc(le,te,ue=re))>ue?ue:de:Rc(p?le:se,te,p?re:ne);x[w]=ce,A[w]=ce-te}var ue,de;t.modifiersData[s]=A}},requiresIfExists:["offset"]};function fu(e,t,a){void 0===a&&(a=!1);var s,n,i=yc(t),o=yc(t)&&function(e){var t=e.getBoundingClientRect(),a=Cc(t.width)/e.offsetWidth||1,s=Cc(t.height)/e.offsetHeight||1;return 1!==a||1!==s}(t),l=Dc(t),r=Ac(e,o,a),c={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(i||!i&&!a)&&(("body"!==gc(t)||eu(l))&&(c=(s=t)!==vc(s)&&yc(s)?{scrollLeft:(n=s).scrollLeft,scrollTop:n.scrollTop}:Jc(s)),yc(t)?((u=Ac(t,!0)).x+=t.clientLeft,u.y+=t.clientTop):l&&(u.x=Zc(l))),{x:r.left+c.scrollLeft-u.x,y:r.top+c.scrollTop-u.y,width:r.width,height:r.height}}function mu(e){var t=new Map,a=new Set,s=[];function n(e){a.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!a.has(e)){var s=t.get(e);s&&n(s)}})),s.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){a.has(e.name)||n(e)})),s}var gu={placement:"bottom",modifiers:[],strategy:"absolute"};function vu(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function bu(e){void 0===e&&(e={});var t=e,a=t.defaultModifiers,s=void 0===a?[]:a,n=t.defaultOptions,i=void 0===n?gu:n;return function(e,t,a){void 0===a&&(a=i);var n,o,l={placement:"bottom",orderedModifiers:[],options:Object.assign({},gu,i),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},r=[],c=!1,u={state:l,setOptions:function(a){var n="function"==typeof a?a(l.options):a;d(),l.options=Object.assign({},i,l.options,n),l.scrollParents={reference:bc(e)?au(e):e.contextElement?au(e.contextElement):[],popper:au(t)};var o,c,h=function(e){var t=mu(e);return mc.reduce((function(e,a){return e.concat(t.filter((function(e){return e.phase===a})))}),[])}((o=[].concat(s,l.options.modifiers),c=o.reduce((function(e,t){var a=e[t.name];return e[t.name]=a?Object.assign({},a,t,{options:Object.assign({},a.options,t.options),data:Object.assign({},a.data,t.data)}):t,e}),{}),Object.keys(c).map((function(e){return c[e]}))));return l.orderedModifiers=h.filter((function(e){return e.enabled})),l.orderedModifiers.forEach((function(e){var t=e.name,a=e.options,s=void 0===a?{}:a,n=e.effect;if("function"==typeof n){var i=n({state:l,name:t,instance:u,options:s});r.push(i||function(){})}})),u.update()},forceUpdate:function(){if(!c){var e=l.elements,t=e.reference,a=e.popper;if(vu(t,a)){l.rects={reference:fu(t,Lc(a),"fixed"===l.options.strategy),popper:Ic(a)},l.reset=!1,l.placement=l.options.placement,l.orderedModifiers.forEach((function(e){return l.modifiersData[e.name]=Object.assign({},e.data)}));for(var s=0;s<l.orderedModifiers.length;s++)if(!0!==l.reset){var n=l.orderedModifiers[s],i=n.fn,o=n.options,r=void 0===o?{}:o,d=n.name;"function"==typeof i&&(l=i({state:l,options:r,name:d,instance:u})||l)}else l.reset=!1,s=-1}}},update:(n=function(){return new Promise((function(e){u.forceUpdate(),e(l)}))},function(){return o||(o=new Promise((function(e){Promise.resolve().then((function(){o=void 0,e(n())}))}))),o}),destroy:function(){d(),c=!0}};if(!vu(e,t))return u;function d(){r.forEach((function(e){return e()})),r=[]}return u.setOptions(a).then((function(e){!c&&a.onFirstUpdate&&a.onFirstUpdate(e)})),u}}var yu=bu(),_u=bu({defaultModifiers:[qc,hu,Uc,wc]}),wu=bu({defaultModifiers:[qc,hu,Uc,wc,du,lu,pu,Vc,uu]});const xu=Object.freeze(Object.defineProperty({__proto__:null,afterMain:dc,afterRead:rc,afterWrite:fc,applyStyles:wc,arrow:Vc,auto:Xr,basePlacements:Qr,beforeMain:cc,beforeRead:oc,beforeWrite:hc,bottom:qr,clippingParents:ec,computeStyles:Uc,createPopper:wu,createPopperBase:yu,createPopperLite:_u,detectOverflow:ou,end:Zr,eventListeners:qc,flip:lu,hide:uu,left:Yr,main:uc,modifierPhases:mc,offset:du,placements:ic,popper:ac,popperGenerator:bu,popperOffsets:hu,preventOverflow:pu,read:lc,reference:sc,right:Kr,start:Jr,top:Gr,variationPlacements:nc,viewport:tc,write:pc},Symbol.toStringTag,{value:"Module"})),Su=new Map,ku={set(e,t,a){Su.has(e)||Su.set(e,new Map);const s=Su.get(e);s.has(t)||0===s.size?s.set(t,a):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(s.keys())[0]}.`)},get:(e,t)=>Su.has(e)&&Su.get(e).get(t)||null,remove(e,t){if(!Su.has(e))return;const a=Su.get(e);a.delete(t),0===a.size&&Su.delete(e)}},Cu="transitionend",Tu=e=>(e&&window.CSS&&window.CSS.escape&&(e=e.replace(/#([^\s"#']+)/g,((e,t)=>`#${CSS.escape(t)}`))),e),Bu=e=>{e.dispatchEvent(new Event(Cu))},Au=e=>!(!e||"object"!=typeof e)&&(void 0!==e.jquery&&(e=e[0]),void 0!==e.nodeType),Iu=e=>Au(e)?e.jquery?e[0]:e:"string"==typeof e&&e.length>0?document.querySelector(Tu(e)):null,Eu=e=>{if(!Au(e)||0===e.getClientRects().length)return!1;const t="visible"===getComputedStyle(e).getPropertyValue("visibility"),a=e.closest("details:not([open])");if(!a)return t;if(a!==e){const t=e.closest("summary");if(t&&t.parentNode!==a)return!1;if(null===t)return!1}return t},Pu=e=>!e||e.nodeType!==Node.ELEMENT_NODE||!!e.classList.contains("disabled")||(void 0!==e.disabled?e.disabled:e.hasAttribute("disabled")&&"false"!==e.getAttribute("disabled")),Ou=e=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof e.getRootNode){const t=e.getRootNode();return t instanceof ShadowRoot?t:null}return e instanceof ShadowRoot?e:e.parentNode?Ou(e.parentNode):null},Du=()=>{},$u=e=>{e.offsetHeight},Mu=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,Lu=[],Nu=()=>"rtl"===document.documentElement.dir,Ru=e=>{var t;t=()=>{const t=Mu();if(t){const a=e.NAME,s=t.fn[a];t.fn[a]=e.jQueryInterface,t.fn[a].Constructor=e,t.fn[a].noConflict=()=>(t.fn[a]=s,e.jQueryInterface)}},"loading"===document.readyState?(Lu.length||document.addEventListener("DOMContentLoaded",(()=>{for(const e of Lu)e()})),Lu.push(t)):t()},ju=(e,t=[],a=e)=>"function"==typeof e?e.call(...t):a,zu=(e,t,a=!0)=>{if(!a)return void ju(e);const s=(e=>{if(!e)return 0;let{transitionDuration:t,transitionDelay:a}=window.getComputedStyle(e);const s=Number.parseFloat(t),n=Number.parseFloat(a);return s||n?(t=t.split(",")[0],a=a.split(",")[0],1e3*(Number.parseFloat(t)+Number.parseFloat(a))):0})(t)+5;let n=!1;const i=({target:a})=>{a===t&&(n=!0,t.removeEventListener(Cu,i),ju(e))};t.addEventListener(Cu,i),setTimeout((()=>{n||Bu(t)}),s)},Vu=(e,t,a,s)=>{const n=e.length;let i=e.indexOf(t);return-1===i?!a&&s?e[n-1]:e[0]:(i+=a?1:-1,s&&(i=(i+n)%n),e[Math.max(0,Math.min(i,n-1))])},Hu=/[^.]*(?=\..*)\.|.*/,Fu=/\..*/,Wu=/::\d+$/,Uu={};let Gu=1;const qu={mouseenter:"mouseover",mouseleave:"mouseout"},Ku=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function Yu(e,t){return t&&`${t}::${Gu++}`||e.uidEvent||Gu++}function Xu(e){const t=Yu(e);return e.uidEvent=t,Uu[t]=Uu[t]||{},Uu[t]}function Qu(e,t,a=null){return Object.values(e).find((e=>e.callable===t&&e.delegationSelector===a))}function Ju(e,t,a){const s="string"==typeof t,n=s?a:t||a;let i=ad(e);return Ku.has(i)||(i=e),[s,n,i]}function Zu(e,t,a,s,n){if("string"!=typeof t||!e)return;let[i,o,l]=Ju(t,a,s);var r;t in qu&&(r=o,o=function(e){if(!e.relatedTarget||e.relatedTarget!==e.delegateTarget&&!e.delegateTarget.contains(e.relatedTarget))return r.call(this,e)});const c=Xu(e),u=c[l]||(c[l]={}),d=Qu(u,o,i?a:null);if(d)return void(d.oneOff=d.oneOff&&n);const h=Yu(o,t.replace(Hu,"")),p=i?function(e,t,a){return function s(n){const i=e.querySelectorAll(t);for(let{target:o}=n;o&&o!==this;o=o.parentNode)for(const l of i)if(l===o)return nd(n,{delegateTarget:o}),s.oneOff&&sd.off(e,n.type,t,a),a.apply(o,[n])}}(e,a,o):function(e,t){return function a(s){return nd(s,{delegateTarget:e}),a.oneOff&&sd.off(e,s.type,t),t.apply(e,[s])}}(e,o);p.delegationSelector=i?a:null,p.callable=o,p.oneOff=n,p.uidEvent=h,u[h]=p,e.addEventListener(l,p,i)}function ed(e,t,a,s,n){const i=Qu(t[a],s,n);i&&(e.removeEventListener(a,i,Boolean(n)),delete t[a][i.uidEvent])}function td(e,t,a,s){const n=t[a]||{};for(const[i,o]of Object.entries(n))i.includes(s)&&ed(e,t,a,o.callable,o.delegationSelector)}function ad(e){return e=e.replace(Fu,""),qu[e]||e}const sd={on(e,t,a,s){Zu(e,t,a,s,!1)},one(e,t,a,s){Zu(e,t,a,s,!0)},off(e,t,a,s){if("string"!=typeof t||!e)return;const[n,i,o]=Ju(t,a,s),l=o!==t,r=Xu(e),c=r[o]||{},u=t.startsWith(".");if(void 0===i){if(u)for(const a of Object.keys(r))td(e,r,a,t.slice(1));for(const[a,s]of Object.entries(c)){const n=a.replace(Wu,"");l&&!t.includes(n)||ed(e,r,o,s.callable,s.delegationSelector)}}else{if(!Object.keys(c).length)return;ed(e,r,o,i,n?a:null)}},trigger(e,t,a){if("string"!=typeof t||!e)return null;const s=Mu();let n=null,i=!0,o=!0,l=!1;t!==ad(t)&&s&&(n=s.Event(t,a),s(e).trigger(n),i=!n.isPropagationStopped(),o=!n.isImmediatePropagationStopped(),l=n.isDefaultPrevented());const r=nd(new Event(t,{bubbles:i,cancelable:!0}),a);return l&&r.preventDefault(),o&&e.dispatchEvent(r),r.defaultPrevented&&n&&n.preventDefault(),r}};function nd(e,t={}){for(const[s,n]of Object.entries(t))try{e[s]=n}catch(a){Object.defineProperty(e,s,{configurable:!0,get:()=>n})}return e}function id(e){if("true"===e)return!0;if("false"===e)return!1;if(e===Number(e).toString())return Number(e);if(""===e||"null"===e)return null;if("string"!=typeof e)return e;try{return JSON.parse(decodeURIComponent(e))}catch(t){return e}}function od(e){return e.replace(/[A-Z]/g,(e=>`-${e.toLowerCase()}`))}const ld={setDataAttribute(e,t,a){e.setAttribute(`data-bs-${od(t)}`,a)},removeDataAttribute(e,t){e.removeAttribute(`data-bs-${od(t)}`)},getDataAttributes(e){if(!e)return{};const t={},a=Object.keys(e.dataset).filter((e=>e.startsWith("bs")&&!e.startsWith("bsConfig")));for(const s of a){let a=s.replace(/^bs/,"");a=a.charAt(0).toLowerCase()+a.slice(1),t[a]=id(e.dataset[s])}return t},getDataAttribute:(e,t)=>id(e.getAttribute(`data-bs-${od(t)}`))};class rd{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,t){const a=Au(t)?ld.getDataAttribute(t,"config"):{};return{...this.constructor.Default,..."object"==typeof a?a:{},...Au(t)?ld.getDataAttributes(t):{},..."object"==typeof e?e:{}}}_typeCheckConfig(e,t=this.constructor.DefaultType){for(const[s,n]of Object.entries(t)){const t=e[s],i=Au(t)?"element":null==(a=t)?`${a}`:Object.prototype.toString.call(a).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(n).test(i))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${s}" provided type "${i}" but expected type "${n}".`)}var a}}class cd extends rd{constructor(e,t){super(),(e=Iu(e))&&(this._element=e,this._config=this._getConfig(t),ku.set(this._element,this.constructor.DATA_KEY,this))}dispose(){ku.remove(this._element,this.constructor.DATA_KEY),sd.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,t,a=!0){zu(e,t,a)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return ku.get(Iu(e),this.DATA_KEY)}static getOrCreateInstance(e,t={}){return this.getInstance(e)||new this(e,"object"==typeof t?t:null)}static get VERSION(){return"5.3.5"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}const ud=e=>{let t=e.getAttribute("data-bs-target");if(!t||"#"===t){let a=e.getAttribute("href");if(!a||!a.includes("#")&&!a.startsWith("."))return null;a.includes("#")&&!a.startsWith("#")&&(a=`#${a.split("#")[1]}`),t=a&&"#"!==a?a.trim():null}return t?t.split(",").map((e=>Tu(e))).join(","):null},dd={find:(e,t=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(t,e)),findOne:(e,t=document.documentElement)=>Element.prototype.querySelector.call(t,e),children:(e,t)=>[].concat(...e.children).filter((e=>e.matches(t))),parents(e,t){const a=[];let s=e.parentNode.closest(t);for(;s;)a.push(s),s=s.parentNode.closest(t);return a},prev(e,t){let a=e.previousElementSibling;for(;a;){if(a.matches(t))return[a];a=a.previousElementSibling}return[]},next(e,t){let a=e.nextElementSibling;for(;a;){if(a.matches(t))return[a];a=a.nextElementSibling}return[]},focusableChildren(e){const t=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map((e=>`${e}:not([tabindex^="-"])`)).join(",");return this.find(t,e).filter((e=>!Pu(e)&&Eu(e)))},getSelectorFromElement(e){const t=ud(e);return t&&dd.findOne(t)?t:null},getElementFromSelector(e){const t=ud(e);return t?dd.findOne(t):null},getMultipleElementsFromSelector(e){const t=ud(e);return t?dd.find(t):[]}},hd=(e,t="hide")=>{const a=`click.dismiss${e.EVENT_KEY}`,s=e.NAME;sd.on(document,a,`[data-bs-dismiss="${s}"]`,(function(a){if(["A","AREA"].includes(this.tagName)&&a.preventDefault(),Pu(this))return;const n=dd.getElementFromSelector(this)||this.closest(`.${s}`);e.getOrCreateInstance(n)[t]()}))},pd=".bs.alert",fd=`close${pd}`,md=`closed${pd}`;class gd extends cd{static get NAME(){return"alert"}close(){if(sd.trigger(this._element,fd).defaultPrevented)return;this._element.classList.remove("show");const e=this._element.classList.contains("fade");this._queueCallback((()=>this._destroyElement()),this._element,e)}_destroyElement(){this._element.remove(),sd.trigger(this._element,md),this.dispose()}static jQueryInterface(e){return this.each((function(){const t=gd.getOrCreateInstance(this);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e](this)}}))}}hd(gd,"close"),Ru(gd);const vd='[data-bs-toggle="button"]';class bd extends cd{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(e){return this.each((function(){const t=bd.getOrCreateInstance(this);"toggle"===e&&t[e]()}))}}sd.on(document,"click.bs.button.data-api",vd,(e=>{e.preventDefault();const t=e.target.closest(vd);bd.getOrCreateInstance(t).toggle()})),Ru(bd);const yd=".bs.swipe",_d=`touchstart${yd}`,wd=`touchmove${yd}`,xd=`touchend${yd}`,Sd=`pointerdown${yd}`,kd=`pointerup${yd}`,Cd={endCallback:null,leftCallback:null,rightCallback:null},Td={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Bd extends rd{constructor(e,t){super(),this._element=e,e&&Bd.isSupported()&&(this._config=this._getConfig(t),this._deltaX=0,this._supportPointerEvents=Boolean(window.PointerEvent),this._initEvents())}static get Default(){return Cd}static get DefaultType(){return Td}static get NAME(){return"swipe"}dispose(){sd.off(this._element,yd)}_start(e){this._supportPointerEvents?this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX):this._deltaX=e.touches[0].clientX}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),ju(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){const e=Math.abs(this._deltaX);if(e<=40)return;const t=e/this._deltaX;this._deltaX=0,t&&ju(t>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(sd.on(this._element,Sd,(e=>this._start(e))),sd.on(this._element,kd,(e=>this._end(e))),this._element.classList.add("pointer-event")):(sd.on(this._element,_d,(e=>this._start(e))),sd.on(this._element,wd,(e=>this._move(e))),sd.on(this._element,xd,(e=>this._end(e))))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&("pen"===e.pointerType||"touch"===e.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Ad=".bs.carousel",Id=".data-api",Ed="ArrowLeft",Pd="ArrowRight",Od="next",Dd="prev",$d="left",Md="right",Ld=`slide${Ad}`,Nd=`slid${Ad}`,Rd=`keydown${Ad}`,jd=`mouseenter${Ad}`,zd=`mouseleave${Ad}`,Vd=`dragstart${Ad}`,Hd=`load${Ad}${Id}`,Fd=`click${Ad}${Id}`,Wd="carousel",Ud="active",Gd=".active",qd=".carousel-item",Kd=Gd+qd,Yd={[Ed]:Md,[Pd]:$d},Xd={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Qd={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Jd extends cd{constructor(e,t){super(e,t),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=dd.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===Wd&&this.cycle()}static get Default(){return Xd}static get DefaultType(){return Qd}static get NAME(){return"carousel"}next(){this._slide(Od)}nextWhenVisible(){!document.hidden&&Eu(this._element)&&this.next()}prev(){this._slide(Dd)}pause(){this._isSliding&&Bu(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval((()=>this.nextWhenVisible()),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?sd.one(this._element,Nd,(()=>this.cycle())):this.cycle())}to(e){const t=this._getItems();if(e>t.length-1||e<0)return;if(this._isSliding)return void sd.one(this._element,Nd,(()=>this.to(e)));const a=this._getItemIndex(this._getActive());if(a===e)return;const s=e>a?Od:Dd;this._slide(s,t[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&sd.on(this._element,Rd,(e=>this._keydown(e))),"hover"===this._config.pause&&(sd.on(this._element,jd,(()=>this.pause())),sd.on(this._element,zd,(()=>this._maybeEnableCycle()))),this._config.touch&&Bd.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const t of dd.find(".carousel-item img",this._element))sd.on(t,Vd,(e=>e.preventDefault()));const e={leftCallback:()=>this._slide(this._directionToOrder($d)),rightCallback:()=>this._slide(this._directionToOrder(Md)),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout((()=>this._maybeEnableCycle()),500+this._config.interval))}};this._swipeHelper=new Bd(this._element,e)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const t=Yd[e.key];t&&(e.preventDefault(),this._slide(this._directionToOrder(t)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;const t=dd.findOne(Gd,this._indicatorsElement);t.classList.remove(Ud),t.removeAttribute("aria-current");const a=dd.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);a&&(a.classList.add(Ud),a.setAttribute("aria-current","true"))}_updateInterval(){const e=this._activeElement||this._getActive();if(!e)return;const t=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=t||this._config.defaultInterval}_slide(e,t=null){if(this._isSliding)return;const a=this._getActive(),s=e===Od,n=t||Vu(this._getItems(),a,s,this._config.wrap);if(n===a)return;const i=this._getItemIndex(n),o=t=>sd.trigger(this._element,t,{relatedTarget:n,direction:this._orderToDirection(e),from:this._getItemIndex(a),to:i});if(o(Ld).defaultPrevented)return;if(!a||!n)return;const l=Boolean(this._interval);this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(i),this._activeElement=n;const r=s?"carousel-item-start":"carousel-item-end",c=s?"carousel-item-next":"carousel-item-prev";n.classList.add(c),$u(n),a.classList.add(r),n.classList.add(r),this._queueCallback((()=>{n.classList.remove(r,c),n.classList.add(Ud),a.classList.remove(Ud,c,r),this._isSliding=!1,o(Nd)}),a,this._isAnimated()),l&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return dd.findOne(Kd,this._element)}_getItems(){return dd.find(qd,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return Nu()?e===$d?Dd:Od:e===$d?Od:Dd}_orderToDirection(e){return Nu()?e===Dd?$d:Md:e===Dd?Md:$d}static jQueryInterface(e){return this.each((function(){const t=Jd.getOrCreateInstance(this,e);if("number"!=typeof e){if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e]()}}else t.to(e)}))}}sd.on(document,Fd,"[data-bs-slide], [data-bs-slide-to]",(function(e){const t=dd.getElementFromSelector(this);if(!t||!t.classList.contains(Wd))return;e.preventDefault();const a=Jd.getOrCreateInstance(t),s=this.getAttribute("data-bs-slide-to");return s?(a.to(s),void a._maybeEnableCycle()):"next"===ld.getDataAttribute(this,"slide")?(a.next(),void a._maybeEnableCycle()):(a.prev(),void a._maybeEnableCycle())})),sd.on(window,Hd,(()=>{const e=dd.find('[data-bs-ride="carousel"]');for(const t of e)Jd.getOrCreateInstance(t)})),Ru(Jd);const Zd=".bs.collapse",eh=`show${Zd}`,th=`shown${Zd}`,ah=`hide${Zd}`,sh=`hidden${Zd}`,nh=`click${Zd}.data-api`,ih="show",oh="collapse",lh="collapsing",rh=`:scope .${oh} .${oh}`,ch='[data-bs-toggle="collapse"]',uh={parent:null,toggle:!0},dh={parent:"(null|element)",toggle:"boolean"};class hh extends cd{constructor(e,t){super(e,t),this._isTransitioning=!1,this._triggerArray=[];const a=dd.find(ch);for(const s of a){const e=dd.getSelectorFromElement(s),t=dd.find(e).filter((e=>e===this._element));null!==e&&t.length&&this._triggerArray.push(s)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return uh}static get DefaultType(){return dh}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter((e=>e!==this._element)).map((e=>hh.getOrCreateInstance(e,{toggle:!1})))),e.length&&e[0]._isTransitioning)return;if(sd.trigger(this._element,eh).defaultPrevented)return;for(const s of e)s.hide();const t=this._getDimension();this._element.classList.remove(oh),this._element.classList.add(lh),this._element.style[t]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const a=`scroll${t[0].toUpperCase()+t.slice(1)}`;this._queueCallback((()=>{this._isTransitioning=!1,this._element.classList.remove(lh),this._element.classList.add(oh,ih),this._element.style[t]="",sd.trigger(this._element,th)}),this._element,!0),this._element.style[t]=`${this._element[a]}px`}hide(){if(this._isTransitioning||!this._isShown())return;if(sd.trigger(this._element,ah).defaultPrevented)return;const e=this._getDimension();this._element.style[e]=`${this._element.getBoundingClientRect()[e]}px`,$u(this._element),this._element.classList.add(lh),this._element.classList.remove(oh,ih);for(const t of this._triggerArray){const e=dd.getElementFromSelector(t);e&&!this._isShown(e)&&this._addAriaAndCollapsedClass([t],!1)}this._isTransitioning=!0,this._element.style[e]="",this._queueCallback((()=>{this._isTransitioning=!1,this._element.classList.remove(lh),this._element.classList.add(oh),sd.trigger(this._element,sh)}),this._element,!0)}_isShown(e=this._element){return e.classList.contains(ih)}_configAfterMerge(e){return e.toggle=Boolean(e.toggle),e.parent=Iu(e.parent),e}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren(ch);for(const t of e){const e=dd.getElementFromSelector(t);e&&this._addAriaAndCollapsedClass([t],this._isShown(e))}}_getFirstLevelChildren(e){const t=dd.find(rh,this._config.parent);return dd.find(e,this._config.parent).filter((e=>!t.includes(e)))}_addAriaAndCollapsedClass(e,t){if(e.length)for(const a of e)a.classList.toggle("collapsed",!t),a.setAttribute("aria-expanded",t)}static jQueryInterface(e){const t={};return"string"==typeof e&&/show|hide/.test(e)&&(t.toggle=!1),this.each((function(){const a=hh.getOrCreateInstance(this,t);if("string"==typeof e){if(void 0===a[e])throw new TypeError(`No method named "${e}"`);a[e]()}}))}}sd.on(document,nh,ch,(function(e){("A"===e.target.tagName||e.delegateTarget&&"A"===e.delegateTarget.tagName)&&e.preventDefault();for(const t of dd.getMultipleElementsFromSelector(this))hh.getOrCreateInstance(t,{toggle:!1}).toggle()})),Ru(hh);const ph="dropdown",fh=".bs.dropdown",mh=".data-api",gh="ArrowUp",vh="ArrowDown",bh=`hide${fh}`,yh=`hidden${fh}`,_h=`show${fh}`,wh=`shown${fh}`,xh=`click${fh}${mh}`,Sh=`keydown${fh}${mh}`,kh=`keyup${fh}${mh}`,Ch="show",Th='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',Bh=`${Th}.${Ch}`,Ah=".dropdown-menu",Ih=Nu()?"top-end":"top-start",Eh=Nu()?"top-start":"top-end",Ph=Nu()?"bottom-end":"bottom-start",Oh=Nu()?"bottom-start":"bottom-end",Dh=Nu()?"left-start":"right-start",$h=Nu()?"right-start":"left-start",Mh={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Lh={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Nh extends cd{constructor(e,t){super(e,t),this._popper=null,this._parent=this._element.parentNode,this._menu=dd.next(this._element,Ah)[0]||dd.prev(this._element,Ah)[0]||dd.findOne(Ah,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Mh}static get DefaultType(){return Lh}static get NAME(){return ph}toggle(){return this._isShown()?this.hide():this.show()}show(){if(Pu(this._element)||this._isShown())return;const e={relatedTarget:this._element};if(!sd.trigger(this._element,_h,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const e of[].concat(...document.body.children))sd.on(e,"mouseover",Du);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Ch),this._element.classList.add(Ch),sd.trigger(this._element,wh,e)}}hide(){if(Pu(this._element)||!this._isShown())return;const e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!sd.trigger(this._element,bh,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(const e of[].concat(...document.body.children))sd.off(e,"mouseover",Du);this._popper&&this._popper.destroy(),this._menu.classList.remove(Ch),this._element.classList.remove(Ch),this._element.setAttribute("aria-expanded","false"),ld.removeDataAttribute(this._menu,"popper"),sd.trigger(this._element,yh,e)}}_getConfig(e){if("object"==typeof(e=super._getConfig(e)).reference&&!Au(e.reference)&&"function"!=typeof e.reference.getBoundingClientRect)throw new TypeError(`${ph.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(void 0===xu)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let e=this._element;"parent"===this._config.reference?e=this._parent:Au(this._config.reference)?e=Iu(this._config.reference):"object"==typeof this._config.reference&&(e=this._config.reference);const t=this._getPopperConfig();this._popper=wu(e,this._menu,t)}_isShown(){return this._menu.classList.contains(Ch)}_getPlacement(){const e=this._parent;if(e.classList.contains("dropend"))return Dh;if(e.classList.contains("dropstart"))return $h;if(e.classList.contains("dropup-center"))return"top";if(e.classList.contains("dropdown-center"))return"bottom";const t="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return e.classList.contains("dropup")?t?Eh:Ih:t?Oh:Ph}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:e}=this._config;return"string"==typeof e?e.split(",").map((e=>Number.parseInt(e,10))):"function"==typeof e?t=>e(t,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(ld.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...ju(this._config.popperConfig,[void 0,e])}}_selectMenuItem({key:e,target:t}){const a=dd.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter((e=>Eu(e)));a.length&&Vu(a,t,e===vh,!a.includes(t)).focus()}static jQueryInterface(e){return this.each((function(){const t=Nh.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e]()}}))}static clearMenus(e){if(2===e.button||"keyup"===e.type&&"Tab"!==e.key)return;const t=dd.find(Bh);for(const a of t){const t=Nh.getInstance(a);if(!t||!1===t._config.autoClose)continue;const s=e.composedPath(),n=s.includes(t._menu);if(s.includes(t._element)||"inside"===t._config.autoClose&&!n||"outside"===t._config.autoClose&&n)continue;if(t._menu.contains(e.target)&&("keyup"===e.type&&"Tab"===e.key||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;const i={relatedTarget:t._element};"click"===e.type&&(i.clickEvent=e),t._completeHide(i)}}static dataApiKeydownHandler(e){const t=/input|textarea/i.test(e.target.tagName),a="Escape"===e.key,s=[gh,vh].includes(e.key);if(!s&&!a)return;if(t&&!a)return;e.preventDefault();const n=this.matches(Th)?this:dd.prev(this,Th)[0]||dd.next(this,Th)[0]||dd.findOne(Th,e.delegateTarget.parentNode),i=Nh.getOrCreateInstance(n);if(s)return e.stopPropagation(),i.show(),void i._selectMenuItem(e);i._isShown()&&(e.stopPropagation(),i.hide(),n.focus())}}sd.on(document,Sh,Th,Nh.dataApiKeydownHandler),sd.on(document,Sh,Ah,Nh.dataApiKeydownHandler),sd.on(document,xh,Nh.clearMenus),sd.on(document,kh,Nh.clearMenus),sd.on(document,xh,Th,(function(e){e.preventDefault(),Nh.getOrCreateInstance(this).toggle()})),Ru(Nh);const Rh="backdrop",jh="show",zh=`mousedown.bs.${Rh}`,Vh={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Hh={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Fh extends rd{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return Vh}static get DefaultType(){return Hh}static get NAME(){return Rh}show(e){if(!this._config.isVisible)return void ju(e);this._append();const t=this._getElement();this._config.isAnimated&&$u(t),t.classList.add(jh),this._emulateAnimation((()=>{ju(e)}))}hide(e){this._config.isVisible?(this._getElement().classList.remove(jh),this._emulateAnimation((()=>{this.dispose(),ju(e)}))):ju(e)}dispose(){this._isAppended&&(sd.off(this._element,zh),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add("fade"),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=Iu(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),sd.on(e,zh,(()=>{ju(this._config.clickCallback)})),this._isAppended=!0}_emulateAnimation(e){zu(e,this._getElement(),this._config.isAnimated)}}const Wh=".bs.focustrap",Uh=`focusin${Wh}`,Gh=`keydown.tab${Wh}`,qh="backward",Kh={autofocus:!0,trapElement:null},Yh={autofocus:"boolean",trapElement:"element"};class Xh extends rd{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Kh}static get DefaultType(){return Yh}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),sd.off(document,Wh),sd.on(document,Uh,(e=>this._handleFocusin(e))),sd.on(document,Gh,(e=>this._handleKeydown(e))),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,sd.off(document,Wh))}_handleFocusin(e){const{trapElement:t}=this._config;if(e.target===document||e.target===t||t.contains(e.target))return;const a=dd.focusableChildren(t);0===a.length?t.focus():this._lastTabNavDirection===qh?a[a.length-1].focus():a[0].focus()}_handleKeydown(e){"Tab"===e.key&&(this._lastTabNavDirection=e.shiftKey?qh:"forward")}}const Qh=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Jh=".sticky-top",Zh="padding-right",ep="margin-right";class tp{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Zh,(t=>t+e)),this._setElementAttributes(Qh,Zh,(t=>t+e)),this._setElementAttributes(Jh,ep,(t=>t-e))}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Zh),this._resetElementAttributes(Qh,Zh),this._resetElementAttributes(Jh,ep)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,t,a){const s=this.getWidth();this._applyManipulationCallback(e,(e=>{if(e!==this._element&&window.innerWidth>e.clientWidth+s)return;this._saveInitialAttribute(e,t);const n=window.getComputedStyle(e).getPropertyValue(t);e.style.setProperty(t,`${a(Number.parseFloat(n))}px`)}))}_saveInitialAttribute(e,t){const a=e.style.getPropertyValue(t);a&&ld.setDataAttribute(e,t,a)}_resetElementAttributes(e,t){this._applyManipulationCallback(e,(e=>{const a=ld.getDataAttribute(e,t);null!==a?(ld.removeDataAttribute(e,t),e.style.setProperty(t,a)):e.style.removeProperty(t)}))}_applyManipulationCallback(e,t){if(Au(e))t(e);else for(const a of dd.find(e,this._element))t(a)}}const ap=".bs.modal",sp=`hide${ap}`,np=`hidePrevented${ap}`,ip=`hidden${ap}`,op=`show${ap}`,lp=`shown${ap}`,rp=`resize${ap}`,cp=`click.dismiss${ap}`,up=`mousedown.dismiss${ap}`,dp=`keydown.dismiss${ap}`,hp=`click${ap}.data-api`,pp="modal-open",fp="show",mp="modal-static",gp={backdrop:!0,focus:!0,keyboard:!0},vp={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class bp extends cd{constructor(e,t){super(e,t),this._dialog=dd.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new tp,this._addEventListeners()}static get Default(){return gp}static get DefaultType(){return vp}static get NAME(){return"modal"}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||sd.trigger(this._element,op,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(pp),this._adjustDialog(),this._backdrop.show((()=>this._showElement(e))))}hide(){this._isShown&&!this._isTransitioning&&(sd.trigger(this._element,sp).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(fp),this._queueCallback((()=>this._hideModal()),this._element,this._isAnimated())))}dispose(){sd.off(window,ap),sd.off(this._dialog,ap),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Fh({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Xh({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const t=dd.findOne(".modal-body",this._dialog);t&&(t.scrollTop=0),$u(this._element),this._element.classList.add(fp),this._queueCallback((()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,sd.trigger(this._element,lp,{relatedTarget:e})}),this._dialog,this._isAnimated())}_addEventListeners(){sd.on(this._element,dp,(e=>{"Escape"===e.key&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())})),sd.on(window,rp,(()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()})),sd.on(this._element,up,(e=>{sd.one(this._element,cp,(t=>{this._element===e.target&&this._element===t.target&&("static"!==this._config.backdrop?this._config.backdrop&&this.hide():this._triggerBackdropTransition())}))}))}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide((()=>{document.body.classList.remove(pp),this._resetAdjustments(),this._scrollBar.reset(),sd.trigger(this._element,ip)}))}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(sd.trigger(this._element,np).defaultPrevented)return;const e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._element.style.overflowY;"hidden"===t||this._element.classList.contains(mp)||(e||(this._element.style.overflowY="hidden"),this._element.classList.add(mp),this._queueCallback((()=>{this._element.classList.remove(mp),this._queueCallback((()=>{this._element.style.overflowY=t}),this._dialog)}),this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._scrollBar.getWidth(),a=t>0;if(a&&!e){const e=Nu()?"paddingLeft":"paddingRight";this._element.style[e]=`${t}px`}if(!a&&e){const e=Nu()?"paddingRight":"paddingLeft";this._element.style[e]=`${t}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,t){return this.each((function(){const a=bp.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===a[e])throw new TypeError(`No method named "${e}"`);a[e](t)}}))}}sd.on(document,hp,'[data-bs-toggle="modal"]',(function(e){const t=dd.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&e.preventDefault(),sd.one(t,op,(e=>{e.defaultPrevented||sd.one(t,ip,(()=>{Eu(this)&&this.focus()}))}));const a=dd.findOne(".modal.show");a&&bp.getInstance(a).hide(),bp.getOrCreateInstance(t).toggle(this)})),hd(bp),Ru(bp);const yp=".bs.offcanvas",_p=".data-api",wp=`load${yp}${_p}`,xp="show",Sp="showing",kp="hiding",Cp=".offcanvas.show",Tp=`show${yp}`,Bp=`shown${yp}`,Ap=`hide${yp}`,Ip=`hidePrevented${yp}`,Ep=`hidden${yp}`,Pp=`resize${yp}`,Op=`click${yp}${_p}`,Dp=`keydown.dismiss${yp}`,$p={backdrop:!0,keyboard:!0,scroll:!1},Mp={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Lp extends cd{constructor(e,t){super(e,t),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return $p}static get DefaultType(){return Mp}static get NAME(){return"offcanvas"}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||sd.trigger(this._element,Tp,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||(new tp).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Sp),this._queueCallback((()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(xp),this._element.classList.remove(Sp),sd.trigger(this._element,Bp,{relatedTarget:e})}),this._element,!0))}hide(){this._isShown&&(sd.trigger(this._element,Ap).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(kp),this._backdrop.hide(),this._queueCallback((()=>{this._element.classList.remove(xp,kp),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new tp).reset(),sd.trigger(this._element,Ep)}),this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=Boolean(this._config.backdrop);return new Fh({className:"offcanvas-backdrop",isVisible:e,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:e?()=>{"static"!==this._config.backdrop?this.hide():sd.trigger(this._element,Ip)}:null})}_initializeFocusTrap(){return new Xh({trapElement:this._element})}_addEventListeners(){sd.on(this._element,Dp,(e=>{"Escape"===e.key&&(this._config.keyboard?this.hide():sd.trigger(this._element,Ip))}))}static jQueryInterface(e){return this.each((function(){const t=Lp.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e](this)}}))}}sd.on(document,Op,'[data-bs-toggle="offcanvas"]',(function(e){const t=dd.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&e.preventDefault(),Pu(this))return;sd.one(t,Ep,(()=>{Eu(this)&&this.focus()}));const a=dd.findOne(Cp);a&&a!==t&&Lp.getInstance(a).hide(),Lp.getOrCreateInstance(t).toggle(this)})),sd.on(window,wp,(()=>{for(const e of dd.find(Cp))Lp.getOrCreateInstance(e).show()})),sd.on(window,Pp,(()=>{for(const e of dd.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(e).position&&Lp.getOrCreateInstance(e).hide()})),hd(Lp),Ru(Lp);const Np={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Rp=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),jp=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,zp=(e,t)=>{const a=e.nodeName.toLowerCase();return t.includes(a)?!Rp.has(a)||Boolean(jp.test(e.nodeValue)):t.filter((e=>e instanceof RegExp)).some((e=>e.test(a)))},Vp={allowList:Np,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Hp={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Fp={entry:"(string|element|function|null)",selector:"(string|element)"};class Wp extends rd{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return Vp}static get DefaultType(){return Hp}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map((e=>this._resolvePossibleFunction(e))).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){const e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(const[s,n]of Object.entries(this._config.content))this._setContent(e,n,s);const t=e.children[0],a=this._resolvePossibleFunction(this._config.extraClass);return a&&t.classList.add(...a.split(" ")),t}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(const[t,a]of Object.entries(e))super._typeCheckConfig({selector:t,entry:a},Fp)}_setContent(e,t,a){const s=dd.findOne(a,e);s&&((t=this._resolvePossibleFunction(t))?Au(t)?this._putElementInTemplate(Iu(t),s):this._config.html?s.innerHTML=this._maybeSanitize(t):s.textContent=t:s.remove())}_maybeSanitize(e){return this._config.sanitize?function(e,t,a){if(!e.length)return e;if(a&&"function"==typeof a)return a(e);const s=(new window.DOMParser).parseFromString(e,"text/html"),n=[].concat(...s.body.querySelectorAll("*"));for(const i of n){const e=i.nodeName.toLowerCase();if(!Object.keys(t).includes(e)){i.remove();continue}const a=[].concat(...i.attributes),s=[].concat(t["*"]||[],t[e]||[]);for(const t of a)zp(t,s)||i.removeAttribute(t.nodeName)}return s.body.innerHTML}(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return ju(e,[void 0,this])}_putElementInTemplate(e,t){if(this._config.html)return t.innerHTML="",void t.append(e);t.textContent=e.textContent}}const Up=new Set(["sanitize","allowList","sanitizeFn"]),Gp="fade",qp="show",Kp=".tooltip-inner",Yp=".modal",Xp="hide.bs.modal",Qp="hover",Jp="focus",Zp={AUTO:"auto",TOP:"top",RIGHT:Nu()?"left":"right",BOTTOM:"bottom",LEFT:Nu()?"right":"left"},ef={allowList:Np,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},tf={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class af extends cd{constructor(e,t){if(void 0===xu)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(e,t),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return ef}static get DefaultType(){return tf}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),sd.off(this._element.closest(Yp),Xp,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const e=sd.trigger(this._element,this.constructor.eventName("show")),t=(Ou(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!t)return;this._disposePopper();const a=this._getTipElement();this._element.setAttribute("aria-describedby",a.getAttribute("id"));const{container:s}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(s.append(a),sd.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(a),a.classList.add(qp),"ontouchstart"in document.documentElement)for(const n of[].concat(...document.body.children))sd.on(n,"mouseover",Du);this._queueCallback((()=>{sd.trigger(this._element,this.constructor.eventName("shown")),!1===this._isHovered&&this._leave(),this._isHovered=!1}),this.tip,this._isAnimated())}hide(){if(this._isShown()&&!sd.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(qp),"ontouchstart"in document.documentElement)for(const e of[].concat(...document.body.children))sd.off(e,"mouseover",Du);this._activeTrigger.click=!1,this._activeTrigger[Jp]=!1,this._activeTrigger[Qp]=!1,this._isHovered=null,this._queueCallback((()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),sd.trigger(this._element,this.constructor.eventName("hidden")))}),this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return Boolean(this._getTitle())}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){const t=this._getTemplateFactory(e).toHtml();if(!t)return null;t.classList.remove(Gp,qp),t.classList.add(`bs-${this.constructor.NAME}-auto`);const a=(e=>{do{e+=Math.floor(1e6*Math.random())}while(document.getElementById(e));return e})(this.constructor.NAME).toString();return t.setAttribute("id",a),this._isAnimated()&&t.classList.add(Gp),t}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new Wp({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[Kp]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Gp)}_isShown(){return this.tip&&this.tip.classList.contains(qp)}_createPopper(e){const t=ju(this._config.placement,[this,e,this._element]),a=Zp[t.toUpperCase()];return wu(this._element,e,this._getPopperConfig(a))}_getOffset(){const{offset:e}=this._config;return"string"==typeof e?e.split(",").map((e=>Number.parseInt(e,10))):"function"==typeof e?t=>e(t,this._element):e}_resolvePossibleFunction(e){return ju(e,[this._element,this._element])}_getPopperConfig(e){const t={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:e=>{this._getTipElement().setAttribute("data-popper-placement",e.state.placement)}}]};return{...t,...ju(this._config.popperConfig,[void 0,t])}}_setListeners(){const e=this._config.trigger.split(" ");for(const t of e)if("click"===t)sd.on(this._element,this.constructor.eventName("click"),this._config.selector,(e=>{this._initializeOnDelegatedTarget(e).toggle()}));else if("manual"!==t){const e=t===Qp?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),a=t===Qp?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");sd.on(this._element,e,this._config.selector,(e=>{const t=this._initializeOnDelegatedTarget(e);t._activeTrigger["focusin"===e.type?Jp:Qp]=!0,t._enter()})),sd.on(this._element,a,this._config.selector,(e=>{const t=this._initializeOnDelegatedTarget(e);t._activeTrigger["focusout"===e.type?Jp:Qp]=t._element.contains(e.relatedTarget),t._leave()}))}this._hideModalHandler=()=>{this._element&&this.hide()},sd.on(this._element.closest(Yp),Xp,this._hideModalHandler)}_fixTitle(){const e=this._element.getAttribute("title");e&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout((()=>{this._isHovered&&this.show()}),this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout((()=>{this._isHovered||this.hide()}),this._config.delay.hide))}_setTimeout(e,t){clearTimeout(this._timeout),this._timeout=setTimeout(e,t)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){const t=ld.getDataAttributes(this._element);for(const a of Object.keys(t))Up.has(a)&&delete t[a];return e={...t,..."object"==typeof e&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=!1===e.container?document.body:Iu(e.container),"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),"number"==typeof e.title&&(e.title=e.title.toString()),"number"==typeof e.content&&(e.content=e.content.toString()),e}_getDelegateConfig(){const e={};for(const[t,a]of Object.entries(this._config))this.constructor.Default[t]!==a&&(e[t]=a);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each((function(){const t=af.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e]()}}))}}Ru(af);const sf=".popover-header",nf=".popover-body",of={...af.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},lf={...af.DefaultType,content:"(null|string|element|function)"};class rf extends af{static get Default(){return of}static get DefaultType(){return lf}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[sf]:this._getTitle(),[nf]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each((function(){const t=rf.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e]()}}))}}Ru(rf);const cf=".bs.scrollspy",uf=`activate${cf}`,df=`click${cf}`,hf=`load${cf}.data-api`,pf="active",ff="[href]",mf=".nav-link",gf=`${mf}, .nav-item > ${mf}, .list-group-item`,vf={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},bf={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class yf extends cd{constructor(e,t){super(e,t),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return vf}static get DefaultType(){return bf}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=Iu(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,"string"==typeof e.threshold&&(e.threshold=e.threshold.split(",").map((e=>Number.parseFloat(e)))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(sd.off(this._config.target,df),sd.on(this._config.target,df,ff,(e=>{const t=this._observableSections.get(e.target.hash);if(t){e.preventDefault();const a=this._rootElement||window,s=t.offsetTop-this._element.offsetTop;if(a.scrollTo)return void a.scrollTo({top:s,behavior:"smooth"});a.scrollTop=s}})))}_getNewObserver(){const e={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver((e=>this._observerCallback(e)),e)}_observerCallback(e){const t=e=>this._targetLinks.get(`#${e.target.id}`),a=e=>{this._previousScrollData.visibleEntryTop=e.target.offsetTop,this._process(t(e))},s=(this._rootElement||document.documentElement).scrollTop,n=s>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=s;for(const i of e){if(!i.isIntersecting){this._activeTarget=null,this._clearActiveClass(t(i));continue}const e=i.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(n&&e){if(a(i),!s)return}else n||e||a(i)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const e=dd.find(ff,this._config.target);for(const t of e){if(!t.hash||Pu(t))continue;const e=dd.findOne(decodeURI(t.hash),this._element);Eu(e)&&(this._targetLinks.set(decodeURI(t.hash),t),this._observableSections.set(t.hash,e))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(pf),this._activateParents(e),sd.trigger(this._element,uf,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains("dropdown-item"))dd.findOne(".dropdown-toggle",e.closest(".dropdown")).classList.add(pf);else for(const t of dd.parents(e,".nav, .list-group"))for(const e of dd.prev(t,gf))e.classList.add(pf)}_clearActiveClass(e){e.classList.remove(pf);const t=dd.find(`${ff}.${pf}`,e);for(const a of t)a.classList.remove(pf)}static jQueryInterface(e){return this.each((function(){const t=yf.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e]()}}))}}sd.on(window,hf,(()=>{for(const e of dd.find('[data-bs-spy="scroll"]'))yf.getOrCreateInstance(e)})),Ru(yf);const _f=".bs.tab",wf=`hide${_f}`,xf=`hidden${_f}`,Sf=`show${_f}`,kf=`shown${_f}`,Cf=`click${_f}`,Tf=`keydown${_f}`,Bf=`load${_f}`,Af="ArrowLeft",If="ArrowRight",Ef="ArrowUp",Pf="ArrowDown",Of="Home",Df="End",$f="active",Mf="fade",Lf="show",Nf=".dropdown-toggle",Rf=`:not(${Nf})`,jf='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',zf=`.nav-link${Rf}, .list-group-item${Rf}, [role="tab"]${Rf}, ${jf}`,Vf=`.${$f}[data-bs-toggle="tab"], .${$f}[data-bs-toggle="pill"], .${$f}[data-bs-toggle="list"]`;class Hf extends cd{constructor(e){super(e),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),sd.on(this._element,Tf,(e=>this._keydown(e))))}static get NAME(){return"tab"}show(){const e=this._element;if(this._elemIsActive(e))return;const t=this._getActiveElem(),a=t?sd.trigger(t,wf,{relatedTarget:e}):null;sd.trigger(e,Sf,{relatedTarget:t}).defaultPrevented||a&&a.defaultPrevented||(this._deactivate(t,e),this._activate(e,t))}_activate(e,t){e&&(e.classList.add($f),this._activate(dd.getElementFromSelector(e)),this._queueCallback((()=>{"tab"===e.getAttribute("role")?(e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),sd.trigger(e,kf,{relatedTarget:t})):e.classList.add(Lf)}),e,e.classList.contains(Mf)))}_deactivate(e,t){e&&(e.classList.remove($f),e.blur(),this._deactivate(dd.getElementFromSelector(e)),this._queueCallback((()=>{"tab"===e.getAttribute("role")?(e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),sd.trigger(e,xf,{relatedTarget:t})):e.classList.remove(Lf)}),e,e.classList.contains(Mf)))}_keydown(e){if(![Af,If,Ef,Pf,Of,Df].includes(e.key))return;e.stopPropagation(),e.preventDefault();const t=this._getChildren().filter((e=>!Pu(e)));let a;if([Of,Df].includes(e.key))a=t[e.key===Of?0:t.length-1];else{const s=[If,Pf].includes(e.key);a=Vu(t,e.target,s,!0)}a&&(a.focus({preventScroll:!0}),Hf.getOrCreateInstance(a).show())}_getChildren(){return dd.find(zf,this._parent)}_getActiveElem(){return this._getChildren().find((e=>this._elemIsActive(e)))||null}_setInitialAttributes(e,t){this._setAttributeIfNotExists(e,"role","tablist");for(const a of t)this._setInitialAttributesOnChild(a)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);const t=this._elemIsActive(e),a=this._getOuterElement(e);e.setAttribute("aria-selected",t),a!==e&&this._setAttributeIfNotExists(a,"role","presentation"),t||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){const t=dd.getElementFromSelector(e);t&&(this._setAttributeIfNotExists(t,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(t,"aria-labelledby",`${e.id}`))}_toggleDropDown(e,t){const a=this._getOuterElement(e);if(!a.classList.contains("dropdown"))return;const s=(e,s)=>{const n=dd.findOne(e,a);n&&n.classList.toggle(s,t)};s(Nf,$f),s(".dropdown-menu",Lf),a.setAttribute("aria-expanded",t)}_setAttributeIfNotExists(e,t,a){e.hasAttribute(t)||e.setAttribute(t,a)}_elemIsActive(e){return e.classList.contains($f)}_getInnerElement(e){return e.matches(zf)?e:dd.findOne(zf,e)}_getOuterElement(e){return e.closest(".nav-item, .list-group-item")||e}static jQueryInterface(e){return this.each((function(){const t=Hf.getOrCreateInstance(this);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e]()}}))}}sd.on(document,Cf,jf,(function(e){["A","AREA"].includes(this.tagName)&&e.preventDefault(),Pu(this)||Hf.getOrCreateInstance(this).show()})),sd.on(window,Bf,(()=>{for(const e of dd.find(Vf))Hf.getOrCreateInstance(e)})),Ru(Hf);const Ff=".bs.toast",Wf=`mouseover${Ff}`,Uf=`mouseout${Ff}`,Gf=`focusin${Ff}`,qf=`focusout${Ff}`,Kf=`hide${Ff}`,Yf=`hidden${Ff}`,Xf=`show${Ff}`,Qf=`shown${Ff}`,Jf="hide",Zf="show",em="showing",tm={animation:"boolean",autohide:"boolean",delay:"number"},am={animation:!0,autohide:!0,delay:5e3};class sm extends cd{constructor(e,t){super(e,t),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return am}static get DefaultType(){return tm}static get NAME(){return"toast"}show(){sd.trigger(this._element,Xf).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(Jf),$u(this._element),this._element.classList.add(Zf,em),this._queueCallback((()=>{this._element.classList.remove(em),sd.trigger(this._element,Qf),this._maybeScheduleHide()}),this._element,this._config.animation))}hide(){this.isShown()&&(sd.trigger(this._element,Kf).defaultPrevented||(this._element.classList.add(em),this._queueCallback((()=>{this._element.classList.add(Jf),this._element.classList.remove(em,Zf),sd.trigger(this._element,Yf)}),this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Zf),super.dispose()}isShown(){return this._element.classList.contains(Zf)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout((()=>{this.hide()}),this._config.delay)))}_onInteraction(e,t){switch(e.type){case"mouseover":case"mouseout":this._hasMouseInteraction=t;break;case"focusin":case"focusout":this._hasKeyboardInteraction=t}if(t)return void this._clearTimeout();const a=e.relatedTarget;this._element===a||this._element.contains(a)||this._maybeScheduleHide()}_setListeners(){sd.on(this._element,Wf,(e=>this._onInteraction(e,!0))),sd.on(this._element,Uf,(e=>this._onInteraction(e,!1))),sd.on(this._element,Gf,(e=>this._onInteraction(e,!0))),sd.on(this._element,qf,(e=>this._onInteraction(e,!1)))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each((function(){const t=sm.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e](this)}}))}}hd(sm),Ru(sm);var nm,im=Object.defineProperty,om=(e,t,a)=>(((e,t,a)=>{t in e?im(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a})(e,"symbol"!=typeof t?t+"":t,a),a),lm=Object.defineProperty,rm=Object.defineProperties,cm=Object.getOwnPropertyDescriptors,um=Object.getOwnPropertySymbols,dm=Object.prototype.hasOwnProperty,hm=Object.prototype.propertyIsEnumerable,pm=(e,t,a)=>t in e?lm(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,fm=(e,t)=>{for(var a in t||(t={}))dm.call(t,a)&&pm(e,a,t[a]);if(um)for(var a of um(t))hm.call(t,a)&&pm(e,a,t[a]);return e},mm=(e,t)=>rm(e,cm(t));function gm(e,t){const a=It();return un((()=>{a.value=e()}),mm(fm({},t),{flush:"sync"})),vt(a)}const vm=typeof window<"u";function bm(e){return"function"==typeof e?e():Ot(e)}function ym(e){return!!ce()&&(ue(e),!0)}vm&&(null==(nm=null==window?void 0:window.navigator)?void 0:nm.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);const _m=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},wm="__vueuse_ssr_handlers__";var xm,Sm;_m[wm]=_m[wm]||{},(Sm=xm||(xm={})).UP="UP",Sm.RIGHT="RIGHT",Sm.DOWN="DOWN",Sm.LEFT="LEFT",Sm.NONE="NONE";var km=Object.defineProperty,Cm=Object.getOwnPropertySymbols,Tm=Object.prototype.hasOwnProperty,Bm=Object.prototype.propertyIsEnumerable,Am=(e,t,a)=>t in e?km(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a;((e,t)=>{for(var a in t||(t={}))Tm.call(t,a)&&Am(e,a,t[a]);if(Cm)for(var a of Cm(t))Bm.call(t,a)&&Am(e,a,t[a])})({linear:function(e){return e}},{easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]});const Im=e=>gm((()=>e.value?`justify-content-${e.value}`:""));class Em{constructor(e,t={}){if(om(this,"cancelable",!0),om(this,"componentId",null),om(this,"_defaultPrevented",!1),om(this,"eventType",""),om(this,"nativeEvent",null),om(this,"_preventDefault"),om(this,"relatedTarget",null),om(this,"target",null),!e)throw new TypeError(`Failed to construct '${this.constructor.name}'. 1 argument required, ${arguments.length} given.`);Object.assign(this,Em.Defaults,t,{eventType:e}),this._preventDefault=function(){this.cancelable&&(this.defaultPrevented=!0)}}get defaultPrevented(){return this._defaultPrevented}set defaultPrevented(e){this._defaultPrevented=e}get preventDefault(){return this._preventDefault}set preventDefault(e){this._preventDefault=e}static get Defaults(){return{cancelable:!0,componentId:null,eventType:"",nativeEvent:null,relatedTarget:null,target:null}}}class Pm extends Em{constructor(e,t={}){super(e,t),om(this,"trigger",null),Object.assign(this,Em.Defaults,t,{eventType:e})}static get Defaults(){return{...super.Defaults,trigger:null}}}const Om=e=>null!==e&&"object"==typeof e,Dm=e=>/^[0-9]*\.?[0-9]+$/.test(String(e)),$m=e=>null===e,Mm=/_/g,Lm=/([a-z])([A-Z])/g,Nm=/(\s|^)(\w)/g,Rm=/(\s|^)(\w)/,jm=/\s+/,zm=/^#/,Vm=/^#[A-Za-z]+[\w\-:.]*$/,Hm=/-u-.+/,Fm=(e,t=2)=>"string"==typeof e?e:null==e?"":Array.isArray(e)||(e=>"[object Object]"===Object.prototype.toString.call(e))(e)&&e.toString===Object.prototype.toString?JSON.stringify(e,null,t):String(e),Wm=e=>e.replace(Mm," ").replace(Lm,((e,t,a)=>`${t} ${a}`)).replace(Rm,((e,t,a)=>t+a.toUpperCase())),Um=e=>e.replace(Mm," ").replace(Lm,((e,t,a)=>`${t} ${a}`)).replace(Nm,((e,t,a)=>t+a.toUpperCase())),Gm=e=>`\\${e}`,qm=typeof window<"u",Km=typeof document<"u",Ym=typeof navigator<"u",Xm=qm&&Km&&Ym,Qm=qm?window:{},Jm=(()=>{let e=!1;if(Xm)try{const t={get passive(){e=!0}};Qm.addEventListener("test",t,t),Qm.removeEventListener("test",t,t)}catch{e=!1}return e})(),Zm=typeof window<"u",eg=typeof document<"u",tg=typeof Element<"u",ag=typeof navigator<"u",sg=Zm&&eg&&ag,ng=Zm?window:{},ig=eg?document:{},og=ag?navigator:{};(og.userAgent||"").toLowerCase().indexOf("jsdom"),(()=>{let e=!1;if(sg)try{const t={get passive(){return e=!0,e}};ng.addEventListener("test",t,t),ng.removeEventListener("test",t,t)}catch{e=!1}})(),sg&&("ontouchstart"in ig.documentElement||og.maxTouchPoints),sg&&Boolean(ng.PointerEvent||ng.MSPointerEvent),sg&&"IntersectionObserver"in ng&&"IntersectionObserverEntry"in ng&&ng.IntersectionObserverEntry.prototype;const lg=tg?Element.prototype:void 0,rg=(null==lg?void 0:lg.matches)||(null==lg?void 0:lg.msMatchesSelector)||(null==lg?void 0:lg.webkitMatchesSelector),cg=e=>!(!e||e.nodeType!==Node.ELEMENT_NODE),ug=e=>{if("none"===((e,t)=>cg(e)&&e.getAttribute("display")||null)(e))return!1;const t=(e=>cg(e)?e.getBoundingClientRect():null)(e);return!!(t&&t.height>0&&t.width>0)},dg=(e,t)=>!e||e(t).filter((e=>e.type!==Tn)).length<1,hg=(e,t)=>(cg(t)?t:ig).querySelector(e)||null,pg=(e,t)=>t&&cg(e)?e.getAttribute(t):null,fg=qm?window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||(e=>setTimeout(e,16)):e=>setTimeout(e,0),mg=(e,t)=>!!cg(e)&&rg.call(e,t),gg=(null==lg?void 0:lg.closest)||function(e){let t=this;if(!t)return null;do{if(mg(t,e))return t;t=t.parentElement||t.parentNode}while(null!==t&&t.nodeType===Node.ELEMENT_NODE);return null},vg=(e,t,a=!1)=>{if(!cg(t))return null;const s=gg.call(t,e);return a?s:s===t?null:s},bg=(e,t,a)=>t.concat(["sm","md","lg","xl","xxl"]).reduce(((t,s)=>(t[e?`${e}${s.charAt(0).toUpperCase()+s.slice(1)}`:s]=a,t)),Object.create(null)),yg=(e,t,a,s=a)=>Object.keys(t).reduce(((t,n)=>(e[n]&&t.push([s,n.replace(a,""),e[n]].filter((e=>e&&"boolean"!=typeof e)).join("-").toLowerCase()),t)),[]),_g=(e="")=>`__BVID__${Math.random().toString().slice(2,8)}___BV_${e}__`,wg=(e,t)=>!0===e||"true"===e||""===e?"true":"grammar"===e||"spelling"===e?e:!1===t?"true":!1===e||"false"===e?"false":void 0,xg=e=>!!e&&"object"==typeof e&&e.constructor===Object,Sg=(e,t,a=!0)=>{const s=e instanceof Date&&"function"==typeof e.getMonth?new Date(e.getTime()):Object.assign({},e);return xg(e)&&xg(t)&&Object.keys(t).forEach((n=>{xg(t[n])?n in e?s[n]=Sg(e[n],t[n],a):Object.assign(s,{[n]:t[n]}):Array.isArray(t[n])&&Array.isArray(e[n])?Object.assign(s,{[n]:a?e[n].concat(t[n].filter((t=>!e[n].includes(t)))):t[n]}):Object.assign(s,{[n]:t[n]})})),s},kg=(e,t={},a={})=>{const s=[e];let n;for(let i=0;i<s.length&&!n;i++)n=a[s[i]];return n&&"function"==typeof n?n(t):n},Cg=(e,t=NaN)=>Number.isInteger(e)?e:t,Tg=(e,t=NaN)=>{const a=Number.parseInt(e,10);return Number.isNaN(a)?t:a},Bg=(e,t=NaN)=>{const a=Number.parseFloat(e.toString());return Number.isNaN(a)?t:a},Ag=(e,t)=>Object.keys(e).filter((e=>!t.includes(e))).reduce(((t,a)=>({...t,[a]:e[a]})),{}),Ig=e=>Array.isArray(e)?e.map((e=>Ig(e))):e instanceof Date?new Date(e.getTime()):e&&"object"==typeof e?Object.getOwnPropertyNames(e).reduce(((t,a)=>{var s;return Object.defineProperty(t,a,null!=(s=Object.getOwnPropertyDescriptor(e,a))?s:{}),t[a]=Ig(e[a]),t}),Object.create(Object.getPrototypeOf(e))):e,Eg=e=>new Promise((t=>t(Ig(e)))),Pg=(e,t)=>t+(e?(e=>{const t=e.trim();return t.charAt(0).toUpperCase()+t.slice(1)})(e):""),Og=(e,t)=>(Array.isArray(t)?t.slice():Object.keys(t)).reduce(((t,a)=>(t[a]=e[a],t)),{}),Dg=e=>!(!e.href&&!e.to);function $g(e){return gm((()=>void 0===e.value||null===e.value?e.value:(e=>"boolean"==typeof e?e:""===e||"true"===e)(e.value)))}const Mg=Symbol(),Lg={items:mt([]),reset(){this.items=mt([])}},Ng=(e,t,a)=>{Xa((()=>{var s;null==(s=null==e?void 0:e.value)||s.addEventListener(t,a)})),Za((()=>{var s;null==(s=null==e?void 0:e.value)||s.removeEventListener(t,a)}))},Rg=e=>pi((()=>({"form-check":!1===e.plain&&!1===e.button,"form-check-inline":!0===e.inline,"form-switch":!0===e.switch,[`form-control-${e.size}`]:void 0!==e.size&&"md"!==e.size}))),jg=e=>pi((()=>({"form-check-input":!1===e.plain&&!1===e.button,"is-valid":!0===e.state,"is-invalid":!1===e.state,"btn-check":!0===e.button}))),zg=e=>pi((()=>({"form-check-label":!1===e.plain&&!1===e.button,btn:!0===e.button,[`btn-${e.buttonVariant}`]:!0===e.button&&void 0!==e.buttonVariant,[`btn-${e.size}`]:e.button&&e.size&&"md"!==e.size}))),Vg=e=>pi((()=>({"aria-invalid":wg(e.ariaInvalid,e.state),"aria-required":!0===e.required||void 0}))),Hg=e=>pi((()=>({"was-validated":!0===e.validated,"btn-group":!0===e.buttons&&!1===e.stacked,"btn-group-vertical":!0===e.stacked,[`btn-group-${e.size}`]:void 0!==e.size}))),Fg=(e,t,a)=>e.reduce(((e,t)=>"Symbol(Fragment)"===t.type.toString()?e.concat(t.children):e.concat([t])),[]).filter((e=>e.type.__name===t||e.type.name===t)).map((e=>{const t=(e.children.default?e.children.default():[]).find((e=>"Symbol(Text)"===e.type.toString()));return{props:{disabled:a,...e.props},text:t?t.children:""}})),Wg=(e,t)=>"string"==typeof e?{props:{value:e,disabled:t.disabled},text:e}:{props:{value:e[t.valueField],disabled:t.disabled||e[t.disabledField],...e.props},text:e[t.textField],html:e[t.htmlField]},Ug=(e,t,a,s,n)=>({...e,props:{"button-variant":a.buttonVariant,form:a.form,name:s.value,id:`${n.value}_option_${t}`,button:a.buttons,state:a.state,plain:a.plain,size:a.size,inline:!a.stacked,required:a.required,...e.props}}),Gg=(e,t)=>pi((()=>(null==e?void 0:e.value)||_g(t))),qg={ariaInvalid:{type:[Boolean,String],default:void 0},autocomplete:{type:String,required:!1},autofocus:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},form:{type:String,required:!1},formatter:{type:Function,required:!1},id:{type:String,required:!1},lazy:{type:Boolean,default:!1},lazyFormatter:{type:Boolean,default:!1},list:{type:String,required:!1},modelValue:{type:[String,Number],default:""},name:{type:String,required:!1},number:{type:Boolean,default:!1},placeholder:{type:String,required:!1},plaintext:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},required:{type:Boolean,default:!1},size:{type:String,required:!1},state:{type:Boolean,default:null},trim:{type:Boolean,default:!1}},Kg=(e,t)=>{const a=At();let s=null,n=!0;const i=Gg(Nt(e,"id"),"input"),o=(t,a,s=!1)=>(t=String(t),"function"!=typeof e.formatter||e.lazyFormatter&&!s?t:(n=!1,e.formatter(t,a))),l=t=>e.trim?t.trim():e.number?Number.parseFloat(t):t,r=()=>{ea((()=>{var t;e.autofocus&&(null==(t=a.value)||t.focus())}))};Xa(r),Xa((()=>{a.value&&(a.value.value=e.modelValue)})),Fa(r);const c=pi((()=>{var t;return wg(e.ariaInvalid,null!=(t=e.state)?t:void 0)}));return dn((()=>e.modelValue),(e=>{!a.value||(a.value.value=s&&n?s:e,s=null,n=!0)})),{input:a,computedId:i,computedAriaInvalid:c,onInput:a=>{const{value:n}=a.target,i=o(n,a);if(!1===i||a.defaultPrevented)return void a.preventDefault();if(e.lazy)return;const r=l(i);e.modelValue!==r&&(s=n,t("update:modelValue",r)),t("input",i)},onChange:a=>{const{value:n}=a.target,i=o(n,a);if(!1===i||a.defaultPrevented)return void a.preventDefault();if(!e.lazy)return;s=n,t("update:modelValue",i);const r=l(i);e.modelValue!==r&&t("change",i)},onBlur:a=>{if(t("blur",a),!e.lazy&&!e.lazyFormatter)return;const{value:n}=a.target,i=o(n,a,!0);s=n,t("update:modelValue",i)},focus:()=>{var t;e.disabled||null==(t=a.value)||t.focus()},blur:()=>{var t;e.disabled||null==(t=a.value)||t.blur()}}},Yg=(e,t)=>{if(!e)return e;if(t in e)return e[t];const a=t.split(".");return Yg(e[a[0]],a.splice(1).join("."))},Xg=(e,t=null,a,s)=>{if("[object Object]"===Object.prototype.toString.call(e)){const n=Yg(e,s.valueField),i=Yg(e,s.textField),o=Yg(e,s.htmlField),l=Yg(e,s.disabledField),r=e[s.optionsField]||null;return null!==r?{label:String(Yg(e,s.labelField)||i),options:Qg(r,a,s)}:{value:typeof n>"u"?t||i:n,text:String(typeof i>"u"?t:i),html:o,disabled:Boolean(l)}}return{value:t||e,text:String(e),disabled:!1}},Qg=(e,t,a)=>Array.isArray(e)?e.map((e=>Xg(e,null,t,a))):"[object Object]"===Object.prototype.toString.call(e)?(console.warn(`[BootstrapVue warn]: ${t} - Setting prop "options" to an object is deprecated. Use the array format instead.`),Object.keys(e).map((s=>{const n=e[s];return"object"==typeof n?Xg(n.text,String(n.value),t,a):Xg(n,String(s),t,a)}))):[],Jg=["id"],Zg=Symbol(),ev=Ra({__name:"BAccordion",props:{flush:{default:!1},free:{default:!1},id:null},setup(e){const t=e,a=Gg(Nt(t,"id"),"accordion"),s=$g(Nt(t,"flush")),n=$g(Nt(t,"free")),i=pi((()=>({"accordion-flush":s.value})));return n.value||Rs(Zg,a.value),(e,t)=>(En(),$n("div",{id:Ot(a),class:Y(["accordion",Ot(i)])},[ps(e.$slots,"default")],10,Jg))}}),tv=Ra({__name:"BCollapse",props:{accordion:null,id:{default:_g()},modelValue:{default:!1},tag:{default:"div"},toggle:{default:!1},visible:{default:!1},isNav:{default:!1}},emits:["update:modelValue","show","shown","hide","hidden"],setup(e,{emit:t}){const a=e,s=$g(Nt(a,"modelValue")),n=$g(Nt(a,"toggle")),i=$g(Nt(a,"visible")),o=$g(Nt(a,"isNav")),l=At(),r=At(),c=pi((()=>({show:s.value,"navbar-collapse":o.value}))),u=()=>t("update:modelValue",!1);return dn((()=>s.value),(e=>{var t,a;e?null==(t=r.value)||t.show():null==(a=r.value)||a.hide()})),dn((()=>i.value),(e=>{var a,s;e?(t("update:modelValue",!!e),null==(a=r.value)||a.show()):(t("update:modelValue",!!e),null==(s=r.value)||s.hide())})),Ng(l,"show.bs.collapse",(()=>{t("show"),t("update:modelValue",!0)})),Ng(l,"hide.bs.collapse",(()=>{t("hide"),t("update:modelValue",!1)})),Ng(l,"shown.bs.collapse",(()=>t("shown"))),Ng(l,"hidden.bs.collapse",(()=>t("hidden"))),Xa((()=>{var e;r.value=new hh(l.value,{parent:a.accordion?`#${a.accordion}`:void 0,toggle:n.value}),(i.value||s.value)&&(t("update:modelValue",!0),null==(e=r.value)||e.show())})),(t,a)=>(En(),Mn(rs(e.tag),{id:e.id,ref_key:"element",ref:l,class:Y(["collapse",Ot(c)]),"data-bs-parent":e.accordion||null,"is-nav":Ot(o)},{default:ua((()=>[ps(t.$slots,"default",{visible:Ot(s),close:u})])),_:3},8,["id","class","data-bs-parent","is-nav"]))}}),av=(e,t)=>e.setAttribute("data-bs-theme",t),sv={mounted(e,t){av(e,t.value)},updated(e,t){av(e,t.value)}},nv={mounted(e,t){const a=t.modifiers.left?"left":t.modifiers.right?"right":t.modifiers.bottom?"bottom":t.modifiers.top?"top":"right",s=[];t.modifiers.manual?s.push("manual"):(t.modifiers.click&&s.push("click"),t.modifiers.hover&&s.push("hover"),t.modifiers.focus&&s.push("focus")),e.setAttribute("data-bs-toggle","popover"),new rf(e,{trigger:0===s.length?"click":s.join(" "),placement:a,content:t.value,html:t.modifiers.html})},unmounted(e){const t=rf.getInstance(e);null!==t&&t.dispose()}},iv={mounted(e,t){const a=((e,t)=>{const{modifiers:a,arg:s,value:n}=e,i=Object.keys(a||{}),o="string"==typeof n?n.split(jm):n;if(((e,t)=>Fm(e).toLowerCase()===Fm("a").toLowerCase())(t.tagName)){const e=pg(t,"href")||"";Vm.test(e)&&i.push(e.replace(zm,""))}return Array.prototype.concat.apply([],[s,o]).forEach((e=>"string"==typeof e&&i.push(e))),i.filter(((e,t,a)=>e&&a.indexOf(e)===t))})(t,e),s=[],n="a"===e.tagName?"href":"data-bs-target";a.forEach((t=>{const a=document.getElementById(t);null!==a&&(e.setAttribute("data-bs-toggle",(e=>{if(e.classList.contains("offcanvas"))return"offcanvas";if(e.classList.contains("collapse"))return"collapse";throw Error("Couldn't resolve toggle type")})(a)),s.push(`#${t}`))})),s.length>0&&e.setAttribute(n,s.join(","))}},ov=e=>typeof e>"u"?(console.warn("Review tooltip directive usage. Some uses are not defining a title in root component or a value like `v-b-tooltip='{title: \"my title\"}'` nor `v-b-tooltip=\"'my title'\"` to define a title"),""):"object"==typeof e?null==e?void 0:e.title:e,lv={beforeMount(e,t){e.setAttribute("data-bs-toggle","tooltip"),e.getAttribute("title")||e.setAttribute("title",ov(t.value).toString());const a=/<("[^"]*"|'[^']*'|[^'">])*>/.test(e.title),s=((e,t)=>{if(null!=t&&t.trigger)return t.trigger;if(e.manual)return"manual";const a=[];return e.click&&a.push("click"),e.hover&&a.push("hover"),e.focus&&a.push("focus"),a.length>0?a.join(" "):"hover focus"})(t.modifiers,t.value),n=((e,t)=>null!=t&&t.placement?t.placement:e.left?"left":e.right?"right":e.bottom?"bottom":"top")(t.modifiers,t.value),i=(e=>null!=e&&e.delay?e.delay:0)(t.value),o=e.getAttribute("title");new af(e,{trigger:s,placement:n,delay:i,html:a}),o&&e.setAttribute("data-bs-original-title",o)},updated(e,t){e.getAttribute("title")||e.setAttribute("title",ov(t.value).toString());const a=e.getAttribute("title"),s=e.getAttribute("data-bs-original-title"),n=af.getInstance(e);e.removeAttribute("title"),a&&a!==s&&(null==n||n.setContent({".tooltip-inner":a}),e.setAttribute("data-bs-original-title",a))},unmounted(e){const t=af.getInstance(e);null!==t&&t.dispose()}},rv=new Map;class cv{constructor(e,t,a,s,n){om(this,"element"),om(this,"margin"),om(this,"once"),om(this,"callback"),om(this,"instance"),om(this,"observer"),om(this,"doneOnce"),om(this,"visible"),this.element=e,this.margin=t,this.once=a,this.callback=s,this.instance=n,this.createObserver()}createObserver(){if(this.observer&&this.stop(),!this.doneOnce&&"function"==typeof this.callback){try{this.observer=new IntersectionObserver(this.handler.bind(this),{root:null,rootMargin:this.margin,threshold:0})}catch{return console.error("Intersection Observer not supported"),this.doneOnce=!0,this.observer=void 0,void this.callback(null)}this.instance.$nextTick((()=>{this.observer&&this.observer.observe(this.element)}))}}handler(e){const[t]=e,a=Boolean(t.isIntersecting||t.intersectionRatio>0);a!==this.visible&&(this.visible=a,this.callback(a),this.once&&this.visible&&(this.doneOnce=!0,this.stop()))}stop(){this.observer&&this.observer.disconnect(),this.observer=null}}const uv=e=>{if(rv.has(e)){const t=rv.get(e);t&&t.stop&&t.stop(),rv.delete(e)}},dv=(e,t)=>{const a={margin:"0px",once:!1,callback:t.value};Object.keys(t.modifiers).forEach((e=>{Number.isInteger(e)?a.margin=`${e}px`:"once"===e.toLowerCase()&&(a.once=!0)})),uv(e);const s=new cv(e,a.margin,a.once,a.callback,t.instance);rv.set(e,s)},hv={beforeMount(e,t){dv(e,t)},updated(e,t){dv(e,t)},unmounted(e){uv(e)}},pv={class:"accordion-item"},fv=["id"],mv=["aria-expanded","aria-controls"],gv={class:"accordion-body"},vv=Ra({__name:"BAccordionItem",props:{id:null,title:null,visible:{default:!1}},setup(e){const t=e,a=js(Zg,""),s=Gg(Nt(t,"id"),"accordion_item"),n=$g(Nt(t,"visible"));return(t,i)=>(En(),$n("div",pv,[zn("h2",{id:`${Ot(s)}heading`,class:"accordion-header"},[da((En(),$n("button",{class:Y(["accordion-button",{collapsed:!Ot(n)}]),type:"button","aria-expanded":Ot(n)?"true":"false","aria-controls":Ot(s)},[ps(t.$slots,"title",{},(()=>[Wn(ae(e.title),1)]))],10,mv)),[[Ot(iv),void 0,Ot(s)]])],8,fv),Vn(tv,{id:Ot(s),class:"accordion-collapse",visible:e.visible,accordion:Ot(a),"aria-labelledby":`heading${Ot(s)}`},{default:ua((()=>[zn("div",gv,[ps(t.$slots,"default")])])),_:3},8,["id","visible","accordion","aria-labelledby"])]))}}),bv=Ra({__name:"BTransition",props:{appear:{default:!1},mode:null,noFade:{default:!1},transProps:null},setup(e){const t=e,a=$g(Nt(t,"appear")),s=$g(Nt(t,"noFade")),n=pi((()=>{const e={name:"",enterActiveClass:"",enterToClass:"",leaveActiveClass:"",leaveToClass:"showing",enterFromClass:"showing",leaveFromClass:""},t={...e,enterActiveClass:"fade showing",leaveActiveClass:"fade showing"};return s.value?e:t})),i=pi((()=>({mode:t.mode,css:!0,...n.value}))),o=pi((()=>void 0!==t.transProps?{...i.value,...t.transProps}:a.value?{...i.value,appear:!0,appearActiveClass:n.value.enterActiveClass,appearToClass:n.value.enterToClass}:i.value));return(e,t)=>(En(),Mn(Bi,X(Hn(Ot(o))),{default:ua((()=>[ps(e.$slots,"default")])),_:3},16))}}),yv=["type","disabled","aria-label"],_v=Ra({__name:"BCloseButton",props:{ariaLabel:{default:"Close"},disabled:{default:!1},white:{default:!1},type:{default:"button"}},emits:["click"],setup(e,{emit:t}){const a=e,s=$g(Nt(a,"disabled")),n=$g(Nt(a,"white")),i=pi((()=>({"btn-close-white":n.value})));return(a,n)=>(En(),$n("button",{type:e.type,class:Y(["btn-close",Ot(i)]),disabled:Ot(s),"aria-label":e.ariaLabel,onClick:n[0]||(n[0]=e=>t("click",e))},null,10,yv))}}),wv={key:0,class:"visually-hidden"},xv=Ra({__name:"BSpinner",props:{label:null,role:{default:"status"},small:{default:!1},tag:{default:"span"},type:{default:"border"},variant:null},setup(e){const t=e,a=ys(),s=$g(Nt(t,"small")),n=pi((()=>({"spinner-border":"border"===t.type,"spinner-border-sm":"border"===t.type&&s.value,"spinner-grow":"grow"===t.type,"spinner-grow-sm":"grow"===t.type&&s.value,[`text-${t.variant}`]:void 0!==t.variant}))),i=pi((()=>!dg(a.label)));return(t,a)=>(En(),Mn(rs(e.tag),{class:Y(Ot(n)),role:e.label||Ot(i)?e.role:null,"aria-hidden":!e.label&&!Ot(i)||null},{default:ua((()=>[e.label||Ot(i)?(En(),$n("span",wv,[ps(t.$slots,"label",{},(()=>[Wn(ae(e.label),1)]))])):Gn("",!0)])),_:3},8,["class","role","aria-hidden"]))}}),Sv={active:{type:[Boolean,String],default:!1},activeClass:{type:String,default:"router-link-active"},append:{type:[Boolean,String],default:!1},disabled:{type:[Boolean,String],default:!1},event:{type:[String,Array],default:"click"},exact:{type:[Boolean,String],default:!1},exactActiveClass:{type:String,default:"router-link-exact-active"},href:{type:String},rel:{type:String,default:null},replace:{type:[Boolean,String],default:!1},routerComponentName:{type:String,default:"router-link"},routerTag:{type:String,default:"a"},target:{type:String,default:"_self"},to:{type:[String,Object],default:null}},kv=Ra({props:Sv,emits:["click"],setup(e,{emit:t,attrs:a}){const s=$g(Nt(e,"active")),n=$g(Nt(e,"append")),i=$g(Nt(e,"disabled")),o=$g(Nt(e,"exact")),l=$g(Nt(e,"replace")),r=ti(),c=At(null),u=pi((()=>{const t=e.routerComponentName.split("-").map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join("");return void 0===(null==r?void 0:r.appContext.app.component(t))||i.value||!e.to?"a":e.routerComponentName})),d=pi((()=>{if(e.href)return e.href;if("string"==typeof e.to)return e.to||"#";const t=e.to;return"[object Object]"===Object.prototype.toString.call(t)&&(t.path||t.query||t.hash)&&`${t.path||""}${t.query?`?${Object.keys(t.query).map((e=>`${e}=${t.query[e]}`)).join("=")}`:""}${t.hash&&"#"!==t.hash.charAt(0)?`#${t.hash}`:t.hash||""}`||"#"})),h=pi((()=>({to:e.to,href:d.value,target:e.target,rel:"_blank"===e.target&&null===e.rel?"noopener":e.rel||null,tabindex:i.value?"-1":typeof a.tabindex>"u"?null:a.tabindex,"aria-disabled":i.value?"true":null})));return{computedLinkClasses:pi((()=>({active:s.value,disabled:i.value}))),tag:u,routerAttr:h,link:c,clicked:e=>{if(i.value)return e.preventDefault(),void e.stopImmediatePropagation();t("click",e)},activeBoolean:s,appendBoolean:n,disabledBoolean:i,replaceBoolean:l,exactBoolean:o}}}),Cv=(e,t)=>{const a=e.__vccOpts||e;for(const[s,n]of t)a[s]=n;return a},Tv=Cv(kv,[["render",function(e,t,a,s,n,i){return"router-link"===e.tag?(En(),Mn(rs(e.tag),Xn({key:0},e.routerAttr,{custom:""}),{default:ua((({href:t,navigate:a,isActive:s,isExactActive:n})=>[(En(),Mn(rs(e.routerTag),Xn({ref:"link",href:t,class:[(s||e.activeBoolean)&&e.activeClass,(n||e.exactBoolean)&&e.exactActiveClass]},e.$attrs,{onClick:a}),{default:ua((()=>[ps(e.$slots,"default")])),_:2},1040,["href","class","onClick"]))])),_:3},16)):(En(),Mn(rs(e.tag),Xn({key:1,ref:"link",class:e.computedLinkClasses},e.routerAttr,{onClick:e.clicked}),{default:ua((()=>[ps(e.$slots,"default")])),_:3},16,["class","onClick"]))}]]),Bv=Ra({components:{BLink:Tv,BSpinner:xv},props:{...Sv,active:{type:[Boolean,String],default:!1},disabled:{type:[Boolean,String],default:!1},href:{type:String,required:!1},pill:{type:[Boolean,String],default:!1},pressed:{type:[Boolean,String],default:!1},rel:{type:String,default:void 0},size:{type:String,default:"md"},squared:{type:[Boolean,String],default:!1},tag:{type:String,default:"button"},target:{type:String,default:"_self"},type:{type:String,default:"button"},variant:{type:String,default:"secondary"},loading:{type:[Boolean,String],default:!1},loadingMode:{type:String,default:"inline"}},emits:["click","update:pressed"],setup(e,{emit:t}){const a=$g(Nt(e,"active")),s=$g(Nt(e,"disabled")),n=$g(Nt(e,"pill")),i=$g(Nt(e,"pressed")),o=$g(Nt(e,"squared")),l=$g(Nt(e,"loading")),r=pi((()=>!0===i.value)),c=pi((()=>"button"===e.tag&&void 0===e.href&&null===e.to)),u=pi((()=>Dg(e))),d=pi((()=>null!==e.to)),h=pi((()=>void 0===e.href&&!c.value));return{computedClasses:pi((()=>[[`btn-${e.variant}`],[`btn-${e.size}`],{active:a.value||i.value,"rounded-pill":n.value,"rounded-0":o.value,disabled:s.value}])),computedAttrs:pi((()=>({"aria-disabled":h.value?s.value:null,"aria-pressed":r.value?i.value:null,autocomplete:r.value?"off":null,disabled:c.value?s.value:null,href:e.href,rel:u.value?e.rel:null,role:h.value||u.value?"button":null,target:u.value?e.target:null,type:c.value?e.type:null,to:c.value?null:e.to,append:u.value?e.append:null,activeClass:d.value?e.activeClass:null,event:d.value?e.event:null,exact:d.value?e.exact:null,exactActiveClass:d.value?e.exactActiveClass:null,replace:d.value?e.replace:null,routerComponentName:d.value?e.routerComponentName:null,routerTag:d.value?e.routerTag:null}))),computedTag:pi((()=>d.value?Tv:e.href?"a":e.tag)),clicked:e=>{if(s.value)return e.preventDefault(),void e.stopPropagation();t("click",e),r.value&&t("update:pressed",!i.value)},loadingBoolean:l}}}),Av=Cv(Bv,[["render",function(e,t,a,s,n,i){const o=os("b-spinner");return En(),Mn(rs(e.computedTag),Xn({class:["btn",e.computedClasses]},e.computedAttrs,{onClick:e.clicked}),{default:ua((()=>[e.loadingBoolean?(En(),$n("div",{key:0,class:Y(["btn-loading",{"mode-fill":"fill"===e.loadingMode,"mode-inline":"inline"===e.loadingMode}])},[ps(e.$slots,"loading",{},(()=>[Vn(o,{class:"btn-spinner",small:"lg"!==e.size},null,8,["small"])]))],2)):Gn("",!0),zn("div",{class:Y(["btn-content",{"btn-loading-fill":e.loadingBoolean&&"fill"===e.loadingMode}])},[ps(e.$slots,"default")],2)])),_:3},16,["class","onClick"])}]]),Iv=Ra({__name:"BAlert",props:{dismissLabel:{default:"Close"},dismissible:{default:!1},fade:{default:!1},modelValue:{type:[Boolean,Number],default:!1},variant:{default:"info"},closeContent:null,immediate:{default:!0},interval:{default:1e3},showOnPause:{default:!0}},emits:["closed","close-countdown","update:modelValue"],setup(e,{expose:t,emit:a}){const s=e,n=$g(Nt(s,"dismissible")),i=$g(Nt(s,"fade")),o=$g(Nt(s,"immediate")),l=$g(Nt(s,"showOnPause")),r=ys(),c=pi((()=>!dg(r.close))),u=pi((()=>[[`alert-${s.variant}`],{"alert-dismissible":n.value}])),{isActive:d,pause:h,restart:p,resume:f,stop:m,isPaused:g,value:v}=((e,t=At(1e3),a={})=>{const s=At(!1),n=At(0),i=At(bm(e)),o=At(bm(t)),l=pi((()=>Math.ceil(i.value/o.value))),r=pi((()=>d.value||s.value?Math.round(i.value-n.value*o.value):0)),{pause:c,resume:u,isActive:d}=function(e,t=1e3,a={}){const{immediate:s=!0,immediateCallback:n=!1}=a;let i=null;const o=At(!1);function l(){i&&(clearInterval(i),i=null)}function r(){o.value=!1,l()}function c(){Ot(t)<=0||(o.value=!0,n&&e(),l(),i=setInterval(e,bm(t)))}return s&&vm&&c(),(Bt(t)||(e=>"function"==typeof e)(t))&&ym(dn(t,(()=>{o.value&&vm&&c()}))),ym(r),{isActive:o,pause:r,resume:c}}((()=>n.value=n.value+1),t,a),h=()=>{s.value=!1,n.value=0,u()},p=()=>{s.value=!1,n.value=l.value};return un((()=>{const t=bm(e);t!==i.value&&(i.value=t,p(),h())})),un((()=>{const e=bm(t);e!==o.value&&(o.value=e,p(),h())})),un((()=>{n.value>l.value&&(n.value=l.value),n.value===l.value&&c()})),{isActive:vt(d),isPaused:vt(s),restart:h,stop:p,pause:()=>{!1!==d.value&&(s.value=!0,c())},resume:()=>{n.value!==l.value&&(s.value=!1,u())},value:r}})("boolean"==typeof s.modelValue?0:Nt(s,"modelValue"),Nt(s,"interval"),{immediate:"number"==typeof s.modelValue&&o.value}),b=pi((()=>"boolean"==typeof s.modelValue?s.modelValue:d.value||l.value&&g.value));un((()=>a("close-countdown",v.value)));const y=()=>{"boolean"==typeof s.modelValue?a("update:modelValue",!1):(a("update:modelValue",0),m()),a("closed")};return Za((()=>m())),t({pause:h,resume:f,restart:p,stop:m}),(t,a)=>(En(),Mn(bv,{"no-fade":!Ot(i),"trans-props":{enterToClass:"show"}},{default:ua((()=>[Ot(b)?(En(),$n("div",{key:0,class:Y(["alert",Ot(u)]),role:"alert","aria-live":"polite","aria-atomic":"true"},[ps(t.$slots,"default"),Ot(n)?(En(),$n(kn,{key:0},[Ot(c)||e.closeContent?(En(),Mn(Av,{key:0,type:"button",onClick:y},{default:ua((()=>[ps(t.$slots,"close",{},(()=>[Wn(ae(e.closeContent),1)]))])),_:3})):(En(),Mn(_v,{key:1,"aria-label":e.dismissLabel,onClick:y},null,8,["aria-label"]))],64)):Gn("",!0)],2)):Gn("",!0)])),_:3},8,["no-fade"]))}}),Ev=Symbol(),Pv=Ra({__name:"BAvatarGroup",props:{overlap:{default:.3},rounded:{type:[Boolean,String],default:!1},size:null,square:{default:!1},tag:{default:"div"},variant:null},setup(e){const t=e,a=$g(Nt(t,"square")),s=pi((()=>Mv(t.size))),n=pi((()=>Math.min(Math.max(o(t.overlap),0),1)/2)),i=pi((()=>{const e=s.value?`calc(${s.value} * ${n.value})`:null;return e?{paddingLeft:e,paddingRight:e}:{}})),o=e=>"string"==typeof e&&Dm(e)?Bg(e,0):e||0;return Rs(Ev,{overlapScale:n,size:t.size,square:a.value,rounded:t.rounded,variant:t.variant}),(t,a)=>(En(),Mn(rs(e.tag),{class:"b-avatar-group",role:"group"},{default:ua((()=>[zn("div",{class:"b-avatar-group-inner",style:W(Ot(i))},[ps(t.$slots,"default")],4)])),_:3}))}}),Ov={key:0,class:"b-avatar-custom"},Dv={key:1,class:"b-avatar-img"},$v=["src","alt"],Mv=e=>{const t="string"==typeof e&&Dm(e)?Bg(e,0):e;return"number"==typeof t?`${t}px`:t||null},Lv=Ra({__name:"BAvatar",props:{alt:{default:"avatar"},ariaLabel:null,badge:{type:[Boolean,String],default:!1},badgeLeft:{default:!1},badgeOffset:null,badgeTop:{default:!1},badgeVariant:{default:"primary"},button:{default:!1},buttonType:{default:"button"},disabled:{default:!1},icon:null,rounded:{type:[Boolean,String],default:"circle"},size:null,square:{default:!1},src:null,text:null,textVariant:null,variant:{default:"secondary"}},emits:["click","img-error"],setup(e,{emit:t}){const a=e,s=ys(),n=js(Ev,null),i=["sm",null,"lg"],o=.4*.7,l=$g(Nt(a,"badgeLeft")),r=$g(Nt(a,"badgeTop")),c=$g(Nt(a,"button")),u=$g(Nt(a,"disabled")),d=$g(Nt(a,"square")),h=pi((()=>!dg(s.default))),p=pi((()=>!dg(s.badge))),f=pi((()=>!!a.badge||""===a.badge||p.value)),m=pi((()=>null!=n&&n.size?n.size:Mv(a.size))),g=pi((()=>null!=n&&n.variant?n.variant:a.variant)),v=pi((()=>null!=n&&n.rounded?n.rounded:a.rounded)),b=pi((()=>({type:c.value?a.buttonType:void 0,"aria-label":a.ariaLabel||null,disabled:u.value||null}))),y=pi((()=>[`bg-${a.badgeVariant}`])),_=pi((()=>!0===a.badge?"":a.badge)),w=pi((()=>[[`text-${I(a.badgeVariant)}`]])),x=pi((()=>({[`b-avatar-${a.size}`]:!!a.size&&-1!==i.indexOf(Mv(a.size)),[`bg-${g.value}`]:!!g.value,badge:!c.value&&g.value&&h.value,rounded:""===v.value||!0===v.value,"rounded-circle":!d.value&&"circle"===v.value,"rounded-0":d.value||"0"===v.value,"rounded-1":!d.value&&"sm"===v.value,"rounded-3":!d.value&&"lg"===v.value,"rounded-top":!d.value&&"top"===v.value,"rounded-bottom":!d.value&&"bottom"===v.value,"rounded-start":!d.value&&"left"===v.value,"rounded-end":!d.value&&"right"===v.value,btn:c.value,[`btn-${g.value}`]:!!c.value&&!!g.value}))),S=pi((()=>[[`text-${a.textVariant||I(g.value)}`]])),k=pi((()=>{const e=a.badgeOffset||"0px";return{fontSize:(-1===i.indexOf(m.value||null)?`calc(${m.value} * ${o})`:"")||"",top:r.value?e:"",bottom:r.value?"":e,left:l.value?e:"",right:l.value?"":e}})),C=pi((()=>{const e=-1===i.indexOf(m.value||null)?`calc(${m.value} * 0.4)`:null;return e?{fontSize:e}:{}})),T=pi((()=>{var e;const t=(null==(e=null==n?void 0:n.overlapScale)?void 0:e.value)||0,a=m.value&&t?`calc(${m.value} * -${t})`:null;return a?{marginLeft:a,marginRight:a}:{}})),B=pi((()=>c.value?"button":"span")),A=pi((()=>({...T.value,width:m.value,height:m.value}))),I=e=>"light"===e||"warning"===e?"dark":"light",E=e=>{!u.value&&c.value&&t("click",e)},P=e=>t("img-error",e);return(t,a)=>(En(),Mn(rs(Ot(B)),Xn({class:["b-avatar",Ot(x)],style:Ot(A)},Ot(b),{onClick:E}),{default:ua((()=>[Ot(h)?(En(),$n("span",Ov,[ps(t.$slots,"default")])):e.src?(En(),$n("span",Dv,[zn("img",{src:e.src,alt:e.alt,onError:P},null,40,$v)])):e.text?(En(),$n("span",{key:2,class:Y(["b-avatar-text",Ot(S)]),style:W(Ot(C))},ae(e.text),7)):Gn("",!0),Ot(f)?(En(),$n("span",{key:3,class:Y(["b-avatar-badge",Ot(y)]),style:W(Ot(k))},[Ot(p)?ps(t.$slots,"badge",{key:0}):(En(),$n("span",{key:1,class:Y(Ot(w))},ae(Ot(_)),3))],6)):Gn("",!0)])),_:3},16,["class","style"]))}}),Nv=Ag(Sv,["event","routerTag"]),Rv=Ra({components:{BLink:Tv},props:{pill:{type:[Boolean,String],default:!1},tag:{type:String,default:"span"},variant:{type:String,default:"secondary"},textIndicator:{type:[Boolean,String],default:!1},dotIndicator:{type:[Boolean,String],default:!1},...Nv},setup(e){const t=$g(Nt(e,"pill")),a=$g(Nt(e,"textIndicator")),s=$g(Nt(e,"dotIndicator")),n=$g(Nt(e,"active")),i=$g(Nt(e,"disabled")),o=pi((()=>Dg(e))),l=pi((()=>o.value?Tv:e.tag));return{computedClasses:pi((()=>[[`bg-${e.variant}`],{active:n.value,disabled:i.value,"text-dark":["warning","info","light"].includes(e.variant),"rounded-pill":t.value,"position-absolute top-0 start-100 translate-middle":a.value||s.value,"p-2 border border-light rounded-circle":s.value,"text-decoration-none":o.value}])),computedLinkProps:pi((()=>o.value?Og(e,Nv):{})),computedTag:l}}}),jv=Cv(Rv,[["render",function(e,t,a,s,n,i){return En(),Mn(rs(e.computedTag),Xn({class:["badge",e.computedClasses]},e.computedLinkProps),{default:ua((()=>[ps(e.$slots,"default")])),_:3},16,["class"])}]]),zv=Ag(Sv,["event","routerTag"]),Vv=Ra({components:{BLink:Tv},props:{...zv,active:{type:[Boolean,String],default:!1},ariaCurrent:{type:String,default:"location"},disabled:{type:[Boolean,String],default:!1},text:{type:String,required:!1}},emits:["click"],setup(e,{emit:t}){const a=$g(Nt(e,"active")),s=$g(Nt(e,"disabled")),n=pi((()=>({active:a.value}))),i=pi((()=>a.value?"span":Tv)),o=pi((()=>a.value?e.ariaCurrent:void 0));return{computedLinkProps:pi((()=>"span"!==i.value?Og(e,zv):{})),computedClasses:n,computedTag:i,computedAriaCurrent:o,clicked:e=>{if(s.value||a.value)return e.preventDefault(),void e.stopImmediatePropagation();s.value||t("click",e)}}}}),Hv=Cv(Vv,[["render",function(e,t,a,s,n,i){return En(),$n("li",{class:Y(["breadcrumb-item",e.computedClasses])},[(En(),Mn(rs(e.computedTag),Xn({"aria-current":e.computedAriaCurrent},e.computedLinkProps,{onClick:e.clicked}),{default:ua((()=>[ps(e.$slots,"default",{},(()=>[Wn(ae(e.text),1)]))])),_:3},16,["aria-current","onClick"]))],2)}]]),Fv={"aria-label":"breadcrumb"},Wv={class:"breadcrumb"},Uv=Ra({__name:"BBreadcrumb",props:{items:null},setup(e){const t=e,a=(()=>{var e;return null!=(e=js(Mg))?e:Lg})(),s=pi((()=>{const e=t.items||(null==a?void 0:a.items)||[];let s=!1;return e.map(((t,a)=>("string"==typeof t&&(t={text:t},a<e.length-1&&(t.href="#")),t.active&&(s=!0),!t.active&&!s&&(t.active=a+1===e.length),t)))}));return(e,t)=>(En(),$n("nav",Fv,[zn("ol",Wv,[ps(e.$slots,"prepend"),(En(!0),$n(kn,null,ds(Ot(s),((e,t)=>(En(),Mn(Hv,Xn({key:t},e),{default:ua((()=>[Wn(ae(e.text),1)])),_:2},1040)))),128)),ps(e.$slots,"default"),ps(e.$slots,"append")])]))}}),Gv=Ra({__name:"BButtonGroup",props:{ariaLabel:{default:"Group"},size:null,tag:{default:"div"},vertical:{default:!1}},setup(e){const t=e,a=$g(Nt(t,"vertical")),s=pi((()=>({"btn-group":!a.value,[`btn-group-${t.size}`]:void 0!==t.size,"btn-group-vertical":a.value})));return(t,a)=>(En(),Mn(rs(e.tag),{class:Y(Ot(s)),role:"group","aria-label":e.ariaLabel},{default:ua((()=>[ps(t.$slots,"default")])),_:3},8,["class","aria-label"]))}}),qv=["role","aria-label"],Kv=Ra({__name:"BButtonToolbar",props:{ariaLabel:{default:"Group"},justify:{default:!1},role:{default:"toolbar"}},setup(e){const t=$g(Nt(e,"justify")),a=pi((()=>({"justify-content-between":t.value})));return(t,s)=>(En(),$n("div",{class:Y([Ot(a),"btn-toolbar"]),role:e.role,"aria-label":e.ariaLabel},[ps(t.$slots,"default")],10,qv))}}),Yv=Ra({__name:"BImg",props:{alt:null,blank:{default:!1},blankColor:{default:"transparent"},block:{default:!1},center:{default:!1},fluid:{default:!1},lazy:{default:!1},fluidGrow:{default:!1},height:null,left:{default:!1},start:{default:!1},right:{default:!1},end:{default:!1},rounded:{type:[Boolean,String],default:!1},sizes:null,src:null,srcset:null,thumbnail:{default:!1},width:null},emits:["load"],setup(e,{emit:t}){const a=e,s=$g(Nt(a,"lazy")),n=$g(Nt(a,"blank")),i=$g(Nt(a,"block")),o=$g(Nt(a,"center")),l=$g(Nt(a,"fluid")),r=$g(Nt(a,"fluidGrow")),c=$g(Nt(a,"left")),u=$g(Nt(a,"start")),d=$g(Nt(a,"right")),h=$g(Nt(a,"end")),p=$g(Nt(a,"thumbnail")),f=pi((()=>"string"==typeof a.srcset?a.srcset.split(",").filter((e=>e)).join(","):Array.isArray(a.srcset)?a.srcset.filter((e=>e)).join(","):void 0)),m=pi((()=>"string"==typeof a.sizes?a.sizes.split(",").filter((e=>e)).join(","):Array.isArray(a.sizes)?a.sizes.filter((e=>e)).join(","):void 0)),g=pi((()=>{const e=e=>void 0===e?void 0:"number"==typeof e?e:Number.parseInt(e,10)||void 0,t=e(a.width),s=e(a.height);if(n.value){if(void 0!==t&&void 0===s)return{height:t,width:t};if(void 0===t&&void 0!==s)return{height:s,width:s};if(void 0===t&&void 0===s)return{height:1,width:1}}return{width:t,height:s}})),v=pi((()=>w(g.value.width,g.value.height,a.blankColor))),b=pi((()=>({src:n.value?v.value:a.src,alt:a.alt,width:g.value.width||void 0,height:g.value.height||void 0,srcset:n.value?void 0:f.value,sizes:n.value?void 0:m.value,loading:s.value?"lazy":"eager"}))),y=pi((()=>c.value||u.value?"float-start":d.value||h.value?"float-end":o.value?"mx-auto":void 0)),_=pi((()=>({"img-thumbnail":p.value,"img-fluid":l.value||r.value,"w-100":r.value,rounded:""===a.rounded||!0===a.rounded,[`rounded-${a.rounded}`]:"string"==typeof a.rounded&&""!==a.rounded,[`${y.value}`]:void 0!==y.value,"d-block":i.value||o.value}))),w=(e,t,a)=>`data:image/svg+xml;charset=UTF-8,${encodeURIComponent('<svg width="%{w}" height="%{h}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 %{w} %{h}" preserveAspectRatio="none"><rect width="100%" height="100%" style="fill:%{f};"></rect></svg>'.replace("%{w}",String(e)).replace("%{h}",String(t)).replace("%{f}",a))}`;return(e,a)=>(En(),$n("img",Xn({class:Ot(_)},Ot(b),{onLoad:a[0]||(a[0]=e=>t("load",e))}),null,16))}}),Xv=Ra({__name:"BCardImg",props:{alt:null,blank:{default:!1},blankColor:null,bottom:{default:!1},lazy:{default:!1},height:null,left:{default:!1},start:{default:!1},right:{default:!1},end:{default:!1},sizes:null,src:null,srcset:null,top:{default:!1},width:null},emits:["load"],setup(e,{emit:t}){const a=e,s=$g(Nt(a,"bottom")),n=$g(Nt(a,"end")),i=$g(Nt(a,"left")),o=$g(Nt(a,"right")),l=$g(Nt(a,"start")),r=$g(Nt(a,"top")),c=pi((()=>r.value?"card-img-top":o.value||n.value?"card-img-right":s.value?"card-img-bottom":i.value||l.value?"card-img-left":"card-img")),u=pi((()=>({alt:a.alt,height:a.height,src:a.src,lazy:a.lazy,width:a.width,blank:a.blank,blankColor:a.blankColor,sizes:a.sizes,srcset:a.srcset})));return(e,a)=>(En(),Mn(Yv,Xn({class:Ot(c)},Ot(u),{onLoad:a[0]||(a[0]=e=>t("load",e))}),null,16,["class"]))}}),Qv=["innerHTML"],Jv=Ra({__name:"BCardHeadFoot",props:{text:null,bgVariant:null,borderVariant:null,html:null,tag:{default:"div"},textVariant:null},setup(e){const t=e,a=pi((()=>({[`text-${t.textVariant}`]:void 0!==t.textVariant,[`bg-${t.bgVariant}`]:void 0!==t.bgVariant,[`border-${t.borderVariant}`]:void 0!==t.borderVariant})));return(t,s)=>(En(),Mn(rs(e.tag),{class:Y(Ot(a))},{default:ua((()=>[e.html?(En(),$n("div",{key:0,innerHTML:e.html},null,8,Qv)):ps(t.$slots,"default",{key:1},(()=>[Wn(ae(e.text),1)]))])),_:3},8,["class"]))}}),Zv=Ra({__name:"BCardHeader",props:{text:null,bgVariant:null,borderVariant:null,html:null,tag:{default:"div"},textVariant:null},setup(e){const t=e;return(e,a)=>(En(),Mn(Jv,Xn({class:"card-header"},t),{default:ua((()=>[ps(e.$slots,"default")])),_:3},16))}}),eb=Ra({__name:"BCardTitle",props:{text:null,tag:{default:"h4"}},setup:e=>(t,a)=>(En(),Mn(rs(e.tag),{class:"card-title"},{default:ua((()=>[ps(t.$slots,"default",{},(()=>[Wn(ae(e.text),1)]))])),_:3}))}),tb=Ra({__name:"BCardSubtitle",props:{text:null,tag:{default:"h6"},textVariant:{default:"muted"}},setup(e){const t=e,a=pi((()=>[`text-${t.textVariant}`]));return(t,s)=>(En(),Mn(rs(e.tag),{class:Y(["card-subtitle mb-2",Ot(a)])},{default:ua((()=>[ps(t.$slots,"default",{},(()=>[Wn(ae(e.text),1)]))])),_:3},8,["class"]))}}),ab=Ra({__name:"BCardBody",props:{bodyBgVariant:null,bodyTag:{default:"div"},bodyTextVariant:null,overlay:{default:!1},subtitle:null,subtitleTag:{default:"h4"},subtitleTextVariant:null,title:null,titleTag:{default:"h4"},text:null},setup(e){const t=e,a=ys(),s=$g(Nt(t,"overlay")),n=pi((()=>!dg(a.title))),i=pi((()=>!dg(a.subtitle))),o=pi((()=>({"card-img-overlay":s.value,[`text-${t.bodyTextVariant}`]:void 0!==t.bodyTextVariant,[`bg-${t.bodyBgVariant}`]:void 0!==t.bodyBgVariant})));return(t,a)=>(En(),Mn(rs(e.bodyTag),{class:Y(["card-body",Ot(o)])},{default:ua((()=>[e.title||Ot(n)?(En(),Mn(eb,{key:0,tag:e.titleTag},{default:ua((()=>[ps(t.$slots,"title",{},(()=>[Wn(ae(e.title),1)]))])),_:3},8,["tag"])):Gn("",!0),e.subtitle||Ot(i)?(En(),Mn(tb,{key:1,tag:e.subtitleTag,"text-variant":e.subtitleTextVariant},{default:ua((()=>[ps(t.$slots,"subtitle",{},(()=>[Wn(ae(e.subtitle),1)]))])),_:3},8,["tag","text-variant"])):Gn("",!0),ps(t.$slots,"default",{},(()=>[Wn(ae(e.text),1)]))])),_:3},8,["class"]))}}),sb=Ra({__name:"BCardFooter",props:{text:null,bgVariant:null,borderVariant:null,html:null,tag:{default:"div"},textVariant:null},setup(e){const t=e;return(a,s)=>(En(),Mn(Jv,Xn({class:"card-footer"},t),{default:ua((()=>[ps(a.$slots,"default",{},(()=>[Wn(ae(e.text),1)]))])),_:3},16))}}),nb=Ra({__name:"BCard",props:{align:null,bgVariant:null,bodyBgVariant:null,bodyClass:null,bodyTag:{default:"div"},bodyTextVariant:null,borderVariant:null,footer:null,footerBgVariant:null,footerBorderVariant:null,footerClass:null,footerHtml:{default:""},footerTag:{default:"div"},footerTextVariant:null,header:null,headerBgVariant:null,headerBorderVariant:null,headerClass:null,headerHtml:{default:""},headerTag:{default:"div"},headerTextVariant:null,imgAlt:null,imgBottom:{default:!1},imgEnd:{default:!1},imgHeight:null,imgLeft:{default:!1},imgRight:{default:!1},imgSrc:null,imgStart:{default:!1},imgTop:{default:!1},imgWidth:null,noBody:{default:!1},overlay:{default:!1},subtitle:null,subtitleTag:{default:"h6"},subtitleTextVariant:{default:"muted"},tag:{default:"div"},textVariant:null,title:null,titleTag:{default:"h4"},bodyText:{default:""}},setup(e){const t=e,a=ys(),s=$g(Nt(t,"imgBottom")),n=$g(Nt(t,"imgEnd")),i=$g(Nt(t,"imgLeft")),o=$g(Nt(t,"imgRight")),l=$g(Nt(t,"imgStart")),r=$g(Nt(t,"noBody")),c=pi((()=>!dg(a.header))),u=pi((()=>!dg(a.footer))),d=pi((()=>({[`text-${t.align}`]:void 0!==t.align,[`text-${t.textVariant}`]:void 0!==t.textVariant,[`bg-${t.bgVariant}`]:void 0!==t.bgVariant,[`border-${t.borderVariant}`]:void 0!==t.borderVariant,"flex-row":i.value||l.value,"flex-row-reverse":n.value||o.value}))),h=pi((()=>({bgVariant:t.headerBgVariant,borderVariant:t.headerBorderVariant,html:t.headerHtml,tag:t.headerTag,textVariant:t.headerTextVariant}))),p=pi((()=>({overlay:t.overlay,bodyBgVariant:t.bodyBgVariant,bodyTag:t.bodyTag,bodyTextVariant:t.bodyTextVariant,subtitle:t.subtitle,subtitleTag:t.subtitleTag,subtitleTextVariant:t.subtitleTextVariant,title:t.title,titleTag:t.titleTag}))),f=pi((()=>({bgVariant:t.footerBgVariant,borderVariant:t.footerBorderVariant,html:t.footerHtml,tag:t.footerTag,textVariant:t.footerTextVariant}))),m=pi((()=>({src:t.imgSrc,alt:t.imgAlt,height:t.imgHeight,width:t.imgWidth,bottom:t.imgBottom,end:t.imgEnd,left:t.imgLeft,right:t.imgRight,start:t.imgStart,top:t.imgTop})));return(t,a)=>(En(),Mn(rs(e.tag),{class:Y(["card",Ot(d)])},{default:ua((()=>[Ot(s)?Gn("",!0):ps(t.$slots,"img",{key:0},(()=>[e.imgSrc?(En(),Mn(Xv,X(Xn({key:0},Ot(m))),null,16)):Gn("",!0)])),e.header||Ot(c)||e.headerHtml?(En(),Mn(Zv,Xn({key:1},Ot(h),{class:e.headerClass}),{default:ua((()=>[ps(t.$slots,"header",{},(()=>[Wn(ae(e.header),1)]))])),_:3},16,["class"])):Gn("",!0),Ot(r)?ps(t.$slots,"default",{key:3},(()=>[Wn(ae(e.bodyText),1)])):(En(),Mn(ab,Xn({key:2},Ot(p),{class:e.bodyClass}),{default:ua((()=>[ps(t.$slots,"default",{},(()=>[Wn(ae(e.bodyText),1)]))])),_:3},16,["class"])),e.footer||Ot(u)||e.footerHtml?(En(),Mn(sb,Xn({key:4},Ot(f),{class:e.footerClass}),{default:ua((()=>[ps(t.$slots,"footer",{},(()=>[Wn(ae(e.footer),1)]))])),_:3},16,["class"])):Gn("",!0),Ot(s)?ps(t.$slots,"img",{key:5},(()=>[e.imgSrc?(En(),Mn(Xv,X(Xn({key:0},Ot(m))),null,16)):Gn("",!0)])):Gn("",!0)])),_:3},8,["class"]))}}),ib=Ra({__name:"BCardGroup",props:{columns:{default:!1},deck:{default:!1},tag:{default:"div"}},setup(e){const t=e,a=$g(Nt(t,"columns")),s=$g(Nt(t,"deck")),n=pi((()=>s.value?"card-deck":a.value?"card-columns":"card-group")),i=pi((()=>[n.value]));return(t,a)=>(En(),Mn(rs(e.tag),{class:Y(Ot(i))},{default:ua((()=>[ps(t.$slots,"default")])),_:3},8,["class"]))}}),ob=Ra({__name:"BCardText",props:{text:null,tag:{default:"p"}},setup:e=>(t,a)=>(En(),Mn(rs(e.tag),{class:"card-text"},{default:ua((()=>[ps(t.$slots,"default",{},(()=>[Wn(ae(e.text),1)]))])),_:3}))}),lb=["id"],rb={key:0,class:"carousel-indicators"},cb=["data-bs-target","data-bs-slide-to","aria-label"],ub={class:"carousel-inner"},db=["data-bs-target"],hb=zn("span",{class:"carousel-control-prev-icon","aria-hidden":"true"},null,-1),pb={class:"visually-hidden"},fb=["data-bs-target"],mb=zn("span",{class:"carousel-control-next-icon","aria-hidden":"true"},null,-1),gb={class:"visually-hidden"},vb=Symbol(),bb=Ra({__name:"BCarousel",props:{startingSlide:{default:0},id:null,imgHeight:null,imgWidth:null,background:null,modelValue:{default:0},controls:{default:!1},indicators:{default:!1},interval:{default:5e3},noTouch:{default:!1},noWrap:{default:!1},controlsPrevText:{default:"Previous"},controlsNextText:{default:"Next"},indicatorsButtonLabel:{default:"Slide"}},emits:["sliding-start","sliding-end"],setup(e,{emit:t}){const a=e,s=ys(),n=Gg(Nt(a,"id"),"carousel"),i=$g(Nt(a,"controls")),o=$g(Nt(a,"indicators")),l=$g(Nt(a,"noTouch"));$g(Nt(a,"noWrap"));const r=At(),c=At(),u=At([]);return Ng(r,"slide.bs.carousel",(e=>t("sliding-start",e))),Ng(r,"slid.bs.carousel",(e=>t("sliding-end",e))),Xa((()=>{c.value=new Jd(r.value,{wrap:!l.value,interval:a.interval,touch:!l.value}),s.default&&(u.value=s.default().filter((e=>{var t;return"BCarouselSlide"===(null==(t=e.type)?void 0:t.__name)})))})),Rs(vb,{background:a.background,width:a.imgWidth,height:a.imgHeight}),(t,a)=>(En(),$n("div",{id:Ot(n),ref_key:"element",ref:r,class:"carousel slide","data-bs-ride":"carousel"},[Ot(o)?(En(),$n("div",rb,[(En(!0),$n(kn,null,ds(u.value,((t,a)=>(En(),$n("button",{key:a,type:"button","data-bs-target":`#${Ot(n)}`,"data-bs-slide-to":a,class:Y(a===e.startingSlide?"active":""),"aria-current":"true","aria-label":`${e.indicatorsButtonLabel} ${a}`},null,10,cb)))),128))])):Gn("",!0),zn("div",ub,[ps(t.$slots,"default")]),Ot(i)?(En(),$n(kn,{key:1},[zn("button",{class:"carousel-control-prev",type:"button","data-bs-target":`#${Ot(n)}`,"data-bs-slide":"prev"},[hb,zn("span",pb,ae(e.controlsPrevText),1)],8,db),zn("button",{class:"carousel-control-next",type:"button","data-bs-target":`#${Ot(n)}`,"data-bs-slide":"next"},[mb,zn("span",gb,ae(e.controlsNextText),1)],8,fb)],64)):Gn("",!0)],8,lb))}}),yb=["data-bs-interval"],_b=["innerHTML"],wb={key:1},xb=["innerHTML"],Sb={key:1},kb=Ra({__name:"BCarouselSlide",props:{imgSrc:null,imgHeight:null,imgWidth:null,interval:null,active:{default:!1},background:null,caption:null,captionHtml:null,captionTag:{default:"h3"},contentTag:{default:"div"},contentVisibleUp:null,id:null,imgAlt:null,imgBlank:{default:!1},imgBlankColor:{default:"transparent"},text:null,textHtml:null,textTag:{default:"p"}},setup(e){const t=e,a=ys(),s=js(vb,{}),n=$g(Nt(t,"active")),i=pi((()=>!dg(a.default))),o=pi((()=>({background:`${t.background||s.background||"rgb(171, 171, 171)"} none repeat scroll 0% 0%`}))),l=pi((()=>({"d-none":void 0!==t.contentVisibleUp,[`d-${t.contentVisibleUp}-block`]:void 0!==t.contentVisibleUp}))),r=pi((()=>s.width)),c=pi((()=>s.height));return(t,a)=>(En(),$n("div",{class:Y(["carousel-item",{active:Ot(n)}]),"data-bs-interval":e.interval,style:W(Ot(o))},[ps(t.$slots,"img",{},(()=>[Vn(Yv,{class:"d-block w-100",alt:e.imgAlt,src:e.imgSrc,width:e.imgWidth||Ot(r),height:e.imgHeight||Ot(c),blank:e.imgBlank,"blank-color":e.imgBlankColor},null,8,["alt","src","width","height","blank","blank-color"])])),e.caption||e.captionHtml||e.text||e.textHtml||Ot(i)?(En(),Mn(rs(e.contentTag),{key:0,class:Y(["carousel-caption",Ot(l)])},{default:ua((()=>[e.caption||e.captionHtml?(En(),Mn(rs(e.captionTag),{key:0},{default:ua((()=>[e.captionHtml?(En(),$n("span",{key:0,innerHTML:e.captionHtml},null,8,_b)):(En(),$n("span",wb,ae(e.caption),1))])),_:1})):Gn("",!0),e.text||e.textHtml?(En(),Mn(rs(e.textTag),{key:1},{default:ua((()=>[e.textHtml?(En(),$n("span",{key:0,innerHTML:e.textHtml},null,8,xb)):(En(),$n("span",Sb,ae(e.text),1))])),_:1})):Gn("",!0),ps(t.$slots,"default")])),_:3},8,["class"])):Gn("",!0)],14,yb))}}),Cb=bg("",[],{type:[Boolean,String,Number],default:!1}),Tb=bg("offset",[""],{type:[String,Number],default:null}),Bb=bg("order",[""],{type:[String,Number],default:null}),Ab=Ra({name:"BCol",props:{col:{type:[Boolean,String],default:!1},cols:{type:[String,Number],default:null},...Cb,offset:{type:[String,Number],default:null},...Tb,order:{type:[String,Number],default:null},...Bb,alignSelf:{type:String,default:null},tag:{type:String,default:"div"}},setup(e){const t=[{content:Cb,propPrefix:"cols",classPrefix:"col"},{content:Tb,propPrefix:"offset"},{content:Bb,propPrefix:"order"}],a=$g(Nt(e,"col")),s=pi((()=>t.flatMap((t=>yg(e,t.content,t.propPrefix,t.classPrefix)))));return{computedClasses:pi((()=>[s.value,{col:a.value||!s.value.some((e=>/^col-/.test(e)))&&!e.cols,[`col-${e.cols}`]:!!e.cols,[`offset-${e.offset}`]:!!e.offset,[`order-${e.order}`]:!!e.order,[`align-self-${e.alignSelf}`]:!!e.alignSelf}]))}}}),Ib=Cv(Ab,[["render",function(e,t,a,s,n,i){return En(),Mn(rs(e.tag),{class:Y(e.computedClasses)},{default:ua((()=>[ps(e.$slots,"default")])),_:3},8,["class"])}]]),Eb={autoHide:!0,delay:5e3,noCloseButton:!1,pos:"top-right",value:!0};class Pb{constructor(e){om(this,"vm"),om(this,"containerPositions"),yt(e)?this.vm=e:this.vm=mt(e),this.containerPositions=pi((()=>{const e=new Set([]);return this.vm.toasts.map((t=>{t.options.pos&&e.add(t.options.pos)})),e}))}toasts(e){return pi(e?()=>this.vm.toasts.filter((t=>{if(t.options.pos===e&&t.options.value)return t})):()=>this.vm.toasts)}remove(...e){this.vm.toasts=this.vm.toasts.filter((t=>{if(t.options.id&&!e.includes(t.options.id))return t}))}isRoot(){var e;return null!=(e=this.vm.root)&&e}show(e,t=Eb){const a={options:mt({id:_g(),...Eb,...t}),content:e};return this.vm.toasts.push(a),a}info(e,t=Eb){return this.show(e,{variant:"info",...t})}danger(e,t=Eb){return this.show(e,{variant:"danger",...t})}warning(e,t=Eb){return this.show(e,{variant:"warning",...t})}success(e,t=Eb){return this.show(e,{variant:"success",...t})}hide(){}}class Ob{constructor(){om(this,"vms"),om(this,"rootInstance"),om(this,"useToast",Lb),this.vms={}}getOrCreateViewModel(e){if(!e){if(this.rootInstance)return this.vms[this.rootInstance];const e={root:!0,toasts:[],container:void 0,id:Symbol("toast")};return this.rootInstance=e.id,this.vms[e.id]=e,e}if(e.root){if(this.rootInstance)return this.vms[this.rootInstance];this.rootInstance=e.id}return this.vms[e.id]=e,e}getVM(e){return!e&&this.rootInstance?this.vms[this.rootInstance]:e?this.vms[e]:void 0}}const Db=Symbol(),$b=Symbol(),Mb={container:void 0,toasts:[],root:!1};function Lb(e,t=Db){const a=js(js($b));if(!e)return new Pb(a.getOrCreateViewModel());const s={id:Symbol("toastInstance")},n={...Mb,...s,...e},i=a.getOrCreateViewModel(n);return new Pb(i)}const Nb={install:(e,t={})=>{var a,s,n,i;e.provide($b,null!=(s=null==(a=null==t?void 0:t.BToast)?void 0:a.injectkey)?s:Db),e.provide(null!=(i=null==(n=null==t?void 0:t.BToast)?void 0:n.injectkey)?i:Db,new Ob)}},Rb=Ra({components:{BLink:Tv},props:{...Sv,delay:{type:Number,default:5e3},bodyClass:{type:String},body:{type:[Object,String]},headerClass:{type:String},headerTag:{type:String,default:"div"},animation:{type:[Boolean,String],default:!0},id:{type:String},isStatus:{type:[Boolean,String],default:!1},autoHide:{type:[Boolean,String],default:!0},noCloseButton:{type:[Boolean,String],default:!1},noFade:{type:[Boolean,String],default:!1},noHoverPause:{type:[Boolean,String],default:!1},solid:{type:[Boolean,String],default:!1},static:{type:[Boolean,String],default:!1},title:{type:String},modelValue:{type:[Boolean,String],default:!1},toastClass:{type:Array},variant:{type:String}},emits:["destroyed","update:modelValue"],setup(e,{emit:t,slots:a}){$g(Nt(e,"animation"));const s=$g(Nt(e,"isStatus")),n=$g(Nt(e,"autoHide")),i=$g(Nt(e,"noCloseButton")),o=$g(Nt(e,"noFade")),l=$g(Nt(e,"noHoverPause"));$g(Nt(e,"solid")),$g(Nt(e,"static"));const r=$g(Nt(e,"modelValue")),c=At(!1),u=At(!1),d=At(!1),h=pi((()=>({[`b-toast-${e.variant}`]:void 0!==e.variant,show:d.value||c.value})));let p,f,m;const g=()=>{typeof p>"u"||(clearTimeout(p),p=void 0)},v=pi((()=>Math.max(Cg(e.delay,0),1e3))),b=()=>{r.value&&(f=m=0,g(),u.value=!0,fg((()=>{d.value=!1})))},y=()=>{g(),t("update:modelValue",!0),f=m=0,u.value=!1,ea((()=>{fg((()=>{d.value=!0}))}))},_=()=>{if(!n.value||l.value||!p||m)return;const e=Date.now()-f;e>0&&(g(),m=Math.max(v.value-e,1e3))},w=()=>{(!n.value||l.value||!m)&&(m=f=0),x()};dn((()=>r.value),(e=>{e?y():b()}));const x=()=>{g(),n.value&&(p=setTimeout(b,m||v.value),f=Date.now(),m=0)},S=()=>{c.value=!0,t("update:modelValue",!0)},k=()=>{c.value=!1,x()},C=()=>{c.value=!0},T=()=>{c.value=!1,m=f=0,t("update:modelValue",!1)};es((()=>{g(),n.value&&t("destroyed",e.id)})),Xa((()=>{ea((()=>{r.value&&fg((()=>{y()}))}))}));const B=()=>{ea((()=>{fg((()=>{b()}))}))};return()=>{const t=()=>{const t=[],s=kg("toast-title",{hide:b},a);s?t.push(fi(s)):e.title&&t.push(fi("strong",{class:"me-auto"},e.title)),!i.value&&0!==t.length&&t.push(fi(_v,{class:["btn-close"],onClick:()=>{b()}}));const n=[];if(t.length>0&&n.push(fi(e.headerTag,{class:"toast-header"},{default:()=>t})),kg("default",{hide:b},a)||e.body){const t=fi(Dg(e)?"b-link":"div",{class:["toast-body",e.bodyClass],onClick:Dg(e)?{click:B}:{}},kg("default",{hide:b},a)||e.body);n.push(t)}return fi("div",{class:["toast",e.toastClass,h.value],tabindex:"0"},n)};return fi("div",{class:["b-toast"],id:e.id,role:u.value?null:s.value?"status":"alert","aria-live":u.value?null:s.value?"polite":"assertive","aria-atomic":u.value?null:"true",onmouseenter:_,onmouseleave:w},[fi(bv,{noFade:o.value,onAfterEnter:k,onBeforeEnter:S,onAfterLeave:T,onBeforeLeave:C},(()=>[d.value?t():""]))])}}}),jb=Ra({__name:"BToaster",props:{position:{default:"top-right"},instance:null},setup(e){const t=e,a={"top-left":"top-0 start-0","top-center":"top-0 start-50 translate-middle-x","top-right":"top-0 end-0","middle-left":"top-50 start-0 translate-middle-y","middle-center":"top-50 start-50 translate-middle","middle-right":"top-50 end-0 translate-middle-y","bottom-left":"bottom-0 start-0","bottom-center":"bottom-0 start-50 translate-middle-x","bottom-right":"bottom-0 end-0"},s=pi((()=>a[t.position])),n=e=>{var a;null==(a=t.instance)||a.remove(e)};return(t,a)=>{var i;return En(),$n("div",{class:Y([[Ot(s)],"b-toaster position-fixed p-3"]),style:{"z-index":"11"}},[(En(!0),$n(kn,null,ds(null==(i=e.instance)?void 0:i.toasts(e.position).value,(e=>(En(),Mn(Rb,{id:e.options.id,key:e.options.id,modelValue:e.options.value,"onUpdate:modelValue":t=>e.options.value=t,"auto-hide":e.options.autoHide,delay:e.options.delay,"no-close-button":e.options.noCloseButton,title:e.content.title,body:e.content.body,component:e.content.body,variant:e.options.variant,onDestroyed:n},null,8,["id","modelValue","onUpdate:modelValue","auto-hide","delay","no-close-button","title","body","component","variant"])))),128))],2)}}}),zb=Ra({props:{gutterX:{type:String,default:null},gutterY:{type:String,default:null},fluid:{type:[Boolean,String],default:!1},toast:{type:Object},position:{type:String,required:!1}},setup(e,{slots:t,expose:a}){const s=At();let n;const i=pi((()=>({container:!e.fluid,"container-fluid":"boolean"==typeof e.fluid&&e.fluid,[`container-${e.fluid}`]:"string"==typeof e.fluid,[`gx-${e.gutterX}`]:null!==e.gutterX,[`gy-${e.gutterY}`]:null!==e.gutterY})));return Xa((()=>{e.toast})),e.toast&&(n=Lb({container:s,root:e.toast.root}),a({})),()=>{var a;const o=[];return null==n||n.containerPositions.value.forEach((e=>{o.push(fi(jb,{key:e,instance:n,position:e}))})),fi("div",{class:[i.value,e.position],ref:s},[...o,null==(a=t.default)?void 0:a.call(t)])}},methods:{}}),Vb={class:"visually-hidden"},Hb=["aria-labelledby","role"],Fb=Ra({__name:"BDropdown",props:{id:null,menuClass:null,size:null,splitClass:null,splitVariant:null,text:null,toggleClass:null,autoClose:{type:[Boolean,String],default:!0},block:{default:!1},boundary:{default:"clippingParents"},dark:{default:!1},disabled:{default:!1},isNav:{default:!1},dropup:{default:!1},dropright:{default:!1},dropleft:{default:!1},noFlip:{default:!1},offset:{default:0},popperOpts:{default:()=>({})},right:{default:!1},role:{default:"menu"},split:{default:!1},splitButtonType:{default:"button"},splitHref:{default:void 0},noCaret:{default:!1},toggleText:{default:"Toggle dropdown"},variant:{default:"secondary"}},emits:["show","shown","hide","hidden","click","toggle"],setup(e,{expose:t,emit:a}){const s=e,n=Gg(Nt(s,"id"),"dropdown"),i=$g(Nt(s,"block")),o=$g(Nt(s,"dark")),l=$g(Nt(s,"dropup")),r=$g(Nt(s,"dropright")),c=$g(Nt(s,"isNav")),u=$g(Nt(s,"dropleft")),d=$g(Nt(s,"right")),h=$g(Nt(s,"split")),p=$g(Nt(s,"noCaret")),f=At(),m=At(),g=At(),v=pi((()=>({"d-grid":i.value,"d-flex":i.value&&h.value}))),b=pi((()=>[h.value?s.splitClass:s.toggleClass,{"nav-link":c.value,"dropdown-toggle":!h.value,"dropdown-toggle-no-caret":p.value&&!h.value,"w-100":h.value&&i.value}])),y=pi((()=>[s.menuClass,{"dropdown-menu-dark":o.value,"dropdown-menu-end":d.value}])),_=pi((()=>({"data-bs-toggle":h.value?void 0:"dropdown","aria-expanded":!!h.value&&void 0,ref:h.value?void 0:m,href:h.value?s.splitHref:void 0}))),w=pi((()=>({ref:h.value?m:void 0}))),x=e=>{h.value&&a("click",e)};return Ng(f,"show.bs.dropdown",(()=>a("show"))),Ng(f,"shown.bs.dropdown",(()=>a("shown"))),Ng(f,"hide.bs.dropdown",(()=>a("hide"))),Ng(f,"hidden.bs.dropdown",(()=>a("hidden"))),Xa((()=>{var e;g.value=new Nh(null==(e=m.value)?void 0:e.$el,{autoClose:s.autoClose,boundary:s.boundary,offset:s.offset?s.offset.toString():"",reference:s.offset||h.value?"parent":"toggle",popperConfig:e=>{const t={placement:"bottom-start",modifiers:s.noFlip?[{name:"flip",options:{fallbackPlacements:[]}}]:[]};return l.value?t.placement=d.value?"top-end":"top-start":r.value?t.placement="right-start":u.value?t.placement="left-start":d.value&&(t.placement="bottom-end"),Sg(e,Sg(t,s.popperOpts))}})})),t({hide:()=>{var e;null==(e=g.value)||e.hide()}}),(t,s)=>(En(),$n("div",{ref_key:"parent",ref:f,class:Y([Ot(v),"btn-group"])},[Vn(Av,Xn({id:Ot(n),variant:e.splitVariant||e.variant,size:e.size,class:Ot(b),disabled:e.disabled,type:e.splitButtonType},Ot(_),{onClick:x}),{default:ua((()=>[ps(t.$slots,"button-content",{},(()=>[Wn(ae(e.text),1)]))])),_:3},16,["id","variant","size","class","disabled","type"]),Ot(h)?(En(),Mn(Av,Xn({key:0,variant:e.variant,size:e.size,disabled:e.disabled},Ot(w),{class:[e.toggleClass,"dropdown-toggle-split dropdown-toggle"],"data-bs-toggle":"dropdown","aria-expanded":"false",onClick:s[0]||(s[0]=e=>a("toggle"))}),{default:ua((()=>[zn("span",Vb,[ps(t.$slots,"toggle-text",{},(()=>[Wn(ae(e.toggleText),1)]))])])),_:3},16,["variant","size","disabled","class"])):Gn("",!0),zn("ul",{class:Y(["dropdown-menu",Ot(y)]),"aria-labelledby":Ot(n),role:e.role},[ps(t.$slots,"default")],10,Hb)],2))}}),Wb={role:"presentation"},Ub=Ra({__name:"BDropdownDivider",props:{tag:{default:"hr"}},setup:e=>(t,a)=>(En(),$n("li",Wb,[(En(),Mn(rs(e.tag),{class:"dropdown-divider",role:"separator","aria-orientation":"horizontal"}))]))}),Gb={role:"presentation"},qb={class:"px-4 py-3"},Kb=Cv({},[["render",function(e,t){return En(),$n("li",Gb,[zn("form",qb,[ps(e.$slots,"default")])])}]]),Yb={role:"presentation"},Xb=["id","aria-describedby"],Qb=Ra({inheritAttrs:!1,__name:"BDropdownGroup",props:{id:null,ariaDescribedby:null,header:null,headerClass:null,headerTag:{default:"header"},headerVariant:null},setup(e){const t=e,a=pi((()=>t.id?`${t.id}_group_dd_header`:void 0)),s=pi((()=>"header"===t.headerTag?void 0:"heading")),n=pi((()=>[t.headerClass,{[`text-${t.headerVariant}`]:void 0!==t.headerVariant}]));return(t,i)=>(En(),$n("li",Yb,[(En(),Mn(rs(e.headerTag),{id:Ot(a),class:Y(["dropdown-header",Ot(n)]),role:Ot(s)},{default:ua((()=>[ps(t.$slots,"header",{},(()=>[Wn(ae(e.header),1)]))])),_:3},8,["id","class","role"])),zn("ul",Xn({id:e.id,role:"group",class:"list-unstyled"},t.$attrs,{"aria-describedby":e.ariaDescribedby||Ot(a)}),[ps(t.$slots,"default")],16,Xb)]))}}),Jb={class:"dropdown-header"},Zb=Cv({},[["render",function(e,t){return En(),$n("li",null,[zn("h6",Jb,[ps(e.$slots,"default")])])}]]),ey=Ra({inheritAttrs:!1,__name:"BDropdownItem",props:{href:null,linkClass:null,active:{default:!1},disabled:{default:!1},rel:{default:void 0},target:{default:"_self"},variant:null},emits:["click"],setup(e,{emit:t}){const a=e,s=$g(Nt(a,"active")),n=$g(Nt(a,"disabled")),i=_s(),o=pi((()=>[a.linkClass,{active:s.value,disabled:n.value,[`text-${a.variant}`]:void 0!==a.variant}])),l=pi((()=>a.href?"a":i.to?Tv:"button")),r=pi((()=>({disabled:n.value,"aria-current":s.value?"true":null,href:"a"===l.value?a.href:null,rel:a.rel,type:"button"===l.value?"button":null,target:a.target,...i.to?{activeClass:"active",...i}:{}}))),c=e=>t("click",e);return(e,t)=>(En(),$n("li",{role:"presentation",class:Y(e.$attrs.class)},[(En(),Mn(rs(Ot(l)),Xn({class:["dropdown-item",Ot(o)]},Ot(r),{onClick:c}),{default:ua((()=>[ps(e.$slots,"default")])),_:3},16,["class"]))],2))}}),ty=["disabled"],ay=Ra({inheritAttrs:!1,__name:"BDropdownItemButton",props:{buttonClass:null,active:{default:!1},activeClass:{default:"active"},disabled:{default:!1},variant:null},emits:["click"],setup(e,{emit:t}){const a=e,s=$g(Nt(a,"active")),n=$g(Nt(a,"disabled")),i=pi((()=>[a.buttonClass,{[a.activeClass]:s.value,disabled:n.value,[`text-${a.variant}`]:void 0!==a.variant}])),o=e=>t("click",e);return(e,t)=>(En(),$n("li",{role:"presentation",class:Y(e.$attrs.class)},[zn("button",{role:"menu",type:"button",class:Y(["dropdown-item",Ot(i)]),disabled:Ot(n),onClick:o},[ps(e.$slots,"default")],10,ty)],2))}}),sy={role:"presentation"},ny={class:"px-4 py-1 mb-0 text-muted"},iy=Ra({__name:"BDropdownText",props:{text:{default:""}},setup:e=>(t,a)=>(En(),$n("li",sy,[zn("p",ny,[ps(t.$slots,"default",{},(()=>[Wn(ae(e.text),1)]))])]))}),oy=["id","novalidate","onSubmit"],ly=Ra({__name:"BForm",props:{id:null,floating:{default:!1},novalidate:{default:!1},validated:{default:!1}},emits:["submit"],setup(e,{emit:t}){const a=e,s=$g(Nt(a,"floating")),n=$g(Nt(a,"novalidate")),i=$g(Nt(a,"validated")),o=pi((()=>({"form-floating":s.value,"was-validated":i.value}))),l=e=>t("submit",e);return(t,a)=>(En(),$n("form",{id:e.id,novalidate:Ot(n),class:Y(Ot(o)),onSubmit:_o(l,["prevent"])},[ps(t.$slots,"default")],42,oy))}}),ry={class:"form-floating"},cy=["for"],uy=Ra({__name:"BFormFloatingLabel",props:{labelFor:null,label:null,text:null},setup:e=>(t,a)=>(En(),$n("div",ry,[ps(t.$slots,"default",{},(()=>[Wn(ae(e.text),1)])),zn("label",{for:e.labelFor},[ps(t.$slots,"label",{},(()=>[Wn(ae(e.label),1)]))],8,cy)]))}),dy=Ra({__name:"BFormInvalidFeedback",props:{ariaLive:null,forceShow:{default:!1},id:null,text:null,role:null,state:{default:void 0},tag:{default:"div"},tooltip:{default:!1}},setup(e){const t=e,a=$g(Nt(t,"forceShow")),s=$g(Nt(t,"state")),n=$g(Nt(t,"tooltip")),i=pi((()=>!0===a.value||!1===s.value)),o=pi((()=>({"d-block":i.value,"invalid-feedback":!n.value,"invalid-tooltip":n.value}))),l=pi((()=>({id:t.id,role:t.role,"aria-live":t.ariaLive,"aria-atomic":t.ariaLive?"true":void 0})));return(t,a)=>(En(),Mn(rs(e.tag),Xn({class:Ot(o)},Ot(l)),{default:ua((()=>[ps(t.$slots,"default",{},(()=>[Wn(ae(e.text),1)]))])),_:3},16,["class"]))}}),hy=Ra({__name:"BFormRow",props:{tag:{default:"div"}},setup:e=>(t,a)=>(En(),Mn(rs(e.tag),{class:"row d-flex flex-wrap"},{default:ua((()=>[ps(t.$slots,"default")])),_:3}))}),py=Ra({__name:"BFormText",props:{id:null,inline:{default:!1},tag:{default:"small"},text:null,textVariant:{default:"muted"}},setup(e){const t=e,a=$g(Nt(t,"inline")),s=pi((()=>[[`text-${t.textVariant}`],{"form-text":!a.value}]));return(t,a)=>(En(),Mn(rs(e.tag),{id:e.id,class:Y(Ot(s))},{default:ua((()=>[ps(t.$slots,"default",{},(()=>[Wn(ae(e.text),1)]))])),_:3},8,["id","class"]))}}),fy=Ra({__name:"BFormValidFeedback",props:{ariaLive:null,forceShow:{default:!1},id:null,role:null,text:null,state:{default:void 0},tag:{default:"div"},tooltip:{default:!1}},setup(e){const t=e,a=$g(Nt(t,"forceShow")),s=$g(Nt(t,"state")),n=$g(Nt(t,"tooltip")),i=pi((()=>!0===a.value||!0===s.value)),o=pi((()=>({"d-block":i.value,"valid-feedback":!n.value,"valid-tooltip":n.value}))),l=pi((()=>t.ariaLive?"true":void 0));return(t,a)=>(En(),Mn(rs(e.tag),{id:e.id,role:e.role,"aria-live":e.ariaLive,"aria-atomic":Ot(l),class:Y(Ot(o))},{default:ua((()=>[ps(t.$slots,"default",{},(()=>[Wn(ae(e.text),1)]))])),_:3},8,["id","role","aria-live","aria-atomic","class"]))}}),my=["id","disabled","required","name","form","aria-label","aria-labelledby","aria-required","value","indeterminate"],gy=["for"],vy=Ra({inheritAttrs:!1,__name:"BFormCheckbox",props:{ariaLabel:null,ariaLabelledBy:null,form:null,indeterminate:null,name:null,id:{default:void 0},autofocus:{default:!1},plain:{default:!1},button:{default:!1},switch:{default:!1},disabled:{default:!1},buttonVariant:{default:"secondary"},inline:{default:!1},required:{default:void 0},size:{default:"md"},state:{default:void 0},uncheckedValue:{type:[Array,Set,Boolean,String,Object,Number],default:!1},value:{type:[Array,Set,Boolean,String,Object,Number],default:!0},modelValue:{type:[Array,Set,Boolean,String,Object,Number],default:void 0}},emits:["update:modelValue","input","change"],setup(e,{emit:t}){const a=e,s=ys(),n=Gg(Nt(a,"id"),"form-check"),i=$g(Nt(a,"indeterminate")),o=$g(Nt(a,"autofocus")),l=$g(Nt(a,"plain")),r=$g(Nt(a,"button")),c=$g(Nt(a,"switch")),u=$g(Nt(a,"disabled")),d=$g(Nt(a,"inline")),h=$g(Nt(a,"required")),p=$g(Nt(a,"state")),f=At(null),m=At(!1),g=pi((()=>!dg(s.default))),v=pi({get:()=>a.uncheckedValue?Array.isArray(a.modelValue)?a.modelValue.indexOf(a.value)>-1:a.modelValue===a.value:a.modelValue,set:e=>{let s=e;Array.isArray(a.modelValue)?a.uncheckedValue&&(s=a.modelValue,e?(s.indexOf(a.uncheckedValue)>-1&&s.splice(s.indexOf(a.uncheckedValue),1),s.push(a.value)):(s.indexOf(a.value)>-1&&s.splice(s.indexOf(a.value),1),s.push(a.uncheckedValue))):s=e?a.value:a.uncheckedValue,t("input",s),t("update:modelValue",s),t("change",s)}}),b=pi((()=>Array.isArray(a.modelValue)?a.modelValue.indexOf(a.value)>-1:JSON.stringify(a.modelValue)===JSON.stringify(a.value))),y=mt({plain:Nt(l,"value"),button:Nt(r,"value"),inline:Nt(d,"value"),switch:Nt(c,"value"),size:Nt(a,"size"),state:Nt(p,"value"),buttonVariant:Nt(a,"buttonVariant")}),_=Rg(y),w=jg(y),x=zg(y);return Xa((()=>{o.value&&f.value.focus()})),(t,a)=>(En(),$n("div",{class:Y(Ot(_))},[da(zn("input",Xn({id:Ot(n)},t.$attrs,{ref_key:"input",ref:f,"onUpdate:modelValue":a[0]||(a[0]=e=>Bt(v)?v.value=e:null),class:Ot(w),type:"checkbox",disabled:Ot(u),required:!!e.name&&!!Ot(h),name:e.name,form:e.form,"aria-label":e.ariaLabel,"aria-labelledby":e.ariaLabelledBy,"aria-required":e.name&&Ot(h)?"true":void 0,value:e.value,indeterminate:Ot(i),onFocus:a[1]||(a[1]=e=>m.value=!0),onBlur:a[2]||(a[2]=e=>m.value=!1)}),null,16,my),[[uo,Ot(v)]]),Ot(g)||!Ot(l)?(En(),$n("label",{key:0,for:Ot(n),class:Y([Ot(x),{active:Ot(b),focus:m.value}])},[ps(t.$slots,"default")],10,gy)):Gn("",!0)],2))}}),by=["id"],yy=["innerHTML"],_y=["textContent"],wy=Ra({__name:"BFormCheckboxGroup",props:{id:null,form:null,modelValue:{default:()=>[]},ariaInvalid:{default:void 0},autofocus:{default:!1},buttonVariant:{default:"secondary"},buttons:{default:!1},disabled:{default:!1},disabledField:{default:"disabled"},htmlField:{default:"html"},name:null,options:{default:()=>[]},plain:{default:!1},required:{default:!1},size:null,stacked:{default:!1},state:{default:void 0},switches:{default:!1},textField:{default:"text"},validated:{default:!1},valueField:{default:"value"}},emits:["input","update:modelValue","change"],setup(e,{emit:t}){const a=e,s=ys(),n="BFormCheckbox",i=Gg(Nt(a,"id"),"checkbox"),o=Gg(Nt(a,"name"),"checkbox");$g(Nt(a,"autofocus"));const l=$g(Nt(a,"buttons")),r=$g(Nt(a,"disabled"));$g(Nt(a,"plain"));const c=$g(Nt(a,"required")),u=$g(Nt(a,"stacked")),d=$g(Nt(a,"state")),h=$g(Nt(a,"switches")),p=$g(Nt(a,"validated")),f=pi({get:()=>a.modelValue,set:e=>{if(JSON.stringify(e)===JSON.stringify(a.modelValue))return;const s=a.options.filter((t=>e.map((e=>JSON.stringify(e))).includes(JSON.stringify("string"==typeof t?t:t[a.valueField])))).map((e=>"string"==typeof e?e:e[a.valueField]));t("input",s),t("update:modelValue",s),t("change",s)}}),m=pi((()=>(s.first?Fg(s.first(),n,r.value):[]).concat(a.options.map((e=>Wg(e,a)))).concat(s.default?Fg(s.default(),n,r.value):[]).map(((e,t)=>Ug(e,t,a,o,i))).map((e=>({...e,props:{switch:h.value,...e.props}}))))),g=mt({required:Nt(c,"value"),ariaInvalid:Nt(a,"ariaInvalid"),state:Nt(d,"value"),validated:Nt(p,"value"),buttons:Nt(l,"value"),stacked:Nt(u,"value"),size:Nt(a,"size")}),v=Vg(g),b=Hg(g);return(e,t)=>(En(),$n("div",Xn(Ot(v),{id:Ot(i),role:"group",class:[Ot(b),"bv-no-focus-ring"],tabindex:"-1"}),[(En(!0),$n(kn,null,ds(Ot(m),((e,a)=>(En(),Mn(vy,Xn({key:a,modelValue:Ot(f),"onUpdate:modelValue":t[0]||(t[0]=e=>Bt(f)?f.value=e:null)},e.props),{default:ua((()=>[e.html?(En(),$n("span",{key:0,innerHTML:e.html},null,8,yy)):(En(),$n("span",{key:1,textContent:ae(e.text)},null,8,_y))])),_:2},1040,["modelValue"])))),128))],16,by))}}),xy=["input","select","textarea"],Sy=xy.map((e=>`${e}:not([disabled])`)).join(),ky=[...xy,"a","button","label"],Cy=Ra({components:{BCol:Ib,BFormInvalidFeedback:dy,BFormRow:hy,BFormText:py,BFormValidFeedback:fy},props:{contentCols:{type:[Boolean,String,Number],required:!1},contentColsLg:{type:[Boolean,String,Number],required:!1},contentColsMd:{type:[Boolean,String,Number],required:!1},contentColsSm:{type:[Boolean,String,Number],required:!1},contentColsXl:{type:[Boolean,String,Number],required:!1},description:{type:[String],required:!1},disabled:{type:[Boolean,String],default:!1},feedbackAriaLive:{type:String,default:"assertive"},id:{type:String,required:!1},invalidFeedback:{type:String,required:!1},label:{type:String,required:!1},labelAlign:{type:[Boolean,String,Number],required:!1},labelAlignLg:{type:[Boolean,String,Number],required:!1},labelAlignMd:{type:[Boolean,String,Number],required:!1},labelAlignSm:{type:[Boolean,String,Number],required:!1},labelAlignXl:{type:[Boolean,String,Number],required:!1},labelClass:{type:[Array,Object,String],required:!1},labelCols:{type:[Boolean,String,Number],required:!1},labelColsLg:{type:[Boolean,String,Number],required:!1},labelColsMd:{type:[Boolean,String,Number],required:!1},labelColsSm:{type:[Boolean,String,Number],required:!1},labelColsXl:{type:[Boolean,String,Number],required:!1},labelFor:{type:String,required:!1},labelSize:{type:String,required:!1},labelSrOnly:{type:[Boolean,String],default:!1},state:{type:[Boolean,String],default:null},tooltip:{type:[Boolean,String],default:!1},validFeedback:{type:String,required:!1},validated:{type:[Boolean,String],default:!1},floating:{type:[Boolean,String],default:!1}},setup(e,{attrs:t}){const a=$g(Nt(e,"disabled")),s=$g(Nt(e,"labelSrOnly")),n=$g(Nt(e,"state")),i=$g(Nt(e,"tooltip")),o=$g(Nt(e,"validated")),l=$g(Nt(e,"floating")),r=null,c=["xs","sm","md","lg","xl"],u=(e,t)=>c.reduce(((a,s)=>{const n=Pg("xs"===s?"":s,`${t}Cols`);let i=e[n];return i=""===i||i||!1,"boolean"!=typeof i&&"auto"!==i&&(i=Tg(i,0),i=i>0&&i),i&&("xs"===s?a.cols=i:a[s||("boolean"==typeof i?"col":"cols")]=i),a}),{}),d=At(),h=(t,a=null)=>{if(Xm&&e.labelFor){const s=hg(`#${(e=>{const t=Fm(e),{length:a}=t,s=t.charCodeAt(0);return t.split("").reduce(((e,n,i)=>{const o=t.charCodeAt(i);return 0===o?`${e}�`:127===o||o>=1&&o<=31||0===i&&o>=48&&o<=57||1===i&&o>=48&&o<=57&&45===s?e+Gm(`${o.toString(16)} `):0===i&&45===o&&1===a?e+Gm(n):o>=128||45===o||95===o||o>=48&&o<=57||o>=65&&o<=90||o>=97&&o<=122?e+n:e+Gm(n)}),"")})(e.labelFor)}`,d);if(s){const e="aria-describedby",n=(t||"").split(jm),i=(a||"").split(jm),o=(pg(s,e)||"").split(jm).filter((e=>!i.includes(e))).concat(n).filter(((e,t,a)=>a.indexOf(e)===t)).filter((e=>e)).join(" ").trim();o?((e,t,a)=>{cg(e)&&e.setAttribute(t,a)})(s,e,o):((e,t)=>{cg(e)&&e.removeAttribute(t)})(s,e)}}},p=pi((()=>u(e,"content"))),f=pi((()=>{return t=e,"label",c.reduce(((e,a)=>{const s=Pg("xs"===a?"":a,"labelAlign"),n=t[s]||null;return n&&("xs"===a?e.push(`text-${n}`):e.push(`text-${a}-${n}`)),e}),[]);var t})),m=pi((()=>u(e,"label"))),g=pi((()=>Object.keys(p.value).length>0||Object.keys(m.value).length>0)),v=pi((()=>"boolean"==typeof n.value?n.value:null)),b=pi((()=>{const e=v.value;return!0===e?"is-valid":!1===e?"is-invalid":null})),y=pi((()=>wg(t.ariaInvalid,n.value)));return dn((()=>r),((e,t)=>{e!==t&&h(e,t)})),Xa((()=>{ea((()=>{h(r)}))})),{disabledBoolean:a,labelSrOnlyBoolean:s,stateBoolean:n,tooltipBoolean:i,validatedBoolean:o,floatingBoolean:l,ariaDescribedby:r,computedAriaInvalid:y,contentColProps:p,isHorizontal:g,labelAlignClasses:f,labelColProps:m,onLegendClick:t=>{if(e.labelFor)return;const{target:s}=t,n=s?s.tagName:"";if(-1!==ky.indexOf(n))return;const i=((e,t)=>Array.from([(cg(t)?t:ig).querySelectorAll(e)]))(Sy,d).filter(ug);1===i.length&&((e,t={})=>{try{e.focus(t)}catch(a){console.error(a)}(e=>{cg(e)&&((e=[])=>{const{activeElement:t}=document;t&&e.some((e=>e===t))})()})(e)})(i[0])},stateClass:b}},render(){const e=this.$props,t=this.$slots,a=Gg(),s=!e.labelFor;let n=null;const i=kg("label",{},t)||e.label,o=i?_g("_BV_label_"):null;if(i||this.isHorizontal){const t=s?"legend":"label";if(this.labelSrOnlyBoolean)i&&(n=fi(t,{class:"visually-hidden",id:o,for:e.labelFor||null},i)),n=this.isHorizontal?fi(Ib,this.labelColProps,{default:()=>n}):fi("div",{},[n]);else{const a={onClick:s?this.onLegendClick:null,...this.isHorizontal?this.labelColProps:{},tag:this.isHorizontal?t:null,id:o,for:e.labelFor||null,tabIndex:s?"-1":null,class:[this.isHorizontal?"col-form-label":"form-label",{"bv-no-focus-ring":s,"col-form-label":this.isHorizontal||s,"pt-0":!this.isHorizontal&&s,"d-block":!this.isHorizontal&&!s,[`col-form-label-${e.labelSize}`]:!!e.labelSize},this.labelAlignClasses,e.labelClass]};n=this.isHorizontal?fi(Ib,a,{default:()=>i}):fi(t,a,i)}}let l=null;const r=kg("invalid-feedback",{},t)||this.invalidFeedback,c=r?_g("_BV_feedback_invalid_"):void 0;r&&(l=fi(dy,{ariaLive:e.feedbackAriaLive,id:c,state:this.stateBoolean,tooltip:this.tooltipBoolean},{default:()=>r}));let u=null;const d=kg("valid-feedback",{},t)||this.validFeedback,h=d?_g("_BV_feedback_valid_"):void 0;d&&(u=fi(fy,{ariaLive:e.feedbackAriaLive,id:h,state:this.stateBoolean,tooltip:this.tooltipBoolean},{default:()=>d}));let p=null;const f=kg("description",{},t)||this.description,m=f?_g("_BV_description_"):void 0;f&&(p=fi(py,{id:m},{default:()=>f}));const g=this.ariaDescribedby=[m,!1===this.stateBoolean?c:null,!0===this.stateBoolean?h:null].filter((e=>e)).join(" ")||null,v=[kg("default",{ariaDescribedby:g,descriptionId:m,id:a,labelId:o},t)||"",l,u,p];!this.isHorizontal&&this.floatingBoolean&&v.push(n);let b=fi("div",{ref:"content",class:[{"form-floating":!this.isHorizontal&&this.floatingBoolean}]},v);this.isHorizontal&&(b=fi(Ib,{ref:"content",...this.contentColProps},{default:()=>v}));const y={class:["mb-3",this.stateClass,{"was-validated":this.validatedBoolean}],id:Gg(Nt(e,"id")).value,disabled:s?this.disabledBoolean:null,role:s?null:"group","aria-invalid":this.computedAriaInvalid,"aria-labelledby":s&&this.isHorizontal?o:null};return this.isHorizontal&&!s?fi(hy,y,{default:()=>[n,b]}):fi(s?"fieldset":"div",y,this.isHorizontal&&s?[fi(hy,null,{default:()=>[n,b]})]:this.isHorizontal||!this.floatingBoolean?[n,b]:[b])}}),Ty=["text","number","email","password","search","url","tel","date","time","range","color"],By=Ra({props:{...qg,max:{type:[String,Number],required:!1},min:{type:[String,Number],required:!1},step:{type:[String,Number],required:!1},type:{type:String,default:"text",validator:e=>Ty.includes(e)}},emits:["update:modelValue","change","blur","input"],setup(e,{emit:t}){const{input:a,computedId:s,computedAriaInvalid:n,onInput:i,onChange:o,onBlur:l,focus:r,blur:c}=Kg(e,t),u=At(!1);return{computedClasses:pi((()=>{const t="range"===e.type,a="color"===e.type;return{"form-control-highlighted":u.value,"form-range":t,"form-control":a||!e.plaintext&&!t,"form-control-color":a,"form-control-plaintext":e.plaintext&&!t&&!a,[`form-control-${e.size}`]:!!e.size,"is-valid":!0===e.state,"is-invalid":!1===e.state}})),localType:pi((()=>Ty.includes(e.type)?e.type:"text")),input:a,computedId:s,computedAriaInvalid:n,onInput:i,onChange:o,onBlur:l,focus:r,blur:c,highlight:()=>{!0!==u.value&&(u.value=!0,setTimeout((()=>{u.value=!1}),2e3))}}}}),Ay=["id","name","form","type","disabled","placeholder","required","autocomplete","readonly","min","max","step","list","aria-required","aria-invalid"],Iy=Cv(By,[["render",function(e,t,a,s,n,i){return En(),$n("input",Xn({id:e.computedId,ref:"input",class:e.computedClasses,name:e.name||void 0,form:e.form||void 0,type:e.localType,disabled:e.disabled,placeholder:e.placeholder,required:e.required,autocomplete:e.autocomplete||void 0,readonly:e.readonly||e.plaintext,min:e.min,max:e.max,step:e.step,list:"password"!==e.type?e.list:void 0,"aria-required":e.required?"true":void 0,"aria-invalid":e.computedAriaInvalid},e.$attrs,{onInput:t[0]||(t[0]=t=>e.onInput(t)),onChange:t[1]||(t[1]=t=>e.onChange(t)),onBlur:t[2]||(t[2]=t=>e.onBlur(t))}),null,16,Ay)}]]),Ey=["id","disabled","required","name","form","aria-label","aria-labelledby","value","aria-required"],Py=["for"],Oy=Ra({__name:"BFormRadio",props:{ariaLabel:null,ariaLabelledby:null,form:null,id:null,name:null,size:null,autofocus:{default:!1},modelValue:{type:[Boolean,String,Array,Object,Number],default:void 0},plain:{default:!1},button:{default:!1},switch:{default:!1},disabled:{default:!1},buttonVariant:{default:"secondary"},inline:{default:!1},required:{default:!1},state:{default:void 0},value:{type:[String,Boolean,Object,Number],default:!0}},emits:["input","change","update:modelValue"],setup(e,{emit:t}){const a=e,s=ys(),n=Gg(Nt(a,"id"),"form-check"),i=$g(Nt(a,"autofocus")),o=$g(Nt(a,"plain")),l=$g(Nt(a,"button")),r=$g(Nt(a,"switch")),c=$g(Nt(a,"disabled")),u=$g(Nt(a,"inline")),d=$g(Nt(a,"required")),h=$g(Nt(a,"state")),p=At(null),f=At(!1),m=pi({get:()=>Array.isArray(a.modelValue)?a.modelValue[0]:a.modelValue,set:e=>{const s=!!e&&a.value,n=Array.isArray(a.modelValue)?[s]:s;t("input",n),t("change",n),t("update:modelValue",n)}}),g=pi((()=>Array.isArray(a.modelValue)?(a.modelValue||[]).find((e=>e===a.value)):JSON.stringify(a.modelValue)===JSON.stringify(a.value))),v=pi((()=>!dg(s.default))),b=mt({plain:Nt(o,"value"),button:Nt(l,"value"),inline:Nt(u,"value"),switch:Nt(r,"value"),size:Nt(a,"size"),state:Nt(h,"value"),buttonVariant:Nt(a,"buttonVariant")}),y=Rg(b),_=jg(b),w=zg(b);return Xa((()=>{i.value&&null!==p.value&&p.value.focus()})),(t,a)=>(En(),$n("div",{class:Y(Ot(y))},[da(zn("input",Xn({id:Ot(n)},t.$attrs,{ref_key:"input",ref:p,"onUpdate:modelValue":a[0]||(a[0]=e=>Bt(m)?m.value=e:null),class:Ot(_),type:"radio",disabled:Ot(c),required:!!e.name&&Ot(d),name:e.name,form:e.form,"aria-label":e.ariaLabel,"aria-labelledby":e.ariaLabelledby,value:e.value,"aria-required":!(!e.name||!Ot(d))||void 0,onFocus:a[1]||(a[1]=e=>f.value=!0),onBlur:a[2]||(a[2]=e=>f.value=!1)}),null,16,Ey),[[po,Ot(m)]]),Ot(v)||!1===Ot(o)?(En(),$n("label",{key:0,for:Ot(n),class:Y([Ot(w),{active:Ot(g),focus:f.value}])},[ps(t.$slots,"default")],10,Py)):Gn("",!0)],2))}}),Dy=["id"],$y=["innerHTML"],My=["textContent"],Ly=Ra({__name:"BFormRadioGroup",props:{size:null,form:null,id:null,name:null,modelValue:{type:[String,Boolean,Array,Object,Number],default:""},ariaInvalid:{default:void 0},autofocus:{default:!1},buttonVariant:{default:"secondary"},buttons:{default:!1},disabled:{default:!1},disabledField:{default:"disabled"},htmlField:{default:"html"},options:{default:()=>[]},plain:{default:!1},required:{default:!1},stacked:{default:!1},state:{default:void 0},textField:{default:"text"},validated:{default:!1},valueField:{default:"value"}},emits:["input","update:modelValue","change"],setup(e,{emit:t}){const a=e,s=ys(),n="BFormRadio",i=Gg(Nt(a,"id"),"radio"),o=Gg(Nt(a,"name"),"checkbox");$g(Nt(a,"autofocus"));const l=$g(Nt(a,"buttons")),r=$g(Nt(a,"disabled"));$g(Nt(a,"plain"));const c=$g(Nt(a,"required")),u=$g(Nt(a,"stacked")),d=$g(Nt(a,"state")),h=$g(Nt(a,"validated")),p=pi({get:()=>a.modelValue,set:e=>{t("input",e),t("update:modelValue",e),t("change",e)}}),f=pi((()=>(s.first?Fg(s.first(),n,r.value):[]).concat(a.options.map((e=>Wg(e,a)))).concat(s.default?Fg(s.default(),n,r.value):[]).map(((e,t)=>Ug(e,t,a,o,i))).map((e=>({...e}))))),m=mt({required:Nt(c,"value"),ariaInvalid:Nt(a,"ariaInvalid"),state:Nt(d,"value"),validated:Nt(h,"value"),buttons:Nt(l,"value"),stacked:Nt(u,"value"),size:Nt(a,"size")}),g=Vg(m),v=Hg(m);return(e,t)=>(En(),$n("div",Xn(Ot(g),{id:Ot(i),role:"radiogroup",class:[Ot(v),"bv-no-focus-ring"],tabindex:"-1"}),[(En(!0),$n(kn,null,ds(Ot(f),((e,a)=>(En(),Mn(Oy,Xn({key:a,modelValue:Ot(p),"onUpdate:modelValue":t[0]||(t[0]=e=>Bt(p)?p.value=e:null)},e.props),{default:ua((()=>[e.html?(En(),$n("span",{key:0,innerHTML:e.html},null,8,$y)):(En(),$n("span",{key:1,textContent:ae(e.text)},null,8,My))])),_:2},1040,["modelValue"])))),128))],16,Dy))}}),Ny=["value","disabled"],Ry=Ra({__name:"BFormSelectOption",props:{value:null,disabled:{default:!1}},setup(e){const t=$g(Nt(e,"disabled"));return(a,s)=>(En(),$n("option",{value:e.value,disabled:Ot(t)},[ps(a.$slots,"default")],8,Ny))}}),jy=["label"],zy=Ra({__name:"BFormSelectOptionGroup",props:{label:null,disabledField:{default:"disabled"},htmlField:{default:"html"},options:{default:()=>[]},textField:{default:"text"},valueField:{default:"value"}},setup(e){const t=e,a=pi((()=>Qg(t.options,"BFormSelectOptionGroup",t)));return(t,s)=>(En(),$n("optgroup",{label:e.label},[ps(t.$slots,"first"),(En(!0),$n(kn,null,ds(Ot(a),((e,a)=>(En(),Mn(Ry,Xn({key:a,value:e.value,disabled:e.disabled},t.$attrs,{innerHTML:e.html||e.text}),null,16,["value","disabled","innerHTML"])))),128)),ps(t.$slots,"default")],8,jy))}}),Vy=["id","name","form","multiple","size","disabled","required","aria-required","aria-invalid"],Hy=Ra({__name:"BFormSelect",props:{ariaInvalid:{default:void 0},autofocus:{default:!1},disabled:{default:!1},disabledField:{default:"disabled"},form:null,htmlField:{default:"html"},id:null,labelField:{default:"label"},multiple:{default:!1},name:null,options:{default:()=>[]},optionsField:{default:"options"},plain:{default:!1},required:{default:!1},selectSize:{default:0},size:null,state:{default:void 0},textField:{default:"text"},valueField:{default:"value"},modelValue:{default:""}},emits:["input","update:modelValue","change"],setup(e,{expose:t,emit:a}){const s=e,n=Gg(Nt(s,"id"),"input"),i=$g(Nt(s,"autofocus")),o=$g(Nt(s,"disabled")),l=$g(Nt(s,"multiple")),r=$g(Nt(s,"plain")),c=$g(Nt(s,"required")),u=$g(Nt(s,"state")),d=At(),h=pi((()=>({"form-control":r.value,[`form-control-${s.size}`]:s.size&&r.value,"form-select":!r.value,[`form-select-${s.size}`]:s.size&&!r.value,"is-valid":!0===u.value,"is-invalid":!1===u.value}))),p=pi((()=>{if(s.selectSize||r.value)return s.selectSize})),f=pi((()=>wg(s.ariaInvalid,u.value))),m=pi((()=>Qg(s.options,"BFormSelect",s))),g=pi({get:()=>s.modelValue,set(e){a("change",e),a("update:modelValue",e),a("input",e)}}),v=()=>{ea((()=>{var e;i.value&&(null==(e=d.value)||e.focus())}))};return Xa(v),Fa(v),t({blur:()=>{var e;o.value||null==(e=d.value)||e.blur()},focus:()=>{var e;o.value||null==(e=d.value)||e.focus()}}),(t,a)=>da((En(),$n("select",Xn({id:Ot(n),ref_key:"input",ref:d},t.$attrs,{"onUpdate:modelValue":a[0]||(a[0]=e=>Bt(g)?g.value=e:null),class:Ot(h),name:e.name,form:e.form||void 0,multiple:Ot(l)||void 0,size:Ot(p),disabled:Ot(o),required:Ot(c),"aria-required":!!Ot(c)||void 0,"aria-invalid":Ot(f)}),[ps(t.$slots,"first"),(En(!0),$n(kn,null,ds(Ot(m),((e,t)=>(En(),$n(kn,{key:t},[Array.isArray(e.options)?(En(),Mn(zy,{key:0,label:e.label,options:e.options},null,8,["label","options"])):(En(),Mn(Ry,{key:1,value:e.value,disabled:e.disabled,innerHTML:e.html||e.text},null,8,["value","disabled","innerHTML"]))],64)))),128)),ps(t.$slots,"default")],16,Vy)),[[fo,Ot(g)]])}}),Fy=["id"],Wy=Ra({__name:"BFormTag",props:{id:null,title:null,disabled:{default:!1},noRemove:{default:!1},pill:{default:!1},removeLabel:{default:"Remove tag"},tag:{default:"span"},variant:{default:"secondary"}},emits:["remove"],setup(e,{emit:t}){const a=e,s=ys(),n=Gg(Nt(a,"id")),i=$g(Nt(a,"disabled")),o=$g(Nt(a,"noRemove")),l=$g(Nt(a,"pill")),r=pi((()=>{var e,t,n;return null!=(n=(null!=(t=null==(e=s.default)?void 0:e.call(s)[0].children)?t:"").toString()||a.title)?n:""})),c=pi((()=>`${n.value}taglabel__`)),u=pi((()=>[`bg-${a.variant}`,{"text-dark":["warning","info","light"].includes(a.variant),"rounded-pill":l.value,disabled:i.value}]));return(a,s)=>(En(),Mn(rs(e.tag),{id:Ot(n),title:Ot(r),class:Y(["badge b-form-tag d-inline-flex align-items-center mw-100",Ot(u)]),"aria-labelledby":Ot(c)},{default:ua((()=>[zn("span",{id:Ot(c),class:"b-form-tag-content flex-grow-1 text-truncate"},[ps(a.$slots,"default",{},(()=>[Wn(ae(Ot(r)),1)]))],8,Fy),Ot(i)||Ot(o)?Gn("",!0):(En(),Mn(_v,{key:0,"aria-keyshortcuts":"Delete","aria-label":e.removeLabel,class:"b-form-tag-remove",white:!["warning","info","light"].includes(e.variant),"aria-describedby":Ot(c),"aria-controls":e.id,onClick:s[0]||(s[0]=e=>t("remove",Ot(r)))},null,8,["aria-label","white","aria-describedby","aria-controls"]))])),_:3},8,["id","title","class","aria-labelledby"]))}}),Uy=["id"],Gy=["id","for","aria-live"],qy=["id","aria-live"],Ky=["id"],Yy=["aria-controls"],Xy={role:"group",class:"d-flex"},Qy=["id","disabled","value","type","placeholder","form","required"],Jy=["disabled"],Zy={"aria-live":"polite","aria-atomic":"true"},e_={key:0,class:"d-block invalid-feedback"},t_={key:1,class:"form-text text-muted"},a_={key:2,class:"form-text text-muted"},s_=["name","value"],n_=Ra({__name:"BFormTags",props:{addButtonText:{default:"Add"},addButtonVariant:{default:"outline-secondary"},addOnChange:{default:!1},autofocus:{default:!1},disabled:{default:!1},duplicateTagText:{default:"Duplicate tag(s)"},inputAttrs:null,inputClass:null,inputId:null,inputType:{default:"text"},invalidTagText:{default:"Invalid tag(s)"},form:null,limit:null,limitTagsText:{default:"Tag limit reached"},modelValue:{default:()=>[]},name:null,noAddOnEnter:{default:!1},noOuterFocus:{default:!1},noTagRemove:{default:!1},placeholder:{default:"Add tag..."},removeOnDelete:{default:!1},required:{default:!1},separator:null,state:{default:void 0},size:null,tagClass:null,tagPills:{default:!1},tagRemoveLabel:null,tagRemovedLabel:{default:"Tag removed"},tagValidator:{type:Function,default:()=>!0},tagVariant:{default:"secondary"}},emits:["update:modelValue","input","tag-state","focus","focusin","focusout","blur"],setup(e,{emit:t}){const a=e,s=Gg(),n=$g(Nt(a,"addOnChange")),i=$g(Nt(a,"autofocus")),o=$g(Nt(a,"disabled")),l=$g(Nt(a,"noAddOnEnter")),r=$g(Nt(a,"noOuterFocus")),c=$g(Nt(a,"noTagRemove")),u=$g(Nt(a,"removeOnDelete")),d=$g(Nt(a,"required")),h=$g(Nt(a,"state")),p=$g(Nt(a,"tagPills")),f=At(null),m=pi((()=>a.inputId||`${s.value}input__`)),g=At(a.modelValue),v=At(""),b=At(!1),y=At(!1),_=At(""),w=At([]),x=At([]),S=At([]),k=pi((()=>({[`form-control-${a.size}`]:void 0!==a.size,disabled:o.value,focus:y.value,"is-invalid":!1===h.value,"is-valid":!0===h.value}))),C=pi((()=>g.value.includes(v.value))),T=pi((()=>""!==v.value&&!a.tagValidator(v.value))),B=pi((()=>g.value.length===a.limit)),A=pi((()=>!T.value&&!C.value)),I=pi((()=>({addButtonText:a.addButtonText,addButtonVariant:a.addButtonVariant,addTag:N,disableAddButton:A.value,disabled:o.value,duplicateTagText:a.duplicateTagText,duplicateTags:S.value,form:a.form,inputAttrs:{...a.inputAttrs,disabled:o.value,form:a.form,id:m,value:v},inputHandlers:{input:$,keydown:L,change:M},inputId:m,inputType:a.inputType,invalidTagText:a.invalidTagText,invalidTags:x.value,isDuplicate:C.value,isInvalid:T.value,isLimitReached:B.value,limitTagsText:a.limitTagsText,limit:a.limit,noTagRemove:c.value,placeholder:a.placeholder,removeTag:R,required:d.value,separator:a.separator,size:a.size,state:h.value,tagClass:a.tagClass,tagPills:p.value,tagRemoveLabel:a.tagRemoveLabel,tagVariant:a.tagVariant,tags:g.value})));dn((()=>a.modelValue),(e=>{g.value=e}));const E=()=>{var e;i.value&&(null==(e=f.value)||e.focus())},P=e=>{o.value?e.target.blur():t("focusin",e)},O=e=>{o.value||r.value||(y.value=!0,t("focus",e))},D=e=>{y.value=!1,t("blur",e)},$=e=>{var s,n;const i="string"==typeof e?e:e.target.value;b.value=!1,(null==(s=a.separator)?void 0:s.includes(i.charAt(0)))&&i.length>0?f.value&&(f.value.value=""):(v.value=i,null!=(n=a.separator)&&n.includes(i.charAt(i.length-1))?N(i.slice(0,i.length-1)):(w.value=a.tagValidator(i)&&!C.value?[i]:[],x.value=a.tagValidator(i)?[]:[i],S.value=C.value?[i]:[],t("tag-state",w.value,x.value,S.value)))},M=e=>{n.value&&($(e),C.value||N(v.value))},L=e=>{"Enter"!==e.key||l.value?("Backspace"===e.key||"Delete"===e.key)&&u.value&&""===v.value&&b.value&&g.value.length>0?R(g.value[g.value.length-1]):b.value=!0:N(v.value)},N=e=>{var s;if(""===(e=(e||v.value).trim())||C.value||!a.tagValidator(e)||a.limit&&B.value)return;const n=[...a.modelValue,e];v.value="",b.value=!0,t("update:modelValue",n),t("input",n),null==(s=f.value)||s.focus()},R=e=>{var a;const s=g.value.indexOf(null!=(a=null==e?void 0:e.toString())?a:"");_.value=g.value.splice(s,1).toString(),t("update:modelValue",g.value)};return Xa((()=>{E(),a.modelValue.length>0&&(b.value=!0)})),Fa((()=>E())),(a,n)=>(En(),$n("div",{id:Ot(s),class:Y(["b-form-tags form-control h-auto",Ot(k)]),role:"group",tabindex:"-1",onFocusin:P,onFocusout:n[1]||(n[1]=e=>t("focusout",e))},[zn("output",{id:`${Ot(s)}selected_tags__`,class:"visually-hidden",role:"status",for:Ot(m),"aria-live":y.value?"polite":"off","aria-atomic":"true","aria-relevant":"additions text"},ae(g.value.join(", ")),9,Gy),zn("div",{id:`${Ot(s)}removed_tags__`,role:"status","aria-live":y.value?"assertive":"off","aria-atomic":"true",class:"visually-hidden"}," ("+ae(e.tagRemovedLabel)+") "+ae(_.value),9,qy),ps(a.$slots,"default",X(Hn(Ot(I))),(()=>[zn("ul",{id:`${Ot(s)}tag_list__`,class:"b-form-tags-list list-unstyled mb-0 d-flex flex-wrap align-items-center"},[(En(!0),$n(kn,null,ds(g.value,((t,s)=>ps(a.$slots,"tag",X(Xn({key:s},{tag:t,tagClass:e.tagClass,tagVariant:e.tagVariant,tagPills:Ot(p),removeTag:R})),(()=>[Vn(Wy,{class:Y(e.tagClass),tag:"li",variant:e.tagVariant,pill:e.tagPills,onRemove:R},{default:ua((()=>[Wn(ae(t),1)])),_:2},1032,["class","variant","pill"])])))),128)),zn("li",{role:"none","aria-live":"off",class:"b-from-tags-field flex-grow-1","aria-controls":`${Ot(s)}tag_list__`},[zn("div",Xy,[zn("input",Xn({id:Ot(m),ref_key:"input",ref:f,disabled:Ot(o),value:v.value,type:e.inputType,placeholder:e.placeholder,class:"b-form-tags-input w-100 flex-grow-1 p-0 m-0 bg-transparent border-0",style:{outline:"currentcolor none 0px","min-width":"5rem"}},e.inputAttrs,{form:e.form,required:Ot(d),onInput:$,onChange:M,onKeydown:L,onFocus:O,onBlur:D}),null,16,Qy),Ot(A)?(En(),$n("button",{key:0,type:"button",class:Y(["btn b-form-tags-button py-0",[`btn-${e.addButtonVariant}`,{"disabled invisible":0===v.value.length},e.inputClass]]),style:{"font-size":"90%"},disabled:Ot(o)||0===v.value.length||Ot(B),onClick:n[0]||(n[0]=e=>N(v.value))},[ps(a.$slots,"add-button-text",{},(()=>[Wn(ae(e.addButtonText),1)]))],10,Jy)):Gn("",!0)])],8,Yy)],8,Ky),zn("div",Zy,[Ot(T)?(En(),$n("div",e_,ae(e.invalidTagText)+": "+ae(v.value),1)):Gn("",!0),Ot(C)?(En(),$n("small",t_,ae(e.duplicateTagText)+": "+ae(v.value),1)):Gn("",!0),g.value.length===e.limit?(En(),$n("small",a_,"Tag limit reached")):Gn("",!0)])])),e.name?(En(!0),$n(kn,{key:0},ds(g.value,((t,a)=>(En(),$n("input",{key:a,type:"hidden",name:e.name,value:t},null,8,s_)))),128)):Gn("",!0)],42,Uy))}}),i_=Ra({props:{...qg,noResize:{type:[Boolean,String],default:!1},rows:{type:[String,Number],required:!1,default:2},wrap:{type:String,default:"soft"}},emits:["update:modelValue","change","blur","input"],setup(e,{emit:t}){const{input:a,computedId:s,computedAriaInvalid:n,onInput:i,onChange:o,onBlur:l,focus:r,blur:c}=Kg(e,t),u=$g(Nt(e,"noResize"));return{input:a,computedId:s,computedAriaInvalid:n,onInput:i,onChange:o,onBlur:l,focus:r,blur:c,computedClasses:pi((()=>({"form-control":!e.plaintext,"form-control-plaintext":e.plaintext,[`form-control-${e.size}`]:!!e.size,"is-valid":!0===e.state,"is-invalid":!1===e.state}))),computedStyles:pi((()=>u.value?{resize:"none"}:void 0))}}}),o_=["id","name","form","disabled","placeholder","required","autocomplete","readonly","aria-required","aria-invalid","rows","wrap"],l_=Cv(i_,[["render",function(e,t,a,s,n,i){return En(),$n("textarea",Xn({id:e.computedId,ref:"input",class:e.computedClasses,name:e.name||void 0,form:e.form||void 0,disabled:e.disabled,placeholder:e.placeholder,required:e.required,autocomplete:e.autocomplete||void 0,readonly:e.readonly||e.plaintext,"aria-required":e.required?"true":void 0,"aria-invalid":e.computedAriaInvalid,rows:e.rows,style:e.computedStyles,wrap:e.wrap||void 0},e.$attrs,{onInput:t[0]||(t[0]=t=>e.onInput(t)),onChange:t[1]||(t[1]=t=>e.onChange(t)),onBlur:t[2]||(t[2]=t=>e.onBlur(t))}),null,16,o_)}]]),r_={key:0,class:"input-group-text"},c_=["innerHTML"],u_={key:1},d_={key:0,class:"input-group-text"},h_=["innerHTML"],p_={key:1},f_=Ra({__name:"BInputGroup",props:{append:null,appendHtml:null,id:null,prepend:null,prependHtml:null,size:null,tag:{default:"div"}},setup(e){const t=e,a=pi((()=>({"input-group-sm":"sm"===t.size,"input-group-lg":"lg"===t.size}))),s=pi((()=>!!t.append||!!t.appendHtml)),n=pi((()=>!!t.prepend||!!t.prependHtml));return(t,i)=>(En(),Mn(rs(e.tag),{id:e.id,class:Y(["input-group",Ot(a)]),role:"group"},{default:ua((()=>[ps(t.$slots,"prepend",{},(()=>[Ot(n)?(En(),$n("span",r_,[e.prependHtml?(En(),$n("span",{key:0,innerHTML:e.prependHtml},null,8,c_)):(En(),$n("span",u_,ae(e.prepend),1))])):Gn("",!0)])),ps(t.$slots,"default"),ps(t.$slots,"append",{},(()=>[Ot(s)?(En(),$n("span",d_,[e.appendHtml?(En(),$n("span",{key:0,innerHTML:e.appendHtml},null,8,h_)):(En(),$n("span",p_,ae(e.append),1))])):Gn("",!0)]))])),_:3},8,["id","class"]))}}),m_=Ra({__name:"BInputGroupText",props:{tag:{default:"div"},text:null},setup:e=>(t,a)=>(En(),Mn(rs(e.tag),{class:"input-group-text"},{default:ua((()=>[ps(t.$slots,"default",{},(()=>[Wn(ae(e.text),1)]))])),_:3}))}),g_=Ra({__name:"BInputGroupAddon",props:{isText:{default:!1}},setup(e){const t=$g(Nt(e,"isText"));return(e,a)=>Ot(t)?(En(),Mn(m_,{key:0},{default:ua((()=>[ps(e.$slots,"default")])),_:3})):ps(e.$slots,"default",{key:1})}}),v_=Ra({__name:"BInputGroupAppend",props:{isText:{default:!1}},setup:e=>(t,a)=>(En(),Mn(g_,{"is-text":e.isText},{default:ua((()=>[ps(t.$slots,"default")])),_:3},8,["is-text"]))}),b_=Ra({__name:"BInputGroupPrepend",props:{isText:{default:!1}},setup:e=>(t,a)=>(En(),Mn(g_,{"is-text":e.isText},{default:ua((()=>[ps(t.$slots,"default")])),_:3},8,["is-text"]))}),y_=Symbol(),__=Ra({__name:"BListGroup",props:{flush:{default:!1},horizontal:{type:[Boolean,String],default:!1},numbered:{default:!1},tag:{default:"div"}},setup(e){const t=e,a=$g(Nt(t,"flush")),s=$g(Nt(t,"numbered")),n=pi((()=>{const e=!a.value&&t.horizontal;return{"list-group-flush":a.value,"list-group-horizontal":!0===e,[`list-group-horizontal-${e}`]:"string"==typeof e,"list-group-numbered":s.value}})),i=pi((()=>!0===s.value?"ol":t.tag));return Rs(y_,{numbered:s.value}),(e,t)=>(En(),Mn(rs(Ot(i)),{class:Y(["list-group",Ot(n)])},{default:ua((()=>[ps(e.$slots,"default")])),_:3},8,["class"]))}}),w_=Ra({__name:"BListGroupItem",props:{action:{default:!1},active:{default:!1},button:{default:!1},disabled:{default:!1},href:null,tag:{default:"div"},target:{default:"_self"},to:null,variant:null},setup(e){const t=e,a=_s(),s=js(y_,null),n=$g(Nt(t,"action")),i=$g(Nt(t,"active")),o=$g(Nt(t,"button")),l=$g(Nt(t,"disabled")),r=pi((()=>!(o.value||!t.href&&!t.to))),c=pi((()=>null!=s&&s.numbered?"li":o.value?"button":r.value?Tv:t.tag)),u=pi((()=>n.value||r.value||o.value||["a","router-link","button","b-link"].includes(t.tag))),d=pi((()=>({[`list-group-item-${t.variant}`]:void 0!==t.variant,"list-group-item-action":u.value,active:i.value,disabled:l.value}))),h=pi((()=>{const e={};return o.value&&((!a||!a.type)&&(e.type="button"),l.value&&(e.disabled=!0)),e}));return(t,a)=>(En(),Mn(rs(Ot(c)),Xn({class:["list-group-item",Ot(d)],"aria-current":!!Ot(i)||void 0,"aria-disabled":!!Ot(l)||void 0,target:Ot(r)?e.target:void 0,href:Ot(o)?void 0:e.href,to:Ot(o)?void 0:e.to},Ot(h)),{default:ua((()=>[ps(t.$slots,"default")])),_:3},16,["class","aria-current","aria-disabled","target","href","to"]))}}),x_=["id","aria-labelledby","aria-describedby"],S_=["id"],k_=Ra({inheritAttrs:!1,__name:"BModal",props:{bodyBgVariant:null,bodyClass:null,bodyTextVariant:null,busy:{default:!1},lazy:{default:!1},buttonSize:{default:"md"},cancelDisabled:{default:!1},cancelTitle:{default:"Cancel"},cancelVariant:{default:"secondary"},centered:{default:!1},contentClass:null,dialogClass:null,footerBgVariant:null,footerBorderVariant:null,footerClass:null,footerTextVariant:null,fullscreen:{type:[Boolean,String],default:!1},headerBgVariant:null,headerBorderVariant:null,headerClass:null,headerCloseLabel:{default:"Close"},headerCloseWhite:{default:!1},headerTextVariant:null,hideBackdrop:{default:!1},hideFooter:{default:!1},hideHeader:{default:!1},hideHeaderClose:{default:!1},id:null,modalClass:null,modelValue:{default:!1},noCloseOnBackdrop:{default:!1},noCloseOnEsc:{default:!1},noFade:{default:!1},noFocus:{default:!1},okDisabled:{default:!1},okOnly:{default:!1},okTitle:{default:"Ok"},okVariant:{default:"primary"},scrollable:{default:!1},show:{default:!1},size:null,title:null,titleClass:null,titleSrOnly:{default:!1},titleTag:{default:"h5"},static:{default:!1}},emits:["update:modelValue","show","shown","hide","hidden","hide-prevented","show-prevented","ok","cancel","close"],setup(e,{emit:t}){const a=e,s=ys(),n=Gg(Nt(a,"id"),"modal"),i=$g(Nt(a,"busy")),o=$g(Nt(a,"lazy")),l=$g(Nt(a,"cancelDisabled")),r=$g(Nt(a,"centered")),c=$g(Nt(a,"hideBackdrop")),u=$g(Nt(a,"hideFooter")),d=$g(Nt(a,"hideHeader")),h=$g(Nt(a,"hideHeaderClose")),p=$g(Nt(a,"modelValue")),f=$g(Nt(a,"noCloseOnBackdrop")),m=$g(Nt(a,"noCloseOnEsc")),g=$g(Nt(a,"noFade")),v=$g(Nt(a,"noFocus")),b=$g(Nt(a,"okDisabled")),y=$g(Nt(a,"okOnly")),_=$g(Nt(a,"scrollable")),w=$g(Nt(a,"titleSrOnly")),x=$g(Nt(a,"static")),S=At(!1),k=At(null),C=At(!1),T=pi((()=>[a.modalClass,{fade:!g.value,show:S.value}])),B=pi((()=>!dg(s["header-close"]))),A=pi((()=>[a.dialogClass,{"modal-fullscreen":!0===a.fullscreen,[`modal-fullscreen-${a.fullscreen}-down`]:"string"==typeof a.fullscreen,[`modal-${a.size}`]:void 0!==a.size,"modal-dialog-centered":r.value,"modal-dialog-scrollable":_.value}])),I=pi((()=>[a.bodyClass,{[`bg-${a.bodyBgVariant}`]:void 0!==a.bodyBgVariant,[`text-${a.bodyTextVariant}`]:void 0!==a.bodyTextVariant}])),E=pi((()=>[a.headerClass,{[`bg-${a.headerBgVariant}`]:void 0!==a.headerBgVariant,[`border-${a.headerBorderVariant}`]:void 0!==a.headerBorderVariant,[`text-${a.headerTextVariant}`]:void 0!==a.headerTextVariant}])),P=pi((()=>[a.footerClass,{[`bg-${a.footerBgVariant}`]:void 0!==a.footerBgVariant,[`border-${a.footerBorderVariant}`]:void 0!==a.footerBorderVariant,[`text-${a.footerTextVariant}`]:void 0!==a.footerTextVariant}])),O=pi((()=>[a.titleClass,{"visually-hidden":w.value}])),D=pi((()=>l.value||i.value)),$=pi((()=>b.value||i.value)),M=(e,t={})=>new Pm(e,{cancelable:!1,target:k.value||null,relatedTarget:null,trigger:null,...t,componentId:n.value}),L=(e="")=>{const a=M("hide",{cancelable:""!==e,trigger:e});if("ok"===e&&t(e,a),"cancel"===e&&t(e,a),"close"===e&&t(e,a),t("hide",a),a.defaultPrevented||"backdrop"===e&&f.value||"esc"===e&&m.value)return t("update:modelValue",!0),void t("hide-prevented");t("update:modelValue",!1)},N=()=>(()=>{const e=M("show",{cancelable:!0});if(t("show",e),e.defaultPrevented)return t("update:modelValue",!1),void t("show-prevented");t("update:modelValue",!0)})(),R=()=>{S.value=!0,t("shown",M("shown")),!0===o.value&&(C.value=!0)},j=()=>{S.value=!1},z=()=>{t("hidden",M("hidden")),!0===o.value&&(C.value=!1)};return dn((()=>p.value),(e=>{!0===e&&!v.value&&ea((()=>{null!==k.value&&k.value.focus()}))})),(t,a)=>(En(),Mn(xa,{to:"body",disabled:Ot(x)},[Vn(bv,{"no-fade":!0,"trans-props":{enterToClass:"show"},onBeforeEnter:N,onAfterEnter:R,onLeave:j,onAfterLeave:z},{default:ua((()=>[da(zn("div",Xn({id:Ot(n),ref_key:"element",ref:k,class:["modal",Ot(T)],role:"dialog","aria-labelledby":`${Ot(n)}-label`,"aria-describedby":`${Ot(n)}-body`,tabindex:"-1"},t.$attrs,{onKeyup:a[5]||(a[5]=xo((e=>L("esc")),["esc"]))}),[zn("div",{class:Y(["modal-dialog",Ot(A)])},[!Ot(o)||Ot(o)&&C.value||Ot(o)&&!0===Ot(p)?(En(),$n("div",{key:0,class:Y(["modal-content",e.contentClass])},[Ot(d)?Gn("",!0):(En(),$n("div",{key:0,class:Y(["modal-header",Ot(E)])},[ps(t.$slots,"header",{},(()=>[(En(),Mn(rs(e.titleTag),{id:`${Ot(n)}-label`,class:Y(["modal-title",Ot(O)])},{default:ua((()=>[ps(t.$slots,"title",{},(()=>[Wn(ae(e.title),1)]),!0)])),_:3},8,["id","class"])),Ot(h)?Gn("",!0):(En(),$n(kn,{key:0},[Ot(B)?(En(),$n("button",{key:0,type:"button",onClick:a[0]||(a[0]=e=>L("close"))},[ps(t.$slots,"header-close",{},void 0,!0)])):(En(),Mn(_v,{key:1,"aria-label":e.headerCloseLabel,white:e.headerCloseWhite,onClick:a[1]||(a[1]=e=>L("close"))},null,8,["aria-label","white"]))],64))]),!0)],2)),zn("div",{id:`${Ot(n)}-body`,class:Y(["modal-body",Ot(I)])},[ps(t.$slots,"default",{},void 0,!0)],10,S_),Ot(u)?Gn("",!0):(En(),$n("div",{key:1,class:Y(["modal-footer",Ot(P)])},[ps(t.$slots,"footer",{},(()=>[ps(t.$slots,"cancel",{},(()=>[Ot(y)?Gn("",!0):(En(),Mn(Av,{key:0,type:"button",class:"btn",disabled:Ot(D),size:e.buttonSize,variant:e.cancelVariant,onClick:a[2]||(a[2]=e=>L("cancel"))},{default:ua((()=>[Wn(ae(e.cancelTitle),1)])),_:1},8,["disabled","size","variant"]))]),!0),ps(t.$slots,"ok",{},(()=>[Vn(Av,{type:"button",class:"btn",disabled:Ot($),size:e.buttonSize,variant:e.okVariant,onClick:a[3]||(a[3]=e=>L("ok"))},{default:ua((()=>[Wn(ae(e.okTitle),1)])),_:1},8,["disabled","size","variant"])]),!0)]),!0)],2))],2)):Gn("",!0)],2),Ot(c)?Gn("",!0):ps(t.$slots,"backdrop",{key:0},(()=>[zn("div",{class:"modal-backdrop fade show",onClick:a[4]||(a[4]=e=>L("backdrop"))})]),!0)],16,x_),[[Vi,Ot(p)]])])),_:3})],8,["disabled"]))}}),C_=Cv(k_,[["__scopeId","data-v-116ecd66"]]),T_=Ra({__name:"BNav",props:{align:null,cardHeader:{default:!1},fill:{default:!1},justified:{default:!1},pills:{default:!1},small:{default:!1},tabs:{default:!1},tag:{default:"ul"},vertical:{default:!1}},setup(e){const t=e,a=$g(Nt(t,"cardHeader")),s=$g(Nt(t,"fill")),n=$g(Nt(t,"justified")),i=$g(Nt(t,"pills")),o=$g(Nt(t,"small")),l=$g(Nt(t,"tabs")),r=$g(Nt(t,"vertical")),c=Im(Nt(t,"align")),u=pi((()=>({"nav-tabs":l.value,"nav-pills":i.value&&!l.value,"card-header-tabs":!r.value&&a.value&&l.value,"card-header-pills":!r.value&&a.value&&i.value&&!l.value,"flex-column":r.value,"nav-fill":!r.value&&s.value,"nav-justified":!r.value&&n.value,[c.value]:!r.value&&void 0!==t.align,small:o.value})));return(t,a)=>(En(),Mn(rs(e.tag),{class:Y(["nav",Ot(u)])},{default:ua((()=>[ps(t.$slots,"default")])),_:3},8,["class"]))}}),B_=Ra({__name:"BNavForm",props:{role:null,id:null,floating:{default:!1},novalidate:{default:!1},validated:{default:!1}},emits:["submit"],setup(e,{emit:t}){const a=e,s=pi((()=>({floating:a.floating,role:a.role,id:a.id,novalidate:a.novalidate,validated:a.validated}))),n=e=>t("submit",e);return(e,t)=>(En(),Mn(ly,Xn(Ot(s),{class:"d-flex",onSubmit:_o(n,["prevent"])}),{default:ua((()=>[ps(e.$slots,"default")])),_:3},16,["onSubmit"]))}}),A_=Ra({components:{BLink:Tv},props:{...Ag(Sv,["event","routerTag"])},setup:e=>({disabledBoolean:$g(Nt(e,"disabled"))})}),I_={class:"nav-item"},E_=Cv(A_,[["render",function(e,t,a,s,n,i){const o=os("b-link");return En(),$n("li",I_,[Vn(o,Xn({class:"nav-link"},e.$props,{"active-class":"active",tabindex:e.disabledBoolean?-1:void 0,"aria-disabled":!!e.disabledBoolean||void 0}),{default:ua((()=>[ps(e.$slots,"default")])),_:3},16,["tabindex","aria-disabled"])])}]]),P_={class:"nav-item dropdown"},O_=Ra({__name:"BNavItemDropdown",props:{id:null,text:null,toggleClass:null,size:null,offset:null,autoClose:{type:[Boolean,String],default:!0},dark:{type:Boolean,default:!1},dropleft:{type:Boolean,default:!1},dropright:{type:Boolean,default:!1},dropup:{type:Boolean,default:!1},right:{type:Boolean,default:!1},left:{type:[Boolean,String],default:!1},split:{type:Boolean,default:!1},splitVariant:null,noCaret:{type:Boolean,default:!1},variant:{default:"link"}},setup(e){const t=e;return(e,a)=>(En(),$n("li",P_,[Vn(Fb,Xn(t,{"is-nav":""}),hs({_:2},[ds(e.$slots,((t,a,s)=>({name:a,fn:ua((t=>[ps(e.$slots,a,X(Hn(t||{})))]))})))]),1040)]))}}),D_={class:"navbar-text"},$_=Ra({__name:"BNavText",props:{text:null},setup:e=>(t,a)=>(En(),$n("li",D_,[ps(t.$slots,"default",{},(()=>[Wn(ae(e.text),1)]))]))}),M_=Ra({__name:"BNavbar",props:{fixed:null,print:{default:!1},sticky:null,tag:{default:"nav"},toggleable:{type:[Boolean,String],default:!1},dark:{default:!1},variant:null,container:{type:[String,Boolean],default:"fluid"}},setup(e){const t=e,a=$g(Nt(t,"print")),s=$g(Nt(t,"dark")),n=pi((()=>"nav"===t.tag?void 0:"navigation")),i=pi((()=>"string"==typeof t.toggleable?`navbar-expand-${t.toggleable}`:!1===t.toggleable?"navbar-expand":void 0)),o=pi((()=>!0===t.container?"container":"container-fluid")),l=pi((()=>({"d-print":a.value,[`sticky-${t.sticky}`]:void 0!==t.sticky,"navbar-dark":s.value,[`bg-${t.variant}`]:void 0!==t.variant,[`fixed-${t.fixed}`]:void 0!==t.fixed,[`${i.value}`]:void 0!==i.value})));return(t,a)=>(En(),Mn(rs(e.tag),{class:Y(["navbar",Ot(l)]),role:Ot(n)},{default:ua((()=>[!1!==e.container?(En(),$n("div",{key:0,class:Y(Ot(o))},[ps(t.$slots,"default")],2)):ps(t.$slots,"default",{key:1})])),_:3},8,["class","role"]))}}),L_=Ag(Sv,["event","routerTag"]),N_=Ra({components:{BLink:Tv},props:{tag:{type:String,default:"div"},...L_},setup(e){const t=pi((()=>Dg(e))),a=pi((()=>t.value?Tv:e.tag));return{computedLinkProps:pi((()=>t.value?Og(e,L_):{})),computedTag:a}}}),R_=Cv(N_,[["render",function(e,t,a,s,n,i){return En(),Mn(rs(e.computedTag),Xn({class:"navbar-brand"},e.computedLinkProps),{default:ua((()=>[ps(e.$slots,"default")])),_:3},16)}]]),j_=Ra({__name:"BNavbarNav",props:{align:null,fill:{default:!1},justified:{default:!1},small:{default:!1},tag:{default:"ul"}},setup(e){const t=e,a=$g(Nt(t,"fill")),s=$g(Nt(t,"justified")),n=$g(Nt(t,"small")),i=Im(Nt(t,"align")),o=pi((()=>({"nav-fill":a.value,"nav-justified":s.value,[i.value]:void 0!==t.align,small:n.value})));return(e,t)=>(En(),$n("ul",{class:Y(["navbar-nav",Ot(o)])},[ps(e.$slots,"default")],2))}}),z_=zn("span",{class:"navbar-toggler-icon"},null,-1),V_=Ra({__name:"BNavbarToggle",props:{disabled:{default:!1},label:{default:"Toggle navigation"},target:null},emits:["click"],setup(e,{emit:t}){const a=e,s=$g(Nt(a,"disabled")),n=pi((()=>({disabled:s.value,"aria-label":a.label}))),i=pi((()=>({disabled:s.value}))),o=e=>{s.value||t("click",e)};return(t,a)=>da((En(),$n("button",Xn({class:["navbar-toggler",Ot(i)],type:"button"},Ot(n),{onClick:o}),[ps(t.$slots,"default",{},(()=>[z_]))],16)),[[Ot(iv),Ot(s)?void 0:e.target]])}}),H_=["data-bs-backdrop","data-bs-scroll"],F_={key:0,class:"offcanvas-header"},W_={id:"offcanvasLabel",class:"offcanvas-title"},U_={class:"offcanvas-body"},G_={key:1},q_=Ra({__name:"BOffcanvas",props:{dismissLabel:{default:"Close"},modelValue:{default:!1},bodyScrolling:{default:!1},backdrop:{default:!0},placement:{default:"start"},title:null,noHeaderClose:{default:!1},noHeader:{default:!1}},emits:["update:modelValue","show","shown","hide","hidden"],setup(e,{emit:t}){const a=e,s=$g(Nt(a,"modelValue")),n=$g(Nt(a,"bodyScrolling")),i=$g(Nt(a,"backdrop")),o=$g(Nt(a,"noHeaderClose")),l=$g(Nt(a,"noHeader")),r=ys(),c=At(),u=At(),d=pi((()=>!dg(r.footer))),h=pi((()=>[`offcanvas-${a.placement}`])),p=()=>{t("hide"),t("update:modelValue",!1)};return dn((()=>s.value),(e=>{var t,a;e?null==(t=u.value)||t.show(c.value):null==(a=u.value)||a.hide()})),Ng(c,"shown.bs.offcanvas",(()=>t("shown"))),Ng(c,"hidden.bs.offcanvas",(()=>t("hidden"))),Ng(c,"show.bs.offcanvas",(()=>{t("show"),t("update:modelValue",!0)})),Ng(c,"hide.bs.offcanvas",(()=>{p()})),Xa((()=>{var e;u.value=new Lp(c.value),s.value&&(null==(e=u.value)||e.show(c.value))})),(t,a)=>(En(),$n("div",{ref_key:"element",ref:c,class:Y(["offcanvas",Ot(h)]),tabindex:"-1","aria-labelledby":"offcanvasLabel","data-bs-backdrop":Ot(i),"data-bs-scroll":Ot(n)},[Ot(l)?Gn("",!0):(En(),$n("div",F_,[ps(t.$slots,"header",X(Hn({visible:Ot(s),placement:e.placement,hide:p})),(()=>[zn("h5",W_,[ps(t.$slots,"title",{},(()=>[Wn(ae(e.title),1)]))]),Ot(o)?Gn("",!0):(En(),Mn(_v,{key:0,class:"text-reset","data-bs-dismiss":"offcanvas","aria-label":e.dismissLabel},null,8,["aria-label"]))]))])),zn("div",U_,[ps(t.$slots,"default")]),Ot(d)?(En(),$n("div",G_,[ps(t.$slots,"footer",X(Hn({visible:Ot(s),placement:e.placement,hide:p})))])):Gn("",!0)],10,H_))}}),K_=Ra({__name:"BOverlay",props:{bgColor:null,blur:{default:"2px"},fixed:{default:!1},noCenter:{default:!1},noFade:{default:!1},noWrap:{default:!1},opacity:{default:.85},overlayTag:{default:"div"},rounded:{type:[Boolean,String],default:!1},show:{default:!1},spinnerSmall:{default:!1},spinnerType:{default:"border"},spinnerVariant:null,variant:{default:"light"},wrapTag:{default:"div"},zIndex:{default:10}},emits:["click","hidden","shown"],setup(e,{emit:t}){const a=e,s={top:0,left:0,bottom:0,right:0},n=$g(Nt(a,"fixed")),i=$g(Nt(a,"noCenter")),o=$g(Nt(a,"noWrap")),l=$g(Nt(a,"show")),r=$g(Nt(a,"spinnerSmall")),c=pi((()=>!0===a.rounded||""===a.rounded?"rounded":!1===a.rounded?"":`rounded-${a.rounded}`)),u=pi((()=>a.variant&&!a.bgColor?`bg-${a.variant}`:"")),d=pi((()=>l.value?"true":null)),h=pi((()=>({type:a.spinnerType||void 0,variant:a.spinnerVariant||void 0,small:r.value}))),p=pi((()=>({...s,zIndex:a.zIndex||10}))),f=pi((()=>["b-overlay",{"position-absolute":!o.value||!n.value,"position-fixed":o.value&&n.value}])),m=pi((()=>[u.value,c.value])),g=pi((()=>({...s,opacity:a.opacity,backgroundColor:a.bgColor||void 0,backdropFilter:blur?`blur(${blur})`:void 0}))),v=pi((()=>i.value?s:{top:"50%",left:"50%",transform:"translateX(-50%) translateY(-50%)"}));return(a,s)=>(En(),Mn(rs(e.wrapTag),{class:"b-overlay-wrap position-relative","aria-busy":Ot(d)},{default:ua((()=>[ps(a.$slots,"default"),Vn(bv,{"no-fade":e.noFade,"trans-props":{enterToClass:"show"},name:"fade",onOnAfterEnter:s[1]||(s[1]=e=>t("shown")),onOnAfterLeave:s[2]||(s[2]=e=>t("hidden"))},{default:ua((()=>[Ot(l)?(En(),Mn(rs(e.overlayTag),{key:0,class:Y(Ot(f)),style:W(Ot(p)),onClick:s[0]||(s[0]=e=>t("click",e))},{default:ua((()=>[zn("div",{class:Y(["position-absolute",Ot(m)]),style:W(Ot(g))},null,6),zn("div",{class:"position-absolute",style:W(Ot(v))},[ps(a.$slots,"overlay",X(Hn(Ot(h))),(()=>[Vn(xv,X(Hn(Ot(h))),null,16)]))],4)])),_:3},8,["class","style"])):Gn("",!0)])),_:3},8,["no-fade"])])),_:3},8,["aria-busy"]))}}),Y_=e=>Math.max(Cg(e)||20,1),X_=e=>Math.max(Cg(e)||0,0),Q_=Ra({name:"BPagination",props:{align:{type:String,default:"start"},ariaControls:{type:String,required:!1},ariaLabel:{type:String,default:"Pagination"},disabled:{type:[Boolean,String],default:!1},ellipsisClass:{type:[Array,String],default:()=>[]},ellipsisText:{type:String,default:"…"},firstClass:{type:[Array,String],default:()=>[]},firstNumber:{type:[Boolean,String],default:!1},firstText:{type:String,default:"«"},hideEllipsis:{type:[Boolean,String],default:!1},hideGotoEndButtons:{type:[Boolean,String],default:!1},labelFirstPage:{type:String,default:"Go to first page"},labelLastPage:{type:String,default:"Go to last page"},labelNextPage:{type:String,default:"Go to next page"},labelPage:{type:String,default:"Go to page"},labelPrevPage:{type:String,default:"Go to previous page"},lastClass:{type:[Array,String],default:()=>[]},lastNumber:{type:[Boolean,String],default:!1},lastText:{type:String,default:"»"},limit:{type:Number,default:5},modelValue:{type:Number,default:1},nextClass:{type:[Array,String],default:()=>[]},nextText:{type:String,default:"›"},pageClass:{type:[Array,String],default:()=>[]},perPage:{type:Number,default:20},pills:{type:[Boolean,String],default:!1},prevClass:{type:[Array,String],default:()=>[]},prevText:{type:String,default:"‹"},size:{type:String,required:!1},totalRows:{type:Number,default:0}},emits:["update:modelValue","page-click"],setup(e,{emit:t,slots:a}){const s=$g(Nt(e,"disabled")),n=$g(Nt(e,"firstNumber")),i=$g(Nt(e,"hideEllipsis")),o=$g(Nt(e,"hideGotoEndButtons")),l=$g(Nt(e,"lastNumber")),r=$g(Nt(e,"pills")),c=pi((()=>"fill"===e.align?"start":e.align)),u=Im(Nt(c,"value")),d=pi((()=>Math.ceil(X_(e.totalRows)/Y_(e.perPage)))),h=pi((()=>{let t;return t=d.value-e.modelValue+2<e.limit&&e.limit>3?d.value-f.value+1:e.modelValue-Math.floor(f.value/2),t<1?t=1:t>d.value-f.value&&(t=d.value-f.value+1),e.limit<=3&&l.value&&d.value===t+f.value-1&&(t=Math.max(t-1,1)),t})),p=pi((()=>{let t=!1;return d.value-e.modelValue+2<e.limit&&e.limit>3?e.limit>3&&(t=!0):e.limit>3&&(t=!(i.value&&!n.value)),h.value<=1&&(t=!1),t&&n.value&&h.value<4&&(t=!1),t})),f=pi((()=>{let t=e.limit;return d.value<=e.limit?t=d.value:e.modelValue<e.limit-1&&e.limit>3?((!i.value||l.value)&&(t=e.limit-(n.value?0:1)),t=Math.min(t,e.limit)):d.value-e.modelValue+2<e.limit&&e.limit>3?(!i.value||n.value)&&(t=e.limit-(l.value?0:1)):e.limit>3&&(t=e.limit-(i.value?0:2)),t})),m=pi((()=>{const t=d.value-f.value;let a=!1;e.modelValue<e.limit-1&&e.limit>3?(!i.value||l.value)&&(a=!0):e.limit>3&&(a=!(i.value&&!l.value)),h.value>t&&(a=!1);const s=h.value+f.value-1;return a&&l.value&&s>d.value-3&&(a=!1),a})),g=mt({pageSize:Y_(e.perPage),totalRows:X_(e.totalRows),numberOfPages:d.value}),v=(a,s)=>{if(s===e.modelValue)return;const{target:n}=a,i=new Em("page-click",{cancelable:!0,target:n});t("page-click",i,s),!i.defaultPrevented&&t("update:modelValue",s)},b=pi((()=>e.size?`pagination-${e.size}`:"")),y=pi((()=>r.value?"b-pagination-pills":""));dn((()=>e.modelValue),(a=>{const s=((e,t)=>{const a=Cg(e)||1;return a>t?t:a<1?1:a})(a,d.value);s!==e.modelValue&&t("update:modelValue",s)})),dn(g,((a,s)=>{null!=a&&(s.pageSize!==a.pageSize&&s.totalRows===a.totalRows||s.numberOfPages!==a.numberOfPages&&e.modelValue>s.numberOfPages)&&t("update:modelValue",1)}));const _=pi((()=>{const e=[];for(let t=0;t<f.value;t++)e.push({number:h.value+t,classes:null});return e}));return()=>{const t=[],i=_.value.map((e=>e.number)),r=t=>t===e.modelValue,c=e.modelValue<1,h="fill"===e.align,f=(t,n,i,o,l,u)=>{const p=s.value||r(u)||c||t<1||t>d.value,f=t<1?1:t>d.value?d.value:t,m=kg(i,{disabled:p,page:f,index:f-1},a)||o||"";return fi("li",{class:["page-item",{disabled:p,"flex-fill":h,"d-flex":h&&!p},l]},fi(p?"span":"button",{class:["page-link",{"flex-grow-1":!p&&h}],"aria-label":n,"aria-controls":e.ariaControls||null,"aria-disabled":p?"true":null,role:"menuitem",type:p?null:"button",tabindex:p?null:"-1",onClick:e=>{p||v(e,f)}},m))},g=t=>fi("li",{class:["page-item","disabled","bv-d-xs-down-none",h?"flex-fill":"",e.ellipsisClass],role:"separator",key:"ellipsis-"+(t?"last":"first")},[fi("span",{class:["page-link"]},kg("ellipsis-text",{},a)||e.ellipsisText||"...")]),w=(t,n)=>{const i=r(t.number)&&!c,o=s.value?null:i||c&&0===n?"0":"-1",l={active:i,disabled:s.value,page:t.number,index:t.number-1,content:t.number},u=kg("page",l,a)||t.number,d=fi(s.value?"span":"button",{class:["page-link",{"flex-grow-1":!s.value&&h}],"aria-controls":e.ariaControls||null,"aria-disabled":s.value?"true":null,"aria-label":e.labelPage?`${e.labelPage} ${t.number}`:null,role:"menuitemradio",type:s.value?null:"button",tabindex:o,onClick:e=>{s.value||v(e,t.number)}},u);return fi("li",{class:["page-item",{disabled:s.value,active:i,"flex-fill":h,"d-flex":h&&!s.value},e.pageClass],role:"presentation",key:`page-${t.number}`},d)};if(!o.value&&!n.value){const a=f(1,e.labelFirstPage,"first-text",e.firstText,e.firstClass,1);t.push(a)}const x=f(e.modelValue-1,e.labelFirstPage,"prev-text",e.prevText,e.prevClass,1);t.push(x),n.value&&1!==i[0]&&t.push(w({number:1},0)),p.value&&t.push(g(!1)),_.value.forEach(((e,a)=>{const s=p.value&&n.value&&1!==i[0]?1:0;t.push(w(e,a+s))})),m.value&&t.push(g(!0)),l.value&&i[i.length-1]!==d.value&&t.push(w({number:d.value},-1));const S=f(e.modelValue+1,e.labelNextPage,"next-text",e.nextText,e.nextClass,d.value);if(t.push(S),!l.value&&!o.value){const a=f(d.value,e.labelLastPage,"last-text",e.lastText,e.lastClass,d.value);t.push(a)}return fi("ul",{class:["pagination",b.value,u.value,y.value],role:"menubar","aria-disabled":s.value,"aria-label":e.ariaLabel||null},t)}}}),J_=Ra({__name:"BPlaceholder",props:{tag:{default:"span"},width:null,cols:null,variant:null,size:null,animation:null},setup(e){const t=e,a=pi((()=>void 0===t.width?void 0:"number"==typeof t.width?t.width.toString():t.width.includes("%")?t.width.replaceAll("%",""):t.width)),s=pi((()=>void 0===t.cols?void 0:"number"==typeof t.cols?t.cols.toString():t.cols)),n=pi((()=>({[`col-${s.value}`]:void 0!==s.value&&void 0===a.value,[`bg-${t.variant}`]:void 0!==t.variant,[`placeholder-${t.size}`]:void 0!==t.size,[`placeholder-${t.animation}`]:void 0!==t.animation}))),i=pi((()=>void 0===a.value?void 0:`width: ${a.value}%;`));return(t,a)=>(En(),Mn(rs(e.tag),{class:Y(["placeholder",Ot(n)]),style:W(Ot(i))},null,8,["class","style"]))}}),Z_=Ra({__name:"BPlaceholderButton",props:{tag:{default:"div"},width:null,cols:null,variant:{default:"primary"},animation:null},setup(e){const t=e,a=pi((()=>["btn",`btn-${t.variant}`,"disabled"])),s=pi((()=>({animation:t.animation,width:t.width,cols:t.cols,tag:t.tag})));return(e,t)=>(En(),Mn(J_,Xn({class:Ot(a)},Ot(s)),null,16,["class"]))}}),ew=Ra({__name:"BPlaceholderCard",props:{noHeader:{default:!1},headerWidth:{default:100},headerVariant:null,headerAnimation:null,headerSize:null,noFooter:{default:!1},footerWidth:{default:100},footerVariant:null,footerAnimation:null,footerSize:null,animation:null,size:null,variant:null,noButton:{default:!1},imgBottom:{default:!1},imgSrc:null,imgBlankColor:{default:"#868e96"},imgHeight:{default:100},noImg:{default:!1}},setup(e){const t=e,a=$g(Nt(t,"noButton")),s=$g(Nt(t,"noHeader")),n=$g(Nt(t,"noFooter")),i=$g(Nt(t,"noImg")),o=pi((()=>({width:t.headerWidth,variant:t.headerVariant,animation:t.headerAnimation,size:t.headerSize}))),l=pi((()=>({width:t.footerWidth,animation:t.footerAnimation,size:a.value?t.footerSize:void 0,variant:t.footerVariant}))),r=pi((()=>({blank:!t.imgSrc,blankColor:t.imgBlankColor,height:t.imgSrc?void 0:t.imgHeight,src:t.imgSrc,top:!t.imgBottom,bottom:t.imgBottom})));return(t,c)=>(En(),Mn(nb,{"img-bottom":e.imgBottom},hs({default:ua((()=>[ps(t.$slots,"default",{},(()=>[Vn(J_,{cols:"7"}),Vn(J_,{cols:"4"}),Vn(J_,{cols:"4"}),Vn(J_,{cols:"6"}),Vn(J_,{cols:"8"})]))])),_:2},[Ot(i)?void 0:{name:"img",fn:ua((()=>[ps(t.$slots,"img",{},(()=>[Vn(Xv,X(Hn(Ot(r))),null,16)]))])),key:"0"},Ot(s)?void 0:{name:"header",fn:ua((()=>[ps(t.$slots,"header",{},(()=>[Vn(J_,X(Hn(Ot(o))),null,16)]))])),key:"1"},Ot(n)?void 0:{name:"footer",fn:ua((()=>[ps(t.$slots,"footer",{},(()=>[Ot(a)?(En(),Mn(J_,X(Xn({key:1},Ot(l))),null,16)):(En(),Mn(Z_,X(Xn({key:0},Ot(l))),null,16))]))])),key:"2"}]),1032,["img-bottom"]))}}),tw=Ra({__name:"BTableSimple",props:{bordered:{default:!1},borderless:{default:!1},borderVariant:null,captionTop:{default:!1},dark:{default:!1},hover:{default:!1},responsive:{type:[Boolean,String],default:!1},stacked:{type:[Boolean,String],default:!1},striped:{default:!1},small:{default:!1},tableClass:null,tableVariant:null,stickyHeader:{default:!1}},setup(e){const t=e,a=$g(Nt(t,"captionTop")),s=$g(Nt(t,"borderless")),n=$g(Nt(t,"bordered")),i=$g(Nt(t,"dark")),o=$g(Nt(t,"hover")),l=$g(Nt(t,"small")),r=$g(Nt(t,"striped")),c=$g(Nt(t,"stickyHeader")),u=pi((()=>["table","b-table",{"table-bordered":n.value,"table-borderless":s.value,[`border-${t.borderVariant}`]:void 0!==t.borderVariant,"caption-top":a.value,"table-dark":i.value,"table-hover":o.value,"b-table-stacked":"boolean"==typeof t.stacked&&t.stacked,[`b-table-stacked-${t.stacked}`]:"string"==typeof t.stacked,"table-striped":r.value,"table-sm":l.value,[`table-${t.tableVariant}`]:void 0!==t.tableVariant},t.tableClass])),d=pi((()=>[{"table-responsive":!0===t.responsive,[`table-responsive-${t.responsive}`]:"string"==typeof t.responsive,"b-table-sticky-header":c.value}]));return(t,a)=>e.responsive?(En(),$n("div",{key:1,class:Y(Ot(d))},[zn("table",{role:"table",class:Y(Ot(u))},[ps(t.$slots,"default")],2)],2)):(En(),$n("table",{key:0,role:"table",class:Y(Ot(u))},[ps(t.$slots,"default")],2))}}),aw=Ra({__name:"BPlaceholderTable",props:{rows:{default:3},columns:{default:5},cellWidth:{default:100},size:null,animation:null,variant:null,headerColumns:null,hideHeader:{default:!1},headerCellWidth:{default:100},headerSize:null,headerAnimation:null,headerVariant:null,footerColumns:null,showFooter:{default:!1},footerCellWidth:{default:100},footerSize:null,footerAnimation:null,footerVariant:null},setup(e){const t=e,a=pi((()=>"string"==typeof t.columns?Tg(t.columns,5):t.columns)),s=pi((()=>"string"==typeof t.rows?Tg(t.rows,3):t.rows)),n=pi((()=>void 0===t.headerColumns?a.value:"string"==typeof t.headerColumns?Tg(t.headerColumns,a.value):t.headerColumns)),i=pi((()=>void 0===t.footerColumns?a.value:"string"==typeof t.footerColumns?Tg(t.footerColumns,a.value):t.footerColumns)),o=pi((()=>({size:t.size,variant:t.variant,animation:t.animation,width:t.cellWidth}))),l=pi((()=>({size:t.headerSize,variant:t.headerVariant,animation:t.headerAnimation,width:t.headerCellWidth}))),r=pi((()=>({size:t.footerSize,variant:t.footerVariant,animation:t.footerAnimation,width:t.footerCellWidth}))),c=$g(Nt(t,"hideHeader")),u=$g(Nt(t,"showFooter"));return(e,t)=>(En(),Mn(tw,null,{default:ua((()=>[Ot(c)?Gn("",!0):ps(e.$slots,"thead",{key:0},(()=>[zn("thead",null,[zn("tr",null,[(En(!0),$n(kn,null,ds(Ot(n),((e,t)=>(En(),$n("th",{key:t},[Vn(J_,X(Hn(Ot(l))),null,16)])))),128))])])])),ps(e.$slots,"default",{},(()=>[zn("tbody",null,[(En(!0),$n(kn,null,ds(Ot(s),((e,t)=>(En(),$n("tr",{key:t},[(En(!0),$n(kn,null,ds(Ot(a),((e,t)=>(En(),$n("td",{key:t},[Vn(J_,X(Hn(Ot(o))),null,16)])))),128))])))),128))])])),Ot(u)?ps(e.$slots,"tfoot",{key:1},(()=>[zn("tfoot",null,[zn("tr",null,[(En(!0),$n(kn,null,ds(Ot(i),((e,t)=>(En(),$n("th",{key:t},[Vn(J_,X(Hn(Ot(r))),null,16)])))),128))])])])):Gn("",!0)])),_:3}))}}),sw=Ra({__name:"BPlaceholderWrapper",props:{loading:{default:!1}},setup(e){const t=$g(Nt(e,"loading"));return(e,a)=>Ot(t)?ps(e.$slots,"loading",{key:0}):ps(e.$slots,"default",{key:1})}}),nw=Ra({props:{container:{type:[String,Object],default:"body"},content:{type:String},id:{type:String},customClass:{type:String,default:""},noninteractive:{type:[Boolean,String],default:!1},placement:{type:String,default:"right"},target:{type:[String,Object],default:void 0},title:{type:String},delay:{type:[Number,Object],default:0},triggers:{type:String,default:"click"},show:{type:[Boolean,String],default:!1},variant:{type:String,default:void 0},html:{type:[Boolean,String],default:!0},sanitize:{type:[Boolean,String],default:!1},offset:{type:String,default:"0"}},emits:["show","shown","hide","hidden","inserted"],setup(e,{emit:t,slots:a}){$g(Nt(e,"noninteractive"));const s=$g(Nt(e,"show")),n=$g(Nt(e,"html")),i=$g(Nt(e,"sanitize")),o=At(),l=At(),r=At(),c=At(),u=At(),d=pi((()=>({[`b-popover-${e.variant}`]:void 0!==e.variant}))),h=e=>"string"==typeof e||e instanceof HTMLElement?e:typeof e<"u"?e.$el:void 0,p=[{event:"show.bs.popover",handler:()=>t("show")},{event:"shown.bs.popover",handler:()=>t("shown")},{event:"hide.bs.popover",handler:()=>t("hide")},{event:"hidden.bs.popover",handler:()=>t("hidden")},{event:"inserted.bs.popover",handler:()=>t("inserted")}],f=e=>{for(const t of p)e.removeEventListener(t.event,t.handler)},m=t=>{l.value=(e=>{if(e)return"string"==typeof e?document.getElementById(e)||void 0:e})(h(t)),l.value&&((e=>{for(const t of p)e.addEventListener(t.event,t.handler)})(l.value),r.value=new rf(l.value,{customClass:e.customClass,container:h(e.container),trigger:e.triggers,placement:e.placement,title:e.title||a.title?c.value:"",content:u.value,html:n.value,delay:e.delay,sanitize:i.value,offset:e.offset}))};return dn((()=>e.target),(e=>{var t;null==(t=r.value)||t.dispose(),l.value instanceof HTMLElement&&f(l.value),m(e)})),dn((()=>s.value),((e,t)=>{var a,s;e!==t&&(e?null==(a=r.value)||a.show():null==(s=r.value)||s.hide())})),Xa((()=>{var t,a,n;ea((()=>{m(e.target)})),null==(a=null==(t=o.value)?void 0:t.parentNode)||a.removeChild(o.value),s.value&&(null==(n=r.value)||n.show())})),Za((()=>{var e;null==(e=r.value)||e.dispose(),l.value instanceof HTMLElement&&f(l.value)})),{element:o,titleRef:c,contentRef:u,computedClasses:d}}}),iw=["id"],ow={ref:"titleRef"},lw={ref:"contentRef"},rw=Cv(nw,[["render",function(e,t,a,s,n,i){return En(),$n("div",{id:e.id,ref:"element",class:Y(["popover b-popover",e.computedClasses]),role:"tooltip",tabindex:"-1"},[zn("div",ow,[ps(e.$slots,"title",{},(()=>[Wn(ae(e.title),1)]))],512),zn("div",lw,[ps(e.$slots,"default",{},(()=>[Wn(ae(e.content),1)]))],512)],10,iw)}]]),cw=["aria-valuenow","aria-valuemax"],uw=Ra({__name:"BProgressBar",props:{animated:{default:!1},label:null,labelHtml:null,max:null,precision:{default:0},showProgress:{default:!1},showValue:{default:!1},striped:{default:!1},value:{default:0},variant:null},setup(e){const t=e,a=js(dw),s=$g(Nt(t,"animated")),n=$g(Nt(t,"showProgress")),i=$g(Nt(t,"showValue")),o=$g(Nt(t,"striped")),l=pi((()=>({"progress-bar-animated":s.value||(null==a?void 0:a.animated),"progress-bar-striped":o.value||(null==a?void 0:a.striped)||s.value||(null==a?void 0:a.animated),[`bg-${t.variant}`]:void 0!==t.variant}))),r=pi((()=>"number"==typeof t.precision?t.precision:Number.parseFloat(t.precision))),c=pi((()=>"number"==typeof t.value?t.value:Number.parseFloat(t.value))),u=pi((()=>"number"==typeof t.max?t.max:void 0===t.max?void 0:Number.parseFloat(t.max))),d=pi((()=>void 0!==t.labelHtml?t.labelHtml:i.value||(null==a?void 0:a.showValue)?c.value.toFixed(r.value):n.value||(null==a?void 0:a.showProgress)?(100*c.value/(u.value||100)).toFixed(r.value):void 0!==t.label?t.label:"")),h=pi((()=>null!=a&&a.max?100*c.value/("number"==typeof a.max?a.max:Number.parseInt(a.max))+"%":t.max?100*c.value/("number"==typeof t.max?t.max:Number.parseInt(t.max))+"%":"string"==typeof t.value?t.value:`${t.value}%`));return(t,a)=>(En(),$n("div",{class:Y(["progress-bar",Ot(l)]),role:"progressbar","aria-valuenow":e.value,"aria-valuemin":"0","aria-valuemax":e.max,style:W({width:Ot(h)})},[ps(t.$slots,"default",{},(()=>[Wn(ae(Ot(d)),1)]))],14,cw))}}),dw=Symbol(),hw=Ra({__name:"BProgress",props:{variant:null,max:null,height:null,animated:{default:!1},precision:{default:0},showProgress:{default:!1},showValue:{default:!1},striped:{default:!1},value:{default:0}},setup(e){const t=e,a=$g(Nt(t,"animated")),s=$g(Nt(t,"showProgress")),n=$g(Nt(t,"showValue")),i=$g(Nt(t,"striped")),o=pi((()=>({animated:t.animated,max:t.max,precision:t.precision,showProgress:t.showProgress,showValue:t.showValue,striped:t.striped,value:t.value,variant:t.variant})));return Rs(dw,{animated:a.value,max:t.max,showProgress:s.value,showValue:n.value,striped:i.value}),(t,a)=>(En(),$n("div",{class:"progress",style:W({height:e.height})},[ps(t.$slots,"default",{},(()=>[Vn(uw,X(Hn(Ot(o))),null,16)]))],4))}}),pw=bg("cols",[""],{type:[String,Number],default:null}),fw=Ra({name:"BRow",props:{tag:{type:String,default:"div"},gutterX:{type:String,default:null},gutterY:{type:String,default:null},noGutters:{type:[Boolean,String],default:!1},alignV:{type:String,default:null},alignH:{type:String,default:null},alignContent:{type:String,default:null},...pw},setup(e){const t=$g(Nt(e,"noGutters")),a=Im(Nt(e,"alignH")),s=pi((()=>yg(e,pw,"cols","row-cols")));return{computedClasses:pi((()=>[s.value,{[`gx-${e.gutterX}`]:null!==e.gutterX,[`gy-${e.gutterY}`]:null!==e.gutterY,"g-0":t.value,[`align-items-${e.alignV}`]:null!==e.alignV,[a.value]:null!==e.alignH,[`align-content-${e.alignContent}`]:null!==e.alignContent}]))}}}),mw=Cv(fw,[["render",function(e,t,a,s,n,i){return En(),Mn(rs(e.tag),{class:Y(["row",e.computedClasses])},{default:ua((()=>[ps(e.$slots,"default")])),_:3},8,["class"])}]]),gw=Ra({__name:"BSkeleton",props:{height:null,width:null,size:null,animation:{default:"wave"},type:{default:"text"},variant:null},setup(e){const t=e,a=pi((()=>[`b-skeleton-${t.type}`,{[`b-skeleton-animate-${t.animation}`]:"boolean"!=typeof t.animation&&t.animation,[`bg-${t.variant}`]:void 0!==t.variant}])),s=pi((()=>({width:t.size||t.width,height:t.size||t.height})));return(e,t)=>(En(),$n("div",{class:Y(["b-skeleton",Ot(a)]),style:W(Ot(s))},null,6))}}),vw=Ra({__name:"BSkeletonIcon",props:{animation:{default:"wave"}},setup(e){const t=e,a=pi((()=>[`b-skeleton-animate-${t.animation}`]));return(e,t)=>(En(),$n("div",{class:Y(["b-skeleton-icon-wrapper position-relative d-inline-block overflow-hidden",Ot(a)])},[ps(e.$slots,"default")],2))}}),bw={key:0},yw={key:1},_w=Ra({__name:"BSkeletonTable",props:{animation:{default:"wave"},columns:{default:5},hideHeader:{default:!1},rows:{default:3},showFooter:{default:!1},tableProps:null},setup(e){const t=e,a=$g(Nt(t,"hideHeader")),s=$g(Nt(t,"showFooter"));return(t,n)=>(En(),Mn(tw,X(Hn(e.tableProps)),{default:ua((()=>[Ot(a)?Gn("",!0):(En(),$n("thead",bw,[zn("tr",null,[(En(!0),$n(kn,null,ds(e.columns,((e,t)=>(En(),$n("th",{key:t},[Vn(gw)])))),128))])])),zn("tbody",null,[(En(!0),$n(kn,null,ds(e.rows,((t,a)=>(En(),$n("tr",{key:a},[(En(!0),$n(kn,null,ds(e.columns,((e,t)=>(En(),$n("td",{key:t},[Vn(gw,{width:"75%"})])))),128))])))),128))]),Ot(s)?(En(),$n("tfoot",yw,[zn("tr",null,[(En(!0),$n(kn,null,ds(e.columns,((e,t)=>(En(),$n("th",{key:t},[Vn(gw)])))),128))])])):Gn("",!0)])),_:1},16))}}),ww=Ra({__name:"BSkeletonWrapper",props:{loading:{default:!1}},setup(e){const t=$g(Nt(e,"loading"));return(e,a)=>Ot(t)?ps(e.$slots,"loading",{key:0}):ps(e.$slots,"default",{key:1})}}),xw=["ar","az","ckb","fa","he","ks","lrc","mzn","ps","sd","te","ug","ur","yi"].map((e=>e.toLowerCase())),Sw=(e,t,a,s)=>{e&&e.addEventListener&&e.addEventListener(t,a,(e=>Jm?Om(e)?e:{capture:!!e||!1}:!!(Om(e)?e.capture:e))(s))},kw=(e,t,a,s)=>{e&&e.removeEventListener&&e.removeEventListener(t,a,s)},Cw=(e,t)=>{(e?Sw:kw)(...t)},Tw=(e,{preventDefault:t=!0,propagation:a=!0,immediatePropagation:s=!1}={})=>{t&&e.preventDefault(),a&&e.stopPropagation(),s&&e.stopImmediatePropagation()},Bw="ArrowDown",Aw="Home",Iw="PageDown",Ew="PageUp",Pw="ArrowUp",Ow=[Pw,Bw,Aw,"End",Ew,Iw],Dw=Ra({props:{ariaControls:{type:String,required:!1},ariaLabel:{type:String,required:!1},labelIncrement:{type:String,default:"Increment"},labelDecrement:{type:String,default:"Decrement"},modelValue:{type:Number,default:null},name:{type:String,default:"BFormSpinbutton"},disabled:{type:[Boolean,String],default:!1},placeholder:{type:String,required:!1},locale:{type:String,default:"locale"},form:{type:String,required:!1},inline:{type:Boolean,default:!1},size:{type:String,required:!1},formatterFn:{type:Function},readonly:{type:Boolean,default:!1},vertical:{type:Boolean,default:!1},repeatDelay:{type:[String,Number],default:500},repeatInterval:{type:[String,Number],default:100},repeatStepMultiplier:{type:[String,Number],default:4},repeatThreshold:{type:[String,Number],default:10},required:{type:[Boolean,String],default:!1},step:{type:[String,Number],default:1},min:{type:[String,Number],default:1},max:{type:[String,Number],default:100},wrap:{type:Boolean,default:!1},state:{type:[Boolean,String],default:null}},emits:["update:modelValue","change"],setup(e,{emit:t}){const a=At(!1),s=pi((()=>1)),n=()=>{t("change",o.value)},i=At(null),o=pi({get:()=>$m(e.modelValue)?i.value:e.modelValue,set(a){$m(e.modelValue)?i.value=a:t("update:modelValue",a)}});let l,r,c=!1;const u=pi((()=>Bg(e.step,1))),d=pi((()=>Bg(e.min,1))),h=pi((()=>{const t=Bg(e.max,100),a=u.value,s=d.value;return Math.floor((t-s)/a)*a+s})),p=pi((()=>{const t=Cg(e.repeatDelay,0);return t>0?t:500})),f=pi((()=>{const t=Cg(e.repeatInterval,0);return t>0?t:100})),m=pi((()=>Math.max(Cg(e.repeatThreshold,10),1))),g=pi((()=>Math.max(Cg(e.repeatStepMultiplier,4),1))),v=pi((()=>{const e=u.value;return Math.floor(e)===e?0:(e.toString().split(".")[1]||"").length})),b=pi((()=>Math.pow(10,v.value||0))),y=pi((()=>{const{value:e}=o;return null===e?"":e.toFixed(v.value)})),_=pi((()=>{const t=[e.locale];return new Intl.NumberFormat(t).resolvedOptions().locale})),w=pi((()=>(e=>{const t=Fm(e).toLowerCase().replace(Hm,"").split("-"),a=t.slice(0,2).join("-"),s=t[0];return xw.includes(a)||xw.includes(s)})(_.value))),x=pi((()=>e.formatterFn?e.formatterFn:(()=>{const e=v.value;return new Intl.NumberFormat(_.value,{style:"decimal",useGrouping:!1,minimumIntegerDigits:1,minimumFractionDigits:e,maximumFractionDigits:e,notation:"standard"}).format})())),S=pi((()=>({role:"group",lang:_.value,tabindex:e.disabled?null:"-1",title:e.ariaLabel}))),k=pi((()=>!$m(e.modelValue)||!$m(i.value))),C=pi((()=>({dir:w.value,spinId:s.value,tabindex:e.disabled?null:"0",role:"spinbutton","aria-live":"off","aria-label":e.ariaLabel||null,"aria-controls":e.ariaControls||null,"aria-invalid":!1===e.state||!k.value&&e.required?"true":null,"aria-required":e.required?"true":null,"aria-valuemin":d.value,"aria-valuemax":h.value,"aria-valuenow":$m(o.value)?null:o.value,"aria-valuetext":$m(o.value)?null:x.value(o.value)}))),T=t=>{let{value:a}=o;if(!e.disabled&&!$m(a)){const s=u.value*t,n=d.value,i=h.value,l=b.value,{wrap:r}=e;a=Math.round((a-n)/s)*s+n+s,a=Math.round(a*l)/l,o.value=a>i?r?n:i:a<n?r?i:n:a}},B=(e=1)=>{$m(o.value)?o.value=d.value:T(1*e)},A=(t=1)=>{$m(o.value)?o.value=e.wrap?h.value:d.value:T(-1*t)},I=t=>{const{code:a,altKey:s,ctrlKey:n,metaKey:i}=t;if(!(e.disabled||e.readonly||s||n||i)&&Ow.includes(a)){if(Tw(t,{propagation:!1}),c)return;M(),[Pw,Bw].includes(a)?(c=!0,a===Pw?P(t,B):a===Bw&&P(t,A)):a===Ew?B(g.value):a===Iw?A(g.value):a===Aw?o.value=d.value:"End"===a&&(o.value=h.value)}},E=t=>{const{code:a,altKey:s,ctrlKey:i,metaKey:o}=t;e.disabled||e.readonly||s||i||o||Ow.includes(a)&&(Tw(t,{propagation:!1}),M(),c=!1,n())},P=(t,a)=>{const{type:s}=t||{};if(!e.disabled&&!e.readonly){if(O(t)&&"mousedown"===s&&t.button)return;M(),a(1);const e=m.value,n=g.value,i=p.value,o=f.value;l=setTimeout((()=>{let t=0;r=setInterval((()=>{a(t<e?1:n),t++}),o)}),i)}};function O(e){return"mouseup"===e.type||"mousedown"===e.type}const D=e=>{O(e)&&"mouseup"===e.type&&e.button||(Tw(e,{propagation:!1}),M(),$(!1),n())},$=e=>{try{Cw(e,[document.body,"mouseup",D,!1]),Cw(e,[document.body,"touchend",D,!1])}catch{return 0}},M=()=>{clearTimeout(l),clearInterval(r),l=void 0,r=void 0},L=(t,n,i,o,l,r,c)=>{const u=fi(i,{props:{scale:a.value?1.5:1.25},attrs:{"aria-hidden":"true"}}),d={hasFocus:a.value},h=a=>{!e.disabled&&!e.readonly&&(Tw(a,{propagation:!1}),$(!0),P(a,t))};return fi("button",{class:[{"py-0":!e.vertical},"btn","btn-sm","border-0","rounded-0"],tabindex:"-1",type:"button",disabled:e.disabled||e.readonly||r,"aria-disabled":e.disabled||e.readonly||r?"true":null,"aria-controls":s.value,"aria-label":n||null,"aria-keyshortcuts":l||null,onmousedown:h,ontouchstart:h},[kg(c,d)||u])};return()=>{const t=L(B,e.labelIncrement,fi("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-plus",viewBox:"0 0 16 16"},fi("path",{d:"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"})),0,"ArrowUp",!1,"increment"),s=L(A,e.labelDecrement,fi("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-dash",viewBox:"0 0 16 16"},fi("path",{d:"M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8z"})),0,"ArrowDown",!1,"decrement"),n=[];e.name&&!e.disabled&&n.push(fi("input",{type:"hidden",name:e.name,form:e.form||null,value:y.value,key:"hidden"}));const i=fi("output",{class:[{"d-flex":e.vertical},{"align-self-center":!e.vertical},{"align-items-center":e.vertical},{"border-top":e.vertical},{"border-bottom":e.vertical},{"border-start":!e.vertical},{"border-end":!e.vertical},"flex-grow-1"],...C.value,key:"output"},[fi("bdi",k.value?x.value(o.value):e.placeholder||"")]);return fi("div",{class:["b-form-spinbutton form-control",{disabled:e.disabled},{readonly:e.readonly},{focus:a},{"d-inline-flex":e.inline||e.vertical},{"d-flex":!e.inline&&!e.vertical},{"align-items-stretch":!e.vertical},{"flex-column":e.vertical},e.size?`form-control-${e.size}`:null],...S.value,onkeydown:I,onkeyup:E},e.vertical?[t,n,i,s]:[s,n,i,t])}}}),$w=["TD","TH","TR"],Mw=["a","a *","button","button *","input:not(.disabled):not([disabled])","select:not(.disabled):not([disabled])","textarea:not(.disabled):not([disabled])",'[role="link"]','[role="link"] *','[role="button"]','[role="button"] *',"[tabindex]:not(.disabled):not([disabled])"].join(","),Lw=e=>{if(!e||!e.target)return!1;const t=e.target;if("disabled"in t&&t.disabled||-1!==$w.indexOf(t.tagName))return!1;if(vg(".dropdown-menu",t))return!0;const a="LABEL"===t.tagName?t:vg("label",t);if(a){const e=pg(a,"for"),t=e?(e=>ig.getElementById(/^#/.test(e)?e.slice(1):e)||null)(e):hg("input, select, textarea",a);if(t&&!t.disabled)return!0}return mg(t,Mw)},Nw=["title","abbr","onClick"],Rw={class:"d-inline-flex flex-nowrap align-items-center gap-1"},jw={key:1},zw=["onClick","onDblclick","onMouseenter","onMouseleave"],Vw={key:0,class:"b-table-stacked-label"},Hw=["colspan"],Fw=["colspan"],Ww={class:"d-flex align-items-center justify-content-center gap-2"},Uw=zn("strong",null,"Loading...",-1),Gw={key:1,class:"b-table-empty-slot"},qw=["colspan"],Kw={key:0},Yw=["title","abbr","onClick"],Xw={key:1},Qw={key:2},Jw={key:3},Zw=Ra({__name:"BTable",props:{align:null,caption:null,captionTop:{default:!1},borderless:{default:!1},bordered:{default:!1},borderVariant:null,dark:{default:!1},fields:{default:()=>[]},footClone:{default:!1},hover:{default:!1},items:{default:()=>[]},provider:null,sortCompare:null,noProvider:null,noProviderPaging:null,noProviderSorting:null,noProviderFiltering:null,responsive:{type:[Boolean,String],default:!1},small:{default:!1},striped:{default:!1},stacked:{type:[Boolean,String],default:!1},labelStacked:{type:Boolean,default:!1},variant:null,sortBy:null,sortDesc:{default:!1},sortInternal:{default:!0},selectable:{default:!1},stickySelect:{default:!1},selectHead:{type:[Boolean,String],default:!0},selectMode:{default:"single"},selectionVariant:{default:"primary"},stickyHeader:{default:!1},busy:{default:!1},showEmpty:{default:!1},perPage:null,currentPage:{default:1},filter:null,filterable:null,emptyText:{default:"There are no records to show"},emptyFilteredText:{default:"There are no records matching your request"}},emits:["headClicked","rowClicked","rowDblClicked","rowHovered","rowUnhovered","rowSelected","rowUnselected","selection","update:busy","update:sortBy","update:sortDesc","sorted","filtered"],setup(e,{expose:t,emit:a}){const s=e,n=ys(),i=(()=>{const e=At([]),t=At(void 0);return{normaliseFields:(e,t)=>{const a=[];return null!=e&&e.length||!(null==t?void 0:t.length)?(Array.isArray(e)&&e.forEach((e=>{"string"==typeof e?a.push({key:e,label:Wm(e)}):Om(e)&&e.key&&"string"==typeof e.key&&a.push({...e})})),a):(Object.keys(t[0]).forEach((e=>a.push({key:e,label:Wm(e)}))),a)},mapItems:(t,a,s,n)=>(e.value=Ig(a),"isFilterableTable"in n&&!0===n.isFilterableTable.value&&s.filter&&(e.value=((e,t,a)=>e.filter((e=>Object.entries(e).filter((e=>{const[s,n]=e;return!(!n||"_"===s[0]||a.length>0&&!a.includes(s))&&("object"==typeof n?JSON.stringify(Object.values(n)):"string"==typeof n?n:n.toString()).toLowerCase().includes(t.toLowerCase())})).length>0)))(e.value,s.filter,s.filterable)),"isSortable"in n&&!0===n.isSortable.value&&(e.value=((e,t,a,s)=>{if(!a||!a.key)return t;const n=a.key;return t.sort(((e,t)=>{if(void 0!==s)return s(e,t,a.key,a.desc);const i=e=>"object"==typeof e?JSON.stringify(e):e;return i(e[n])>i(t[n])?a.desc?-1:1:i(t[n])>i(e[n])?a.desc?1:-1:0}))})(0,e.value,{key:s.sortBy,desc:n.sortDescBoolean.value},s.sortCompare)),e.value),internalItems:e,updateInternalItems:async t=>{try{return e.value=await Eg(t),e.value}catch{return}},filterEvent:t,notifyFilteredItems:()=>{t.value&&t.value(e.value)},formatItem:(e,t)=>{const a=e[t.key];return t.formatter&&"function"==typeof t.formatter?t.formatter(a,t.key,e):e[t.key]}}})(),o=$g(Nt(s,"footClone")),l=$g(Nt(s,"sortDesc")),r=$g(Nt(s,"sortInternal")),c=$g(Nt(s,"selectable")),u=$g(Nt(s,"stickySelect")),d=$g(Nt(s,"labelStacked")),h=$g(Nt(s,"busy")),p=$g(Nt(s,"showEmpty")),f=$g(Nt(s,"noProviderPaging")),m=$g(Nt(s,"noProviderSorting")),g=$g(Nt(s,"noProviderFiltering")),v=At(h.value);i.filterEvent.value=async e=>{if(C.value)return void(await $());const t=await Eg(e);a("filtered",t)};const b=At(new Set([])),y=pi((()=>b.value.size>0)),_=pi((()=>({[`align-${s.align}`]:void 0!==s.align,"b-table-selectable":c.value,[`b-table-select-${s.selectMode}`]:c.value,"b-table-selecting user-select-none":c.value&&y.value,"b-table-busy":v.value,"b-table-sortable":B.value,"b-table-sort-desc":B.value&&!0===l.value,"b-table-sort-asc":B.value&&!1===l.value}))),w=pi((()=>({bordered:s.bordered,borderless:s.borderless,borderVariant:s.borderVariant,captionTop:s.captionTop,dark:s.dark,hover:s.hover,responsive:s.responsive,striped:s.striped,stacked:s.stacked,small:s.small,tableClass:_.value,tableVariant:s.variant,stickyHeader:s.stickyHeader}))),x=pi((()=>i.normaliseFields(s.fields,s.items))),S=pi((()=>x.value.length+(c.value?1:0))),k=pi((()=>void 0!==s.filter&&""!==s.filter)),C=pi((()=>void 0!==s.provider)),T=pi((()=>c.value&&(!!s.selectHead||void 0!==n.selectHead))),B=pi((()=>s.fields.filter((e=>"string"!=typeof e&&e.sortable)).length>0)),A=pi((()=>B.value&&!0===r.value)),I=pi((()=>{const e=C.value?i.internalItems.value:A.value?i.mapItems(s.fields,s.items,s,{isSortable:B,isFilterableTable:k,sortDescBoolean:l}):s.items;if(void 0!==s.perPage){const t=(s.currentPage-1)*s.perPage;return e.splice(t,s.perPage)}return e})),E=e=>"string"==typeof e?Um(e):void 0!==e.label?e.label:"string"==typeof e.key?Um(e.key):e.key,P=(e,t,s=!1)=>{const n="string"==typeof e?e:e.key;a("headClicked",n,e,t,s),O(e)},O=e=>{if(!B.value)return;const t="string"==typeof e?e:e.key,n="string"!=typeof e&&e.sortable;if(!0===B.value&&!0===n){const e=!l.value;t!==s.sortBy&&a("update:sortBy",t),a("update:sortDesc",e),a("sorted",t,e)}},D=()=>{!c.value||a("selection",Array.from(b.value))},$=async()=>{if(!C.value||!s.provider||v.value)return;v.value=!0;const e=new Proxy({currentPage:s.currentPage,filter:s.filter,sortBy:s.sortBy,sortDesc:s.sortDesc,perPage:s.perPage},{get:(e,t)=>t in e?e[t]:void 0,set:()=>(console.error("BTable provider context is a read-only object."),!0)}),t=s.provider(e,i.updateInternalItems);if(void 0!==t){if(t instanceof Promise)try{const e=await t;return Array.isArray(e)?await i.updateInternalItems(e):void 0}finally{v.value&&(v.value=!1)}try{return await i.updateInternalItems(t)}finally{v.value&&(v.value=!1)}}},M=e=>{e._showDetails=!e._showDetails},L=e=>[e.class,e.thClass,e.variant?`table-${e.variant}`:void 0,{"b-table-sortable-column":B.value&&e.sortable,"b-table-sticky-column":e.stickyColumn}],N=(e,t)=>[e.class,e.tdClass,e.variant?`table-${e.variant}`:void 0,(null==t?void 0:t._cellVariants)&&(null==t?void 0:t._cellVariants[e.key])?`table-${null==t?void 0:t._cellVariants[e.key]}`:void 0,{"b-table-sticky-column":e.stickyColumn}],R=e=>[e._rowVariant?`table-${e._rowVariant}`:null,e._rowVariant?`table-${e._rowVariant}`:null,c.value&&b.value.has(e)?`selected table-${s.selectionVariant}`:null],j=async(e,t,a)=>{if(t===a)return;const n=e=>s.noProvider&&s.noProvider.includes(e),o=!["currentPage","perPage"].includes(e),l=["currentPage","perPage"].includes(e)&&(n("paging")||!0===f.value),r=["filter"].includes(e)&&(n("filtering")||!0===g.value),c=["sortBy","sortDesc"].includes(e)&&(n("sorting")||!0===m.value);l||r||c||(await $(),o&&i.notifyFilteredItems())};return dn((()=>s.filter),((e,t)=>{e===t||C.value||e||Eg(s.items).then((e=>a("filtered",e)))})),dn((()=>v.value),(()=>v.value!==h.value&&a("update:busy",v.value))),dn((()=>h.value),(()=>v.value!==h.value&&(v.value=h.value))),dn((()=>s.filter),((e,t)=>j("filter",e,t))),dn((()=>s.currentPage),((e,t)=>j("currentPage",e,t))),dn((()=>s.perPage),((e,t)=>j("perPage",e,t))),dn((()=>s.sortBy),((e,t)=>j("sortBy",e,t))),dn((()=>s.sortDesc),((e,t)=>j("sortDesc",e,t))),Xa((()=>{C.value&&$()})),t({selectAllRows:()=>{if(!c.value)return;const e=b.value.size>0?Array.from(b.value):[];b.value=new Set([...I.value]),b.value.forEach((t=>{e.includes(t)||a("rowSelected",t)})),D()},clearSelected:()=>{!c.value||(b.value.forEach((e=>{a("rowUnselected",e)})),b.value=new Set([]),D())},selectRow:e=>{if(!c.value)return;const t=I.value[e];!t||b.value.has(t)||(b.value.add(t),a("rowSelected",t),D())},unselectRow:e=>{if(!c.value)return;const t=I.value[e];!t||!b.value.has(t)||(b.value.delete(t),a("rowUnselected",t),D())}}),(t,n)=>(En(),Mn(tw,X(Hn(Ot(w))),{default:ua((()=>{var n;return[zn("thead",null,[t.$slots["thead-top"]?ps(t.$slots,"thead-top",{key:0}):Gn("",!0),zn("tr",null,[Ot(T)?(En(),$n("th",{key:0,class:Y(["b-table-selection-column",{"b-table-sticky-column":Ot(u)}])},[ps(t.$slots,"select-head",{},(()=>[Wn(ae("boolean"==typeof e.selectHead?"Selected":e.selectHead),1)]))],2)):Gn("",!0),(En(!0),$n(kn,null,ds(Ot(x),(a=>(En(),$n("th",Xn({key:a.key,scope:"col",class:L(a),title:a.headerTitle,abbr:a.headerAbbr,style:a.thStyle},a.thAttr,{onClick:e=>P(a,e)}),[zn("div",Rw,[ps(t.$slots,"sort-icon",{field:a,sortBy:e.sortBy,selected:a.key===e.sortBy,isDesc:Ot(l),direction:Ot(l)?"desc":"asc"},(()=>[Ot(B)&&a.sortable?(En(),$n("span",{key:0,class:Y(["b-table-sort-icon",{sorted:a.key===e.sortBy,["sorted-"+(Ot(l)?"desc":"asc")]:a.key===e.sortBy}])},null,2)):Gn("",!0)])),zn("div",null,[t.$slots["head("+a.key+")"]||t.$slots["head()"]?ps(t.$slots,t.$slots["head("+a.key+")"]?"head("+a.key+")":"head()",{key:0,label:a.label}):(En(),$n(kn,{key:1},[Wn(ae(E(a)),1)],64))])])],16,Nw)))),128))]),t.$slots["thead-sub"]?(En(),$n("tr",jw,[(En(!0),$n(kn,null,ds(Ot(x),(e=>(En(),$n("td",{key:e.key,scope:"col",class:Y([e.class,e.thClass,e.variant?`table-${e.variant}`:""])},[t.$slots["thead-sub"]?ps(t.$slots,"thead-sub",Xn({key:0,items:Ot(x)},e)):(En(),$n(kn,{key:1},[Wn(ae(e.label),1)],64))],2)))),128))])):Gn("",!0)]),zn("tbody",null,[(En(!0),$n(kn,null,ds(Ot(I),((n,o)=>(En(),$n(kn,{key:o},[zn("tr",{class:Y(R(n)),onClick:e=>!Ot(Lw)(e)&&((e,t,n)=>{a("rowClicked",e,t,n),((e,t,n=!1)=>{if(c.value){if(b.value.has(e))b.value.delete(e),a("rowUnselected",e);else if("single"===s.selectMode&&b.value.size>0&&(b.value.forEach((e=>a("rowUnselected",e))),b.value.clear()),"range"===s.selectMode&&b.value.size>0&&n){const e=Array.from(b.value).pop(),s=I.value.findIndex((t=>t===e)),n=Math.min(s,t),i=Math.max(s,t);I.value.slice(n,i+1).forEach((e=>{b.value.has(e)||(b.value.add(e),a("rowSelected",e))}))}else b.value.add(e),a("rowSelected",e);D()}})(e,t,n.shiftKey)})(n,o,e),onDblclick:e=>!Ot(Lw)(e)&&((e,t,s)=>a("rowDblClicked",e,t,s))(n,o,e),onMouseenter:e=>!Ot(Lw)(e)&&((e,t,s)=>a("rowHovered",e,t,s))(n,o,e),onMouseleave:e=>!Ot(Lw)(e)&&((e,t,s)=>a("rowUnhovered",e,t,s))(n,o,e)},[Ot(T)?(En(),$n("td",{key:0,class:Y(["b-table-selection-column",{"b-table-sticky-column":Ot(u)}])},[ps(t.$slots,"select-cell",{},(()=>[zn("span",{class:Y(b.value.has(n)?"text-primary":"")},"🗹",2)]))],2)):Gn("",!0),(En(!0),$n(kn,null,ds(Ot(x),(a=>(En(),$n("td",Xn({key:a.key},a.tdAttr,{class:N(a,n)}),[e.stacked&&Ot(d)?(En(),$n("label",Vw,ae(E(a)),1)):Gn("",!0),t.$slots["cell("+a.key+")"]||t.$slots["cell()"]?ps(t.$slots,t.$slots["cell("+a.key+")"]?"cell("+a.key+")":"cell()",{key:1,value:n[a.key],index:o,item:n,field:a,items:e.items,toggleDetails:()=>M(n),detailsShowing:n._showDetails}):(En(),$n(kn,{key:2},[Wn(ae(Ot(i).formatItem(n,a)),1)],64))],16)))),128))],42,zw),!0===n._showDetails&&t.$slots["row-details"]?(En(),$n("tr",{key:0,class:Y(R(n))},[zn("td",{colspan:Ot(S)},[ps(t.$slots,"row-details",{item:n,toggleDetails:()=>M(n)})],8,Hw)],2)):Gn("",!0)],64)))),128)),v.value?(En(),$n("tr",{key:0,class:Y(["b-table-busy-slot",{"b-table-static-busy":0==Ot(I).length}])},[zn("td",{colspan:Ot(S)},[ps(t.$slots,"table-busy",{},(()=>[zn("div",Ww,[Vn(xv,{class:"align-middle"}),Uw])]))],8,Fw)],2)):Gn("",!0),Ot(p)&&0===Ot(I).length?(En(),$n("tr",Gw,[zn("td",{colspan:Ot(S)},[ps(t.$slots,"empty",{items:Ot(I),filtered:Ot(k)},(()=>[Wn(ae(Ot(k)?e.emptyFilteredText:e.emptyText),1)]))],8,qw)])):Gn("",!0)]),Ot(o)?(En(),$n("tfoot",Kw,[zn("tr",null,[(En(!0),$n(kn,null,ds(Ot(x),(e=>(En(),$n("th",Xn({key:e.key},e.thAttr,{scope:"col",class:[e.class,e.thClass,e.variant?`table-${e.variant}`:""],title:e.headerTitle,abbr:e.headerAbbr,style:e.thStyle,onClick:t=>P(e,t,!0)}),ae(e.label),17,Yw)))),128))])])):t.$slots["custom-foot"]?(En(),$n("tfoot",Xw,[ps(t.$slots,"custom-foot",{fields:Ot(x),items:e.items,columns:null==(n=Ot(x))?void 0:n.length})])):Gn("",!0),t.$slots["table-caption"]?(En(),$n("caption",Qw,[ps(t.$slots,"table-caption")])):e.caption?(En(),$n("caption",Jw,ae(e.caption),1)):Gn("",!0)]})),_:3},16))}}),ex=Ra({__name:"BTbody",props:{variant:null},setup(e){const t=e,a=pi((()=>({[`thead-${t.variant}`]:void 0!==t.variant})));return(e,t)=>(En(),$n("tbody",{role:"rowgroup",class:Y(Ot(a))},[ps(e.$slots,"default")],2))}}),tx=["scope","colspan","rowspan","data-label"],ax={key:0},sx=Ra({__name:"BTd",props:{colspan:null,rowspan:null,stackedHeading:null,stickyColumn:{default:!1},variant:null},setup(e){const t=e,a=$g(Nt(t,"stickyColumn")),s=pi((()=>({[`table-${t.variant}`]:void 0!==t.variant,"b-table-sticky-column":a.value,"table-b-table-default":a.value&&void 0===t.variant}))),n=pi((()=>t.colspan?"colspan":t.rowspan?"rowspan":"col"));return(t,a)=>(En(),$n("td",{role:"cell",scope:Ot(n),class:Y(Ot(s)),colspan:e.colspan,rowspan:e.rowspan,"data-label":e.stackedHeading},[e.stackedHeading?(En(),$n("div",ax,[ps(t.$slots,"default")])):ps(t.$slots,"default",{key:1})],10,tx))}}),nx=Ra({__name:"BTfoot",props:{variant:null},setup(e){const t=e,a=pi((()=>({[`table-${t.variant}`]:void 0!==t.variant})));return(e,t)=>(En(),$n("tfoot",{role:"rowgroup",class:Y(Ot(a))},[ps(e.$slots,"default")],2))}}),ix=["scope","colspan","rowspan","data-label"],ox={key:0},lx=Ra({__name:"BTh",props:{colspan:null,rowspan:null,stackedHeading:null,stickyColumn:{default:!1},variant:null},setup(e){const t=e,a=$g(Nt(t,"stickyColumn")),s=pi((()=>({[`table-${t.variant}`]:void 0!==t.variant,"b-table-sticky-column":a.value,"table-b-table-default":a.value&&void 0===t.variant}))),n=pi((()=>t.colspan?"colspan":t.rowspan?"rowspan":"col"));return(t,a)=>(En(),$n("th",{role:"columnheader",scope:Ot(n),class:Y(Ot(s)),colspan:e.colspan,rowspan:e.rowspan,"data-label":e.stackedHeading},[void 0!==e.stackedHeading?(En(),$n("div",ox,[ps(t.$slots,"default")])):ps(t.$slots,"default",{key:1})],10,ix))}}),rx=Ra({__name:"BThead",props:{variant:null},setup(e){const t=e,a=pi((()=>({[`table-${t.variant}`]:void 0!==t.variant})));return(e,t)=>(En(),$n("thead",{role:"rowgroup",class:Y(Ot(a))},[ps(e.$slots,"default")],2))}}),cx=Ra({__name:"BTr",props:{variant:null},setup(e){const t=e,a=pi((()=>({[`table-${t.variant}`]:void 0!==t.variant})));return(e,t)=>(En(),$n("tr",{role:"row",class:Y(Ot(a))},[ps(e.$slots,"default")],2))}}),ux=["id","data-bs-target","aria-controls","aria-selected","onClick"],dx=Symbol(),hx=Ra({__name:"BTabs",props:{activeNavItemClass:null,activeTabClass:null,align:null,card:{default:!1},contentClass:null,end:{default:!1},fill:{default:!1},id:null,justified:{default:!1},lazy:{default:!1},navClass:null,navWrapperClass:null,noFade:{default:!1},noNavStyle:{default:!1},pills:{default:!1},small:{default:!1},tag:{default:"div"},vertical:{default:!1},modelValue:{default:-1}},emits:["update:modelValue","activate-tab","click"],setup(e,{emit:t}){const a=e,s=ys(),n=$g(Nt(a,"card")),i=$g(Nt(a,"end")),o=$g(Nt(a,"fill")),l=$g(Nt(a,"justified")),r=$g(Nt(a,"lazy")),c=$g(Nt(a,"noFade")),u=$g(Nt(a,"noNavStyle")),d=$g(Nt(a,"pills")),h=$g(Nt(a,"small")),p=$g(Nt(a,"vertical")),f=At(a.modelValue),m=At(""),g=pi({get:()=>f.value,set:e=>{f.value=e,v.value.length>0&&e>=0&&e<v.value.length?m.value=v.value[e].buttonId:m.value="",t("update:modelValue",e)}}),v=pi((()=>{let e=[];return s.default&&(e=S(s).map(((e,t)=>{e.props||(e.props={});const n=e.props["button-id"]||_g("tab"),i=e.props.id||_g(),o=g.value>-1?t===g.value:""===e.props.active,l=e.props["title-item-class"],r=e.props["title-link-attributes"];return{buttonId:n,contentId:i,active:o,disabled:""===e.props.disabled||!0===e.props.disabled,navItemClasses:[{active:o,disabled:""===e.props.disabled||!0===e.props.disabled},o&&a.activeNavItemClass?a.activeNavItemClass:null,e.props["title-link-class"]],tabClasses:[{fade:!c.value},o&&a.activeTabClass?a.activeTabClass:null],target:`#${i}`,title:e.props.title,titleItemClass:l,titleLinkAttributes:r,onClick:e.props.onClick,tab:e,tabComponent:()=>S(s)[t]}}))),e})),b=pi((()=>!((null==v?void 0:v.value)&&v.value.length>0))),y=pi((()=>({"d-flex":p.value,"align-items-start":p.value}))),_=Im(Nt(a,"align")),w=pi((()=>({"nav-pills":d.value,"flex-column me-3":p.value,[_.value]:void 0!==a.align,"nav-fill":o.value,"card-header-tabs":n.value,"nav-justified":l.value,"nav-tabs":!u.value&&!d.value,small:h.value}))),x=e=>{let s=!1;if(void 0!==e&&e>-1&&e<v.value.length&&!v.value[e].disabled&&(g.value<0||v.value[e].buttonId!==m.value)){const a=new Em("activate-tab",{cancelable:!0});t("activate-tab",e,g.value,a),a.defaultPrevented||(g.value=e,s=!0)}return!s&&a.modelValue!==g.value&&t("update:modelValue",g.value),s},S=e=>e&&e.default?e.default().reduce(((e,t)=>("symbol"==typeof t.type?e=e.concat(t.children):e.push(t),e)),[]).filter((e=>{var t;return"BTab"===(null==(t=e.type)?void 0:t.__name)})):[];return x(f.value),dn((()=>a.modelValue),((e,t)=>{if(e===t)return;if(e=Math.max(e,-1),t=Math.max(t,-1),v.value.length<=0)return void(g.value=-1);const a=e>t;let s=e;const n=v.value.length-1;for(;s>=0&&s<=n&&v.value[s].disabled;)s+=a?1:-1;s<0?x(0):s>=v.value.length?x(v.value.length-1):x(s)})),dn((()=>v.value),(()=>{let e=v.value.map((e=>e.active&&!e.disabled)).lastIndexOf(!0);e<0&&(g.value>=v.value.length?e=v.value.map((e=>!e.disabled)).lastIndexOf(!0):v.value[g.value]&&!v.value[g.value].disabled&&(e=g.value)),e<0&&(e=v.value.map((e=>!e.disabled)).indexOf(!0)),v.value.forEach(((t,a)=>t.active=a===e)),x(e)})),Xa((()=>{if(g.value<0&&v.value.length>0&&!v.value.some((e=>e.active))){const e=v.value.map((e=>!e.disabled)).indexOf(!0);x(e>=0?e:-1)}})),Rs(dx,{lazy:r.value,card:n.value}),(t,a)=>(En(),Mn(rs(e.tag),{id:e.id,class:Y(["tabs",Ot(y)])},{default:ua((()=>[Ot(i)?(En(),$n("div",{key:0,class:Y(["tab-content",e.contentClass])},[(En(!0),$n(kn,null,ds(Ot(v),(({tabComponent:e,contentId:t,tabClasses:a,active:s},n)=>(En(),Mn(rs(e()),{id:t,key:n,class:Y(a),active:s},null,8,["id","class","active"])))),128)),Ot(b)?(En(),$n("div",{key:"bv-empty-tab",class:Y(["tab-pane active",{"card-body":Ot(n)}])},[ps(t.$slots,"empty")],2)):Gn("",!0)],2)):Gn("",!0),zn("div",{class:Y([e.navWrapperClass,{"card-header":Ot(n),"ms-auto":e.vertical&&Ot(i)}])},[zn("ul",{class:Y(["nav",[Ot(w),e.navClass]]),role:"tablist"},[ps(t.$slots,"tabs-start"),(En(!0),$n(kn,null,ds(Ot(v),(({tab:e,buttonId:t,contentId:a,navItemClasses:s,active:n,target:i},o)=>(En(),$n("li",{key:o,class:Y(["nav-item",e.props["title-item-class"]])},[zn("button",Xn({id:t,class:["nav-link",s],"data-bs-toggle":"tab","data-bs-target":i,role:"tab","aria-controls":a,"aria-selected":n},e.props["title-link-attributes"],{onClick:_o((e=>((e,t)=>{var a;x(t),t>=0&&!v.value[t].disabled&&(null==(a=v.value[t])?void 0:a.onClick)&&"function"==typeof v.value[t].onClick&&v.value[t].onClick(e)})(e,o)),["stop","prevent"])}),[e.children&&e.children.title?(En(),Mn(rs(e.children.title),{key:0})):(En(),$n(kn,{key:1},[Wn(ae(e.props.title),1)],64))],16,ux)],2)))),128)),ps(t.$slots,"tabs-end")],2)],2),Ot(i)?Gn("",!0):(En(),$n("div",{key:1,class:Y(["tab-content",e.contentClass])},[(En(!0),$n(kn,null,ds(Ot(v),(({tabComponent:e,contentId:t,tabClasses:a,active:s},n)=>(En(),Mn(rs(e()),{id:t,key:n,class:Y(a),active:s},null,8,["id","class","active"])))),128)),Ot(b)?(En(),$n("div",{key:"bv-empty-tab",class:Y(["tab-pane active",{"card-body":Ot(n)}])},[ps(t.$slots,"empty")],2)):Gn("",!0)],2))])),_:3},8,["id","class"]))}}),px=Ra({__name:"BTab",props:{id:null,title:null,active:{default:!1},buttonId:{default:void 0},disabled:{default:!1},lazy:{default:void 0},lazyOnce:{default:void 0},noBody:{type:[Boolean,String],default:!1},tag:{default:"div"},titleItemClass:null,titleLinkAttributes:{default:void 0},titleLinkClass:null},setup(e){const t=e,a=js(dx,null),s=$g(Nt(t,"active")),n=$g(Nt(t,"disabled")),i=$g(Nt(t,void 0!==t.lazyOnce?"lazyOnce":"lazy")),o=At(!1),l=pi((()=>!(!(null==a?void 0:a.lazy)&&!i.value))),r=pi((()=>void 0!==t.lazyOnce)),c=pi((()=>s.value&&!n.value)),u=pi((()=>{const e=l.value&&r.value&&o.value;return c.value||!l.value||e})),d=pi((()=>({active:s.value,show:s.value,"card-body":(null==a?void 0:a.card)&&!1===t.noBody})));return dn((()=>u.value),(e=>{e&&!o.value&&(o.value=!0)})),(t,a)=>(En(),Mn(rs(e.tag),{id:e.id,class:Y(["tab-pane",Ot(d)]),role:"tabpanel","aria-labelledby":"profile-tab"},{default:ua((()=>[Ot(u)?ps(t.$slots,"default",{key:0}):Gn("",!0)])),_:3},8,["id","class"]))}}),fx=Object.freeze(Object.defineProperty({__proto__:null,BAccordion:ev,BAccordionItem:vv,BAlert:Iv,BAvatar:Lv,BAvatarGroup:Pv,BBadge:jv,BBreadcrumb:Uv,BBreadcrumbItem:Hv,BButton:Av,BButtonGroup:Gv,BButtonToolbar:Kv,BCloseButton:_v,BCard:nb,BCardBody:ab,BCardFooter:sb,BCardGroup:ib,BCardHeader:Zv,BCardImg:Xv,BCardSubtitle:tb,BCardText:ob,BCardTitle:eb,BCarousel:bb,BCarouselSlide:kb,BCol:Ib,BCollapse:tv,BContainer:zb,BDropdown:Fb,BDropdownDivider:Ub,BDropdownForm:Kb,BDropdownGroup:Qb,BDropdownHeader:Zb,BDropdownItem:ey,BDropdownItemButton:ay,BDropdownText:iy,BForm:ly,BFormFloatingLabel:uy,BFormInvalidFeedback:dy,BFormRow:hy,BFormText:py,BFormValidFeedback:fy,BFormCheckbox:vy,BFormCheckboxGroup:wy,BFormGroup:Cy,BFormInput:Iy,BFormRadio:Oy,BFormRadioGroup:Ly,BFormSelect:Hy,BFormSelectOption:Ry,BFormSelectOptionGroup:zy,BFormTag:Wy,BFormTags:n_,BFormTextarea:l_,BImg:Yv,BInputGroup:f_,BInputGroupAddon:g_,BInputGroupAppend:v_,BInputGroupPrepend:b_,BInputGroupText:m_,BLink:Tv,BListGroup:__,BListGroupItem:w_,BModal:C_,BNav:T_,BNavForm:B_,BNavItem:E_,BNavItemDropdown:O_,BNavText:$_,BNavbar:M_,BNavbarBrand:R_,BNavbarNav:j_,BNavbarToggle:V_,BOffcanvas:q_,BOverlay:K_,BPagination:Q_,BPlaceholder:J_,BPlaceholderButton:Z_,BPlaceholderCard:ew,BPlaceholderTable:aw,BPlaceholderWrapper:sw,BPopover:rw,BProgress:hw,BProgressBar:uw,BRow:mw,BSkeleton:gw,BSkeletonIcon:vw,BSkeletonTable:_w,BSkeletonWrapper:ww,BSpinner:xv,BFormSpinButton:Dw,BTable:Zw,BTableSimple:tw,BTbody:ex,BTd:sx,BTfoot:nx,BTh:lx,BThead:rx,BTr:cx,BTab:px,BTabs:hx,BToastContainer:jb,BTransition:bv,BToast:Rb,BToaster:jb,BToastPlugin:Nb},Symbol.toStringTag,{value:"Module"})),mx=Object.freeze(Object.defineProperty({__proto__:null,vBColorMode:sv,vBPopover:nv,vBToggle:iv,vBTooltip:lv,vBVisible:hv},Symbol.toStringTag,{value:"Module"})),gx={install(e,t={}){Object.entries(fx).forEach((([t,a])=>{e.component(t,a)})),Object.entries(mx).forEach((([t,a])=>{e.directive(t,a)})),(e=>{e.provide(Mg,Lg)})(e)}},vx={class:"headBg"},bx={class:"headTitle"},yx={class:"userBox"},_x={class:"avatarBox"},wx=["src"],xx={class:"userText"},Sx={class:"balanceText"},kx={class:"lvText"},Cx=["src"],Tx={class:"btnCloseBox mt-2"},Bx=["src"],Ax=Ra({__name:"HeadView",setup(e){Wo(),At(localStorage.getItem("token")||""),At(localStorage.getItem("member")||"");const t=yr(),a=_r(),s=At(""),n=At("mAboutView"),i=At(50),o=At(""),l=At(!1);At(!1);const r=At(!1),c=At("魔法師");wr(),Rs("character",c);const u=()=>{t.push("/store")},d=()=>{r.value=!0},h=()=>{l.value=!1},p=()=>{t.push("/play_log")};return Xa((async()=>{console.log("標頭顯示路由資訊:",a.name)})),(e,t)=>{const a=os("router-link");return En(),$n(kn,null,[zn("div",vx,[zn("div",bx,[Vn(a,{to:"/user"},{default:ua((()=>[zn("div",yx,[t[0]||(t[0]=zn("img",{class:"userImgBack",src:"/Work-Results/assets/top-account-CZz564Un.png"},null,-1)),zn("div",_x,[zn("img",{src:s.value},null,8,wx)]),zn("p",xx,ae(n.value),1)])])),_:1}),zn("div",{class:"balanceBox",onClick:u},[t[1]||(t[1]=zn("img",{class:"balanceImg",src:"/Work-Results/assets/top-balance-CMAUJSGA.png"},null,-1)),zn("div",Sx,ae(o.value),1),zn("img",{onClick:u,class:"balanceImg2",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAbCAYAAABvCO8sAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAQtSURBVHgBrVbPb1tFEP523/pHXDvND6dKQ5NQKBVCQghxKFQCgbgg4IYAIXroH4HgihASEhLiP0BIcKkqLkhUnBBCEb30UMQpIEIDVZr+SE3sxM/OezvLzO6zm6T2c5t24lj2ene++Wa+mbfKOafg7XwBcfVzim+8S2lzFpTi4KagIgNlauu6cuQcSmMfAK9YwEF5wHhpPm0vX0lvXlS0s+HgUlmHbDi4aShtnC5NKVN/AWb65ALw0lV2/LG2G/O2c/WCdWlLc3RKXg/FOGj506ZmS/OvwUw9O2Yofv6zzvXzsDtNCUlJOoYTU+wjAWzLf4YucuqqvJ+G7hdLu80I679CH3rqUwa8fiaNbzhHlDHLSaNLoUuPIDryPmN04Lr/wjZ+AaIKco0c0viWo63lM4aZzdl0hxe9xxEHO9ATT6C0eFZ8IL19Gd1r30GXF/LPid80UTbZnjOO1Uip5VTRyNI5RtFJLKWBswSXNEDEZSfKPye+OTvOpjBymKzzi7yaj8iOaVe9RMnWcrD8PyJUdq19oMYfYiehDUZQZIYR71N9N6wfct5RPh6f0QEjAEpBHGGUOWGYkVHBDzMkQc0/BwoMkQGSzRgq6m8ZeJBTR3vqFVLaj+IuU71IWR/2DkPvyFle5FZUEffNxkDGzrZBSdOLS1yJupN2g2FLA1mZ0kz47AFVD5AVmzFUzDBpLWPx9cuIyjPYzzR0qULaif23yuyrOP7WNQyqfRSV8fePp2SqZr51BujrIoA8rHnRimJJ6GvsV4PrvfO+LHR+RRiYTON8fVW2DzzEpK08Q0uUtYWwTWXoItJ2iPoiDjDNRm7kazPMpFdJ8i8MfSf02oJsXzSmdhJ//vCiyAH7J4FLtjF+7A0cf/lrX4bNfy7gyk/voVCdvhuNSUTlemCX1ZBEpeSbV1JjfcTMkcMYH9iR5IpwMqz7eSswYRngE4MS4QdKyGjQR180vo4UFvPM+fruXoBvk57jAScyQOISaj+vDfoM5cd8QC+uXX3oEIRhRzS+jzLTRDZL7/RhnkmT2z2AYdLQPQxvuViElEqUFA6NelrIHpH2roUQhL0HQJ0BQkc+kfIUGHWxEDXz+PD7jNaswkmeNnbPE2QYoFcRX6xMcWxqjbv0qE07LNJ8SKeKaN38HSuXvuRnaIx4c4VvAJNh+Oed40B1oeKKldqaqUwc+6ZUO/pRZ3uZI7d+FA01ZbDdWEHz4ifyhZNTYsKHvQZy4LzYatUZVZ1++lu+tV0q3PprKf5j6SvXbTeMHze9Yh708tYj7IL6i9VJ++Tps1H9RJOTiufS+uPxYxzF6upv36O9ueYoSZRMe1/c+wXNnuOieG0KdGhyTi0886aunzj1KHDaqfAAl10/R93/Wl9s3V59J97amCWb4EFMRwWUq/X1w/XFc4Xx+EPgbe/wfxJztLzfbGwKAAAAAElFTkSuQmCC"})]),zn("div",{class:"lvBox",onClick:d},[t[2]||(t[2]=zn("img",{class:"lvImg",src:"/Work-Results/assets/top-lv-Dcd7afE_.png"},null,-1)),zn("div",kx,ae(i.value),1)])])]),Vn(Ot(C_),{id:"user-modal","hide-header":"","hide-footer":"","content-class":"custom-modal","body-class":"modalBodyBox"},{default:ua((()=>[zn("img",{src:s.value,class:"rounded-circle",width:"100"},null,8,Cx),zn("h4",null,ae(n.value),1),zn("p",null,"等級: "+ae(i.value),1),zn("p",null,"餘額: "+ae(o.value),1),zn("div",{onClick:p},"遊戲紀錄"),zn("div",Tx,[zn("img",{src:Ot("/Work-Results/assets/btn-close-CwYsSUs_.png"),onClick:h,class:"close-img"},null,8,Bx)])])),_:1})],64)}}}),Ix=new s.Events.EventEmitter,Ex=class e{constructor(){a(this,"currentScene",null),a(this,"isTransitioning",!1),a(this,"backgroundImage",null),a(this,"bootScene",null)}static getInstance(){return e.instance||(e.instance=new e),e.instance}setCurrentScene(e){this.currentScene=e,"PokerBoot"===e.scene.key&&(this.bootScene=e)}createBackground(e){const{width:t,height:a}=e.scale;return this.backgroundImage=e.add.image(0,0,"background").setOrigin(0,0).setDisplaySize(t,a).setDepth(-1),this.backgroundImage}transitionToScene(e,t,a){this.isTransitioning||(this.isTransitioning=!0,console.log(`正在從 ${e.scene.key} 轉換到 ${t}`),e.cameras.main.fadeOut(300,0,0,0),e.cameras.main.once("camerafadeoutcomplete",(()=>{e.scene.launch(t,a);const s=e.scene.get(t);s.cameras.main.fadeIn(300,0,0,0),s.cameras.main.once("camerafadeincomplete",(()=>{e.scene.sleep(),this.isTransitioning=!1,this.currentScene=s}))})))}getBackgroundImage(){return this.backgroundImage}shareBackground(e){if(this.backgroundImage&&this.currentScene){const{width:t,height:a}=e.scale;return e.add.image(0,0,"background").setOrigin(0,0).setDisplaySize(t,a).setDepth(-1)}return null}};a(Ex,"instance");let Px=Ex;class Ox extends s.Scene{constructor(){super("PokerBoot")}preload(){this.load.image("background","/game/assets/picture/bgTable.png"),this.load.image("Table","/game/assets/picture/Table.png"),this.load.image("logo","/game/assets/picture/logo.png"),this.load.image("star","/game/assets/picture/star.png")}create(){const{width:e,height:t}=this.scale;console.log("高"),console.log(t),Px.getInstance().setCurrentScene(this),Px.getInstance().createBackground(this),this.scene.start("PokerPreloader"),this.scene.stop("PokerBoot")}}class Dx extends s.Scene{constructor(){super("PokerPreloader")}init(){const{width:e,height:t}=this.scale;this.add.image(e/2,t/2,"background").setDisplaySize(e,t),this.add.image(.8*e,.9*t,"logo").setScale(.8);const a=Math.min(.8*e,468);this.add.rectangle(e/2,t/2,a,32).setStrokeStyle(1,16777215);const s=this.add.graphics();s.lineStyle(1,16769179),s.strokeRoundedRect(e/2-(a+50)/2,t/2-41,a+50,82,15);const n=this.add.rectangle(e/2-a/2+2,t/2,4,28,16769179),i=this.add.image(e/2-a/2+2,t/2,"star").setScale(.5);this.load.on("progress",(t=>{n.width=4+(a-8)*t,i.x=e/2-a/2+2+(a-8)*t})),this.scale.scaleMode=Phaser.Scale.FIT,this.scale.refresh()}preload(){this.load.setPath("/game/assets/picture"),this.load.image("seatButton","btn-play.png"),this.load.image("player","/user/otherch4.png"),this.load.image("leave","btn-leave.png"),this.load.image("Table","Table.png"),this.load.image("player1","/user/otherch4.png"),this.load.image("刺客","/user/assa_sat1-1.png"),this.load.image("刺客2","/user/otherch_2_300.png"),this.load.image("刺客3","/user/otherch_2_300.png"),this.load.image("魔法師","/user/mage_sat1-1.png"),this.load.image("弓箭手","/user/弓箭手1-1NEW sat.png"),this.load.image("祭司","/user/祭司_sat1-1.png"),this.load.image("騎士","/user/knight1_1_sat.png"),this.load.image("btn-back","btn-back.png"),this.load.image("chip","chip.png"),this.load.image("chip100","chip100.png"),this.load.image("chip1000","chip1000.png"),this.load.image("按鈕位","按鈕位.png"),this.load.image("確認","確認.png"),this.load.image("取消","取消.png"),this.load.image("trophy","trophy.png"),this.load.image("XX","/POKER/recharge/lvback1.png"),this.load.image("2C","/POKER/2C.png"),this.load.image("2D","/POKER/2D.png"),this.load.image("2H","/POKER/2H.png"),this.load.image("2S","/POKER/2S.png"),this.load.image("3C","/POKER/3C.png"),this.load.image("3D","/POKER/3D.png"),this.load.image("3H","/POKER/3H.png"),this.load.image("3S","/POKER/3S.png"),this.load.image("4C","/POKER/4C.png"),this.load.image("4D","/POKER/4D.png"),this.load.image("4H","/POKER/4H.png"),this.load.image("4S","/POKER/4S.png"),this.load.image("5C","/POKER/5C.png"),this.load.image("5D","/POKER/5D.png"),this.load.image("5H","/POKER/5H.png"),this.load.image("5S","/POKER/5S.png"),this.load.image("6C","/POKER/6C.png"),this.load.image("6D","/POKER/6D.png"),this.load.image("6H","/POKER/6H.png"),this.load.image("6S","/POKER/6S.png"),this.load.image("7C","/POKER/7C.png"),this.load.image("7D","/POKER/7D.png"),this.load.image("7H","/POKER/7H.png"),this.load.image("7S","/POKER/7S.png"),this.load.image("8C","/POKER/8C.png"),this.load.image("8D","/POKER/8D.png"),this.load.image("8H","/POKER/8H.png"),this.load.image("8S","/POKER/8S.png"),this.load.image("9C","/POKER/9C.png"),this.load.image("9D","/POKER/9D.png"),this.load.image("9H","/POKER/9H.png"),this.load.image("9S","/POKER/9S.png"),this.load.image("TC","/POKER/TC.png"),this.load.image("TD","/POKER/TD.png"),this.load.image("TH","/POKER/TH.png"),this.load.image("TS","/POKER/TS.png"),this.load.image("JC","/POKER/JC.png"),this.load.image("JD","/POKER/JD.png"),this.load.image("JH","/POKER/JH.png"),this.load.image("JS","/POKER/JS.png"),this.load.image("QC","/POKER/QC.png"),this.load.image("QD","/POKER/QD.png"),this.load.image("QH","/POKER/QH.png"),this.load.image("QS","/POKER/QS.png"),this.load.image("KC","/POKER/KC.png"),this.load.image("KD","/POKER/KD.png"),this.load.image("KH","/POKER/KH.png"),this.load.image("KS","/POKER/KS.png"),this.load.image("AC","/POKER/AC.png"),this.load.image("AD","/POKER/AD.png"),this.load.image("AH","/POKER/AH.png"),this.load.image("AS","/POKER/AS.png"),this.load.image("actionButton","actionButton.png"),this.load.image("raiseButton","趴數按鈕-未按下.png"),this.load.image("eye","eye.png"),this.load.image("barBg","bar-bg.png"),this.load.image("handle","handle.png"),this.load.image("-","Negative_button.png"),this.load.image("+","plus_button.png"),this.load.image("myBrand","myBrand.png"),this.load.image("playerBrand","Negative_button.png"),this.load.image("test","test.jpg")}create(){this.scene.isActive("PokerMainMenu")||this.scene.isSleeping("PokerMainMenu")?this.scene.wake("PokerMainMenu"):this.scene.start("PokerMainMenu"),console.log("PokerPreloader")}}class $x{constructor(e){a(this,"apiBaseUrl"),a(this,"token",""),a(this,"handId",""),a(this,"playerSeatNumber",0),a(this,"tableState",{maxPlayers:8,currentPlayers:[],minBuyIn:"600",maxBuyIn:"2000",myNumber:0}),a(this,"userActionList",{}),a(this,"gameState",null),this.apiBaseUrl=e,this.token=localStorage.getItem("token")||""}setPlayerSeatNumber(e){this.playerSeatNumber=e,this.tableState.myNumber=e}getPlayerSeatNumber(){return this.playerSeatNumber||this.tableState.myNumber||0}initGameState(e,t){try{this.tableState={...this.tableState,tableId:e,myNumber:t},this.gameState={players:[],communityCards:[],pot:0,gamePhase:"waiting",currentPlayer:null,availableActions:[]}}catch(a){console.error("初始化遊戲狀態時出錯:",a)}}setHandId(e){this.handId=e}updateTableState(e){try{console.log("更新牌桌狀態:",e),this.tableState={...this.tableState,...e},setTimeout((()=>{try{console.log("發出表格狀態更新事件:",this.tableState);const e=document.getElementById("game-container");if(!e||0===e.children.length)return void console.log("遊戲容器不存在或為空，不發送事件");Ix.emit("table-state-updated",this.tableState)}catch(e){console.error("發出表格狀態更新事件時出錯:",e)}}),0)}catch(t){console.error("更新牌桌狀態時出錯:",t)}}clearAllEventListeners(){Ix.off("table-state-updated"),Ix.off("current-scene-ready"),console.log("GameStateManager: 所有事件監聽器已清除")}sitDownApi(e,t){var a;try{const s=localStorage.getItem("token")||"",n=(null==(a=this.tableState)?void 0:a.tableId)||"";if(!s||!n)return console.error("缺少必要參數：token 或 tableId"),Promise.reject("缺少必要參數：token 或 tableId");const i=Ho(`/api/v1/tables/${n}/join`),o={buy_in:e};return void 0!==t&&(o.seat_number=t),fetch(i,{method:"POST",headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"},body:JSON.stringify(o)}).then((e=>{if(401===e.status)console.error("認證失敗，需要重新登入");else if(!e.ok)throw new Error(`HTTP 錯誤: ${e.status}`);return e.json()})).then((e=>{console.log("加入牌桌成功",e),this.tableState})).catch((e=>{throw console.error("加入牌桌失敗:",e),e}))}catch(s){return console.error("發送入座請求時出錯:",s),Promise.reject(s)}}leaveTableApi(e){var t;try{const a=localStorage.getItem("token")||"",s=(null==(t=this.tableState)?void 0:t.tableId)||"";if(!a||!s)return console.error("缺少必要參數：token 或 tableId"),Promise.reject("缺少必要參數：token 或 tableId");const n=Ho(`/api/v1/tables/${e}/leave`);return fetch(n,{method:"POST",headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}}).then((e=>{if(401===e.status)console.error("認證失敗，需要重新登入");else if(!e.ok)throw new Error(`HTTP 錯誤: ${e.status}`);return e.json()})).then((e=>(console.log("離開牌桌成功",e),{success:!0,data:e}))).catch((e=>(console.error("離開牌桌失敗:",e),{success:!1,error:e})))}catch(a){return console.error("發送離開牌桌請求時出錯:",a),Promise.reject(a)}}myAction(e,t){var a;try{const s=localStorage.getItem("token")||"",n=(null==(a=this.tableState)?void 0:a.handId)||"";if(!s||!n)return console.error("缺少必要參數：token 或 handId"),Promise.reject("缺少必要參數：token 或 tableId");const i=Ho(`/api/v1/hands/${n}/action`);return fetch(i,{method:"POST",headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"},body:JSON.stringify({action:e,amount:t})}).then((e=>{if(401===e.status)console.error("認證失敗，需要重新登入");else if(!e.ok)throw new Error(`HTTP 錯誤: ${e.status}`);return e.json()})).then((e=>{})).catch((e=>{console.error("行動失敗:",e)}))}catch(s){return console.error("發送行動請求時出錯:",s),Promise.reject(s)}}async showHandApi(e){var t;try{const a=localStorage.getItem("token")||"",s=(null==(t=this.tableState)?void 0:t.tableId)||"",n=Ho(`/api/v1/tables/${s}/show-cards`),i=await fetch(n,{method:"POST",headers:{Authorization:`Bearer ${a}`},body:JSON.stringify({card_index:e})});if(!i.ok)throw new Error(`HTTP error! Status: ${i.status}`)}catch(a){}}sitDown(e,t){try{const a=e.toString();return this.sitDownApi(a,t)}catch(a){return console.error("坐下操作失敗:",a),Promise.reject(a)}}getTableState(){return this.tableState}getCurrentPlayers(){return this.tableState.currentPlayers||[]}sendPlayerAction(e){return this.handId?fetch(`${this.apiBaseUrl}/api/v1/hands/${this.handId}/action`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.token}`},body:JSON.stringify(e)}).then((e=>e.ok?e.json():e.json().then((e=>{throw new Error(e.message||"發送玩家操作失敗")})))).then((e=>{})).catch((e=>{console.error("發送玩家操作失敗:",e)})):(console.error("未設置手牌ID，無法發送玩家操作"),Promise.reject(new Error("未設置手牌ID，無法發送玩家操作")))}clearEventListeners(){try{Ix.off("game-state-updated"),console.log("GameStateManager: 所有事件監聽器已清除")}catch(e){console.error("清除事件監聽器時出錯:",e)}}resetState(){try{this.tableState={maxPlayers:0,currentPlayers:[],handId:"",tableId:"",tournamentId:"",tableName:"",mainBuyIn:"",maxBuyIn:"",sitDownButton:!1,tableStatus:"",playHand:"",myNumber:0,canDoAction:[],call:"0",mainRaise:"0",maxRaise:"0",myHandCard:[],allChipAdditionBox:[],potAmountBox:"0",potWinner:{},publicCard:[]},this.setPlayerSeatNumber(0)}catch(e){console.error("重置狀態時出錯:",e)}}}const Mx=new $x("");class Lx extends s.Scene{constructor(){super("PokerWait"),a(this,"buyInWindow"),a(this,"buyInSlider",null),a(this,"buyInValue"),a(this,"buyInMinValue",600),a(this,"buyInMaxValue",1e3),a(this,"currentBuyInValue",600),a(this,"selectedSeat",0),a(this,"exitButton"),a(this,"leaveButton"),a(this,"isTransitioning",!1)}init(){this.isTransitioning=!1;const{width:e,height:t}=this.scale;this.add.image(e/2,t/2,"background").setDisplaySize(e,t),this.add.text(e/2,t/2,"等待其他玩家加入...",{fontFamily:"Arial",fontSize:"24px",color:"#ffffff",align:"center"}).setOrigin(.5),console.log("PokerWait 場景初始化完成")}create(){const{width:e,height:t}=this.scale;this.add.text(e/2,t/2,"等待其他玩家加入...",{fontFamily:"Arial",fontSize:"24px",color:"#ffffff",align:"center"}).setOrigin(.5),this.connectToGameState(),this.initBuyInValues(),0===Mx.tableState.myNumber&&this.createBuyInWindow(),this.createExitButton(),this.createLeaveButton(),this.checkAndTransitionToGame()}checkAndTransitionToGame(){Mx.tableState&&!1===Mx.tableState.turboData.waitButton&&!this.isTransitioning&&(console.log("檢測到可以進入遊戲，準備轉換到 PokerGameTurbo 場景"),this.isTransitioning=!0,this.tweens.killAll(),this.time.delayedCall(500,(()=>{if(this.scene&&this.scene.isActive()){if(console.log("正在轉換到 PokerGameTurbo 場景"),!Mx.tableState||!0!==Mx.tableState.turboData.waitButton)return console.log("狀態已變更，取消場景轉換"),void(this.isTransitioning=!1);this.scene.start("PokerGameTurbo")}else console.log("場景已不再活躍，取消轉換"),this.isTransitioning=!1})))}connectToGameState(){Ix.on("table-state-updated",(e=>{e&&!1===e.turboData.waitButton&&!this.isTransitioning&&(console.log("收到狀態更新，準備轉換到 PokerGameTurbo 場景"),this.checkAndTransitionToGame())}))}initBuyInValues(){if(Mx.tableState){const e=Mx.tableState.mainBuyIn,t=Mx.tableState.maxBuyIn;this.buyInMinValue=parseInt(e),this.buyInMaxValue=parseInt(t),this.currentBuyInValue=this.buyInMinValue}}createBuyInWindow(){const{width:e,height:t}=this.scale;this.buyInWindow=this.add.container(e/2,t/2),this.buyInWindow.setDepth(100),this.buyInWindow.setVisible(!0);const a=this.add.rectangle(0,0,400,300,0,.8);a.setStrokeStyle(2,16777215);const s=this.add.text(0,-120,"請選擇買入金額",{fontFamily:"Arial",fontSize:"24px",color:"#ffffff",align:"center"}).setOrigin(.5),n=this.add.text(-180,-50,`最小: ${this.buyInMinValue}`,{fontFamily:"Arial",fontSize:"18px",color:"#ffffff"}).setOrigin(0,.5),i=this.add.text(180,-50,`最大: ${this.buyInMaxValue}`,{fontFamily:"Arial",fontSize:"18px",color:"#ffffff"}).setOrigin(1,.5);this.buyInValue=this.add.text(0,0,`${this.currentBuyInValue}`,{fontFamily:"Arial",fontSize:"32px",color:"#ffcc00",align:"center"}).setOrigin(.5);const o=this.add.rectangle(0,50,300,10,6710886),l=this.add.circle(-150,50,15,16777215).setInteractive({draggable:!0});l.on("drag",((e,t)=>{t=Phaser.Math.Clamp(t,-150,150),l.x=t;const a=(t- -150)/300;this.currentBuyInValue=Math.round(this.buyInMinValue+a*(this.buyInMaxValue-this.buyInMinValue)),this.buyInValue.setText(`${this.currentBuyInValue}`)}));const r=this.add.rectangle(0,100,120,40,43520),c=this.add.text(0,100,"確認",{fontFamily:"Arial",fontSize:"18px",color:"#ffffff"}).setOrigin(.5);r.setInteractive(),r.on("pointerdown",(()=>{this.confirmBuyIn()})),this.buyInWindow.add([a,s,n,i,this.buyInValue,o,l,r,c])}confirmBuyIn(){console.log(`確認買入: ${this.currentBuyInValue}`),Mx.sitDown(this.currentBuyInValue),this.hideBuyInWindow()}hideBuyInWindow(){this.buyInWindow&&this.buyInWindow.setVisible(!1)}createExitButton(){const{width:e,height:t}=this.scale;this.exitButton=this.add.image(.15*e,.1*t,"btn-back").setDepth(100).setInteractive();const a=.4;this.exitButton.setScale(a),this.exitButton.on("pointerover",(()=>{this.exitButton.setScale(1.1*a),this.input.setDefaultCursor("pointer")})),this.exitButton.on("pointerout",(()=>{this.exitButton.setScale(a),this.input.setDefaultCursor("default")})),this.exitButton.on("pointerdown",(()=>{this.exitButton.setScale(.9*a)})),this.exitButton.on("pointerup",(()=>{this.exitButton.setScale(1.1*a),this.exitToSelectTable()}))}exitToSelectTable(){try{this.time.delayedCall(100,(()=>{window.location.href="/game/select"}))}catch(e){console.error("離開牌桌時出錯:",e),window.location.href="/game/select"}}createLeaveButton(){var e;const{width:t,height:a}=this.scale;""===(null==(e=Mx.tableState)?void 0:e.tournamentId)?(this.leaveButton=this.add.image(.85*t,.09*a,"leave").setDisplaySize(55,55).setDepth(20).setInteractive(),this.leaveButton.on("pointerdown",(()=>{this.handleLeaveTable()}))):(this.leaveButton=this.add.image(t-27.5-20,47.5,"trophy").setDisplaySize(55,55).setDepth(20).setInteractive(),this.leaveButton.on("pointerdown",(()=>{var e;window.location.href="/game/tournament?id="+(null==(e=Mx.tableState)?void 0:e.tournamentId)})))}handleLeaveTable(){this.tweens.add({targets:this.leaveButton,alpha:{from:1,to:.5},yoyo:!0,duration:150,repeat:1,onComplete:()=>{var e;this.leaveButton.setAlpha(.5),this.leaveButton.disableInteractive(),Mx.leaveTableApi(null==(e=Mx.tableState)?void 0:e.tableId),"turbo"===Mx.tableState.tableType&&(window.location.href="/game/select")}})}update(){}shutdown(){Ix.off("table-state-updated"),this.buyInWindow&&this.buyInWindow.destroy(),this.exitButton&&this.exitButton.destroy(),this.leaveButton&&this.leaveButton.destroy(),console.log("PokerWait 場景關閉")}}class Nx{constructor(e){a(this,"scene"),a(this,"graphics"),a(this,"progressBar",null),a(this,"progressBarBg",null),a(this,"timeEvent",null),a(this,"initialTime",0),a(this,"currentTime",0),a(this,"width",100),a(this,"height",10),a(this,"isActive",!1),a(this,"onComplete",null),a(this,"showText",!0),a(this,"countdownText",null),this.scene=e,this.graphics=e.add.container(0,0)}start(e,t,a=0,s=0,n=100,i=10,o=!0,l){this.stop();const r=1e3*e,c=1e3*t,u=c-r,d=Math.ceil(u/1e3);this.initialTime=d,this.currentTime=d,this.width=n,this.height=i,this.isActive=!0,this.showText=o,this.onComplete=l||null,this.graphics.removeAll(!0),this.progressBarBg=this.scene.add.graphics(),this.progressBarBg.fillStyle(0,.7),this.progressBarBg.fillRoundedRect(-n/2,-i/2,n,i,i/2),this.progressBarBg.lineStyle(2,16777215,.8),this.progressBarBg.strokeRoundedRect(-n/2,-i/2,n,i,i/2),this.progressBarBg.setDepth(15),this.graphics.add(this.progressBarBg),this.progressBar=this.scene.add.graphics(),this.updateProgressBar(1),this.progressBar.setDepth(16),this.graphics.add(this.progressBar),this.showText&&(this.countdownText=this.scene.add.text(0,-i-5,d.toString(),{fontFamily:"Arial",fontSize:"14px",color:"#FFFFFF",stroke:"#000000",strokeThickness:1}).setOrigin(.5).setDepth(17),this.graphics.add(this.countdownText)),this.timeEvent=this.scene.time.addEvent({delay:1e3,callback:()=>{const e=Date.now();if(e>=c)return this.onComplete&&this.onComplete(),void this.stop();const t=c-e;this.currentTime=Math.ceil(t/1e3);const a=(e-r)/u;this.updateProgressBar(1-a),this.showText&&this.countdownText&&this.countdownText.setText(this.currentTime.toString()),this.currentTime<=3&&(this.showText&&this.countdownText&&"#FF0000"!==this.countdownText.style.color&&(this.countdownText.setColor("#FF0000"),this.scene.tweens.add({targets:this.countdownText,scale:{from:1,to:1.3},duration:300,yoyo:!0,repeat:-1,ease:"Sine.easeInOut"})),this.progressBar&&!this.progressBar.getData("flashing")&&(this.progressBar.setData("flashing",!0),this.scene.tweens.add({targets:this.progressBar,alpha:{from:1,to:.5},duration:200,yoyo:!0,repeat:-1,ease:"Sine.easeInOut"})))},callbackScope:this,loop:!0}),this.scene.tweens.add({targets:this.progressBarBg,alpha:{from:1,to:.7},duration:500,yoyo:!0,repeat:-1})}updateTimestamps(e,t){if(!this.isActive||!this.timeEvent)return;const a=1e3*e,s=1e3*t,n=Date.now(),i=s-a,o=Math.ceil(i/1e3),l=s-n,r=Math.ceil(l/1e3);if(this.initialTime=o,this.currentTime=r,r<=0)return this.onComplete&&this.onComplete(),void this.stop();this.showText&&this.countdownText&&(this.countdownText.setText(r.toString()),r<=3?(this.countdownText.setColor("#FF0000"),this.countdownText.getData("pulsing")||(this.countdownText.setData("pulsing",!0),this.scene.tweens.add({targets:this.countdownText,scale:{from:1,to:1.3},duration:300,yoyo:!0,repeat:-1,ease:"Sine.easeInOut"}))):(this.countdownText.setColor("#FFFFFF"),this.countdownText.setData("pulsing",!1),this.countdownText.setScale(1),this.scene.tweens.killTweensOf(this.countdownText)));const c=(n-a)/i;this.updateProgressBar(1-c)}updateProgressBar(e){if(!this.progressBar)return;this.progressBar.clear();let t=65280;e<.6&&e>=.3?t=16776960:e<.3&&(t=16711680),this.progressBar.fillStyle(t,1);const a=this.width*e;a>0&&this.progressBar.fillRoundedRect(-this.width/2,-this.height/2,a,this.height,this.height/2)}stop(){this.timeEvent&&(this.timeEvent.remove(),this.timeEvent=null),this.graphics&&this.graphics.removeAll(!0),this.progressBar=null,this.progressBarBg=null,this.countdownText=null,this.isActive=!1}isRunning(){return this.isActive}getRemainingTime(){return this.currentTime}setPosition(e,t){this.graphics&&this.graphics.setPosition(e,t)}setBarColor(e){this.progressBar&&this.updateProgressBar(this.currentTime/this.initialTime)}destroy(){this.stop(),this.graphics&&this.graphics.destroy(),this.scene=null,this.onComplete=null,this.progressBar=null,this.progressBarBg=null,this.timeEvent=null,this.countdownText=null,this.initialTime=0,this.currentTime=0}}class Rx{constructor(e){a(this,"container",null),a(this,"avatar",null),a(this,"name",null),a(this,"chips",null),a(this,"betChips",null),a(this,"betChipImage",null),a(this,"infoBox",null),a(this,"cards",[]),a(this,"seatButton",null),a(this,"countdownEffect",null),a(this,"seatNumber"),a(this,"isOccupied",!1),this.seatNumber=e}clear(e){this.container&&this.container.destroy?this.container.destroy():(this.avatar&&this.avatar.destroy&&this.avatar.destroy(),this.name&&this.name.destroy&&this.name.destroy(),this.chips&&this.chips.destroy&&this.chips.destroy(),this.betChips&&this.betChips.destroy&&this.betChips.destroy(),this.betChipImage&&this.betChipImage.destroy&&this.betChipImage.destroy(),this.infoBox&&this.infoBox.destroy&&this.infoBox.destroy(),this.seatButton&&this.seatButton.destroy&&this.seatButton.destroy(),this.cards.forEach((e=>{e&&e.destroy&&e.destroy()}))),this.countdownEffect&&this.countdownEffect.stop(),this.avatar=null,this.name=null,this.chips=null,this.betChips=null,this.betChipImage=null,this.infoBox=null,this.seatButton=null,this.cards=[],this.countdownEffect=null,this.isOccupied=!1}createElements(e,t,a,s,n){try{this.container=e.add.container(a.x,a.y),this.container.setDepth(1);const i=e.add.rectangle(0,0,1,1,0,0);if(i.setAlpha(0),this.container.add(i),t.player&&"empty"!==t.status){if(this.avatar=e.add.image(0,-40,t.player.character).setScale(.7).setDepth(1),this.container.add(this.avatar),this.infoBox=e.add.image(0,90,"myBrand").setScale(.9).setDepth(2),this.container.add(this.infoBox),this.name=e.add.text(0,100,t.player.nickname,{fontFamily:"Arial",fontSize:"52px",color:"#fff",stroke:"#000000",strokeThickness:1,align:"center"}).setDepth(3).setScale(.5).setOrigin(.5),this.container.add(this.name),0!==t.show_hole_cards){const a=this.getHandRankName(t.seat_hand.best_rank);this.chips=e.add.text(0,75,a,{fontFamily:"Arial",fontSize:"56px",color:"#ffda47",stroke:"#000000",strokeThickness:1,align:"center"}).setDepth(3).setScale(.5).setOrigin(.5)}else"away"===t.status?this.chips=e.add.text(0,75,"斷線中...",{fontFamily:"Arial",fontSize:"48px",color:"#ff0000ff",stroke:"#000000",strokeThickness:1,align:"center"}).setDepth(3).setScale(.5).setOrigin(.5):"folded"===t.status?this.chips=e.add.text(0,75,"棄牌",{fontFamily:"Arial",fontSize:"48px",color:"#ff0000ff",stroke:"#000000",strokeThickness:1,align:"center"}).setDepth(3).setScale(.5).setOrigin(.5):this.chips=e.add.text(0,75,t.chips,{fontFamily:"Arial",fontSize:"56px",color:"#ffda47",stroke:"#000000",strokeThickness:1,align:"center"}).setDepth(3).setScale(.5).setOrigin(.5);if(this.container.add(this.chips),t.hole_cards){for(let a=0;a<t.hole_cards.length;a++){const s=e.add.image(40*a-20,30,t.hole_cards[a]).setScale(.06).setDepth(1);this.cards.push(s)}this.container.add(this.cards)}t.number===s&&(this.seatButton=e.add.image(a.x+70,a.y-10,"按鈕位").setDisplaySize(50,50).setDepth(15),this.container.add(this.seatButton)),t.number===n.seatNumber&&(this.countdownEffect=new Nx(e),this.countdownEffect.graphics.setPosition(0,120),this.container.add(this.countdownEffect.graphics),this.countdownEffect.start(n.startTime,n.endTime,0,0,180,5,!1)),this.isOccupied=!0}return this.container}catch(i){console.error("創建座位元素時出錯:",i)}}update(e,t,a,s,n){if(this.container&&this.container.setPosition(a.x,a.y),"empty"!==t.status&&t.player){if(this.avatar&&this.avatar.setTexture(t.player.character),this.name&&this.name.setText(t.player.nickname),this.chips)if(0!==t.show_hole_cards){const e=this.getHandRankName(t.seat_hand.best_rank);this.chips.setText(e)}else"away"===t.status?(this.chips.setText("斷線中..."),this.chips.setStyle({fontFamily:"Arial",fontSize:"48px",color:"#ff4747",stroke:"#000000",strokeThickness:1,align:"center"}),this.chips.setScale(.5)):"folded"===t.status?(this.chips.setText("棄牌"),this.chips.setStyle({fontFamily:"Arial",fontSize:"48px",color:"#ff4747",stroke:"#000000",strokeThickness:1,align:"center"}),this.chips.setScale(.5)):this.chips.setText(t.chips);if(t.hole_cards&&this.cards)for(let e=0;e<t.hole_cards.length;e++){const a=this.cards[e].setTexture(t.hole_cards[e]).setScale(.06).setDepth(1);this.cards[e]=a}t.number===s?this.seatButton?this.seatButton.setTexture("按鈕位").setDisplaySize(50,50).setDepth(15):(this.seatButton=e.add.image(70,-10,"按鈕位").setDisplaySize(50,50).setDepth(15),this.container&&this.container.add(this.seatButton)):this.seatButton&&(this.seatButton.destroy(),this.seatButton=null),this.isOccupied=!0}t.number===n.seatNumber?(this.countdownEffect||(this.countdownEffect=new Nx(e),this.container&&(this.countdownEffect.graphics.setPosition(0,120),this.container.add(this.countdownEffect.graphics))),this.countdownEffect.start(n.startTime,n.endTime,0,0,180,5,!1)):this.countdownEffect&&(this.countdownEffect.stop(),this.container&&this.countdownEffect.graphics.parentContainer===this.container&&this.container.remove(this.countdownEffect.graphics),this.countdownEffect=null)}getContainer(){return this.container}getHandRankName(e){return{none:"無牌型",high_card:"高牌",pair:"對子",two_pair:"兩對",three_of_a_kind:"三條",straight:"順子",flush:"同花",full_house:"葫蘆",four_of_a_kind:"四條",straight_flush:"同花順",royal_flush:"皇家同花順"}[e]||e}}class jx{constructor(e){a(this,"scene"),a(this,"width"),a(this,"height"),a(this,"seats",[]),a(this,"playerSeatButton",[]),this.scene=e;const{width:t,height:s}=e.scale;this.width=t,this.height=s}clearSeats(){try{this.seats.forEach((e=>{e&&e.destroy&&e.destroy()})),this.seats=[]}catch(e){console.error("清空座位時出錯:",e)}}createPlayerPositions(e){var t,a,s,n,i;try{if(!this.scene||!this.scene.add)return console.error("場景無效或已被銷毀"),{seats:[]};if(!e.tableState)return console.error("tableState 不存在"),{seats:[]};const o=(null==(t=e.tableState)?void 0:t.maxPlayers)||6,l=this.width/2,r=this.height/2,c=(null==(a=e.tableState)?void 0:a.seatButton)||0,u=null==(s=e.tableState)?void 0:s.seatTime,d=e.getPlayerSeatNumber();this.clearSeats();const h=[];for(let e=1;e<=o;e++)e!==d&&h.push(e);h.sort(((e,t)=>(e-d+o)%o-(t-d+o)%o)),Date.now(),Date.now();const p=e.tableState.allSeats,f=new Phaser.Geom.Ellipse(l,r,500,1e3),m=e.tableState.maxPlayers||0,g=[];if(this.seats.length===m){const e=m-1;for(let t=1;t<=e;t++){const e=t-1,a=h[e];if("empty"!==(null==(n=p[a])?void 0:n.status))if(this.seats[e]instanceof Rx){const t=this.seats[e];t.update(this.scene,p[a],{x:0,y:0},c,u),g.push(t.getContainer())}else{this.seats[e]&&this.seats[e].destroy&&this.seats[e].destroy();const s=new Rx(t).createElements(this.scene,p[a],{x:0,y:0},c,u);this.seats[e]=s,s&&g.push(s)}else{this.seats[e]instanceof Rx?this.seats[e].clear(this.scene):this.seats[e]&&this.seats[e].destroy&&this.seats[e].destroy();const t=this.scene.add.image(0,0,"seatButton").setScale(.6).setDepth(10).setInteractive();this.seats[e]=t,g.push(t)}}}else{this.seats=[];const e=m-1;for(let t=1;t<=e;t++){const e=h[t-1];if("empty"!==(null==(i=p[e])?void 0:i.status)){const a=new Rx(t),s=a.createElements(this.scene,p[e],{x:0,y:0},c,u);this.seats.push(a),s&&g.push(s)}else{const a=new Rx(t).createElements(this.scene,p[e],{x:0,y:0},c,u);this.seats.push(a),g.push(a)}}}this.seats=g;const v=Phaser.Math.DegToRad(173),b=Phaser.Math.DegToRad(399);return Phaser.Actions.PlaceOnEllipse(this.seats,f,v,b),this.seats}catch(o){console.error("創建玩家位置時出錯:",o)}}getPlayerSeatButton(){return this.playerSeatButton}destroy(){this.clearSeats(),this.scene=null}}class zx{constructor(e){a(this,"scene"),a(this,"chipSprites",[]),this.scene=e}moveBetChipsToPool(e,t,a){const{width:s,height:n}=this.scene.scale,i=s/2,o=n/2+30;let l=0,r=0,c=!1;e.forEach(((e,s)=>{if(e&&e.text){c=!0,l++;const s=e.x,n=e.y,u=e.text,d=this.scene.add.text(s,n,u,{fontFamily:"Arial",fontSize:"56px",color:"#ffcc00",stroke:"#000000",strokeThickness:1,align:"center"}).setOrigin(.5).setScale(.25).setDepth(12);t.push(d),this.scene.tweens.add({targets:d,x:i,y:o,duration:800,ease:"Power2",delay:100,onComplete:()=>{this.scene.tweens.add({targets:d,alpha:0,duration:300,ease:"Power2",onComplete:()=>{r++,r===l&&(console.log("所有籌碼動畫完成"),a())}}),this.scene.tweens.add({targets:e,alpha:0,duration:300,ease:"Power2"})}})}})),c?0===l&&(console.log("需要移動的籌碼數量為0"),a()):(console.log("沒有有效的籌碼可以移動",e),a())}moveChipsToWinners(e,t,a,s,n,i=[],o){this.cleanupPreviousAnimations(n,i);let l=a.x,r=a.y;const c=e/t.length;let u=0,d=0;t.forEach((e=>{const t=s(e.seatNumber);let a=t.x,h=t.y;const p=Math.min(5,Math.max(1,Math.floor(c/100)));u+=p+1;for(let s=0;s<p;s++){const e=this.scene.add.circle(l+(20*Math.random()-10),r+(20*Math.random()-10),10,16763904);e.setStrokeStyle(1,16777215),e.setDepth(3),n.push(e),this.scene.tweens.add({targets:e,x:a+(20*Math.random()-10),y:h+(20*Math.random()-10),duration:800,ease:"Power2",delay:100*s,onComplete:()=>{this.scene.tweens.add({targets:e,alpha:0,duration:500,ease:"Power2",delay:500,onComplete:()=>{e.destroy(),d++,this.checkAllAnimationsComplete(d,u,o)}})}})}const f=this.scene.add.text(a,h-30,`+${c.toFixed(0)}`,{fontFamily:"Arial",fontSize:"64px",color:"#ffcc00",stroke:"#000000",strokeThickness:1}).setOrigin(.5).setScale(.25).setDepth(3);i.push(f),this.scene.tweens.add({targets:f,y:h-50,alpha:0,duration:1500,ease:"Power2",delay:1e3})})),0!==t.length&&0!==u||o&&o()}cleanupPreviousAnimations(e,t){for(;e.length>0;){const t=e.pop();t&&t.destroy()}for(;t.length>0;){const e=t.pop();e&&e.destroy()}}checkAllAnimationsComplete(e,t,a){e>=t&&a&&(console.log("所有贏家籌碼動畫完成"),a())}clearChips(){this.chipSprites.forEach((e=>{e&&e.destroy()})),this.chipSprites=[],this.scene.tweens.killAll()}destroy(){this.clearChips()}}class Vx{constructor(e){a(this,"scene"),a(this,"betSliderContainer"),a(this,"betSliderHandle"),a(this,"betAmountText"),a(this,"currentBetAmount"),a(this,"actionButtons",[]),a(this,"sliderBgWhite"),a(this,"sliderBgGreen"),this.scene=e}createBetSlider(e,t,a,s){this.actionButtons=s;const{width:n}=this.scene.scale,i=n/2-160,o=n/2+10,l=a-70;this.betSliderContainer=this.scene.add.container(0,0),this.betSliderContainer.setDepth(10);const r=n/2-160,c=l-5,u=this.scene.add.graphics().setDepth(3);u.fillStyle(0,.8),u.lineStyle(2,14530389,1),u.fillRoundedRect(o-r/2,c-60-25,r,120,10),u.strokeRoundedRect(o-r/2,c-60-25,r,120,10),this.betSliderContainer.add(u),this.betAmountText=this.scene.add.text(o,c-60,`$${e}`,{fontFamily:"Arial",fontSize:"34px",color:"#ddb755",backgroundColor:"#000000",align:"center"}).setOrigin(.5).setScale(1),this.betSliderContainer.add(this.betAmountText);const d=this.scene.add.image(o-45,c+5,"-").setScale(.8).setInteractive(),h=this.scene.add.image(o+45,c+5,"+").setScale(.8).setInteractive();this.betSliderContainer.add([d,h]),this.sliderBgWhite=this.scene.add.rectangle(o,l-35,i,15,3033152,1).setOrigin(.5),this.betSliderContainer.add(this.sliderBgWhite),this.sliderBgGreen=this.scene.add.rectangle(o-i/2,l-35,0,15,16503695,1).setOrigin(0,.5),this.betSliderContainer.add(this.sliderBgGreen),this.betSliderHandle=this.scene.add.image(o-i/2+10,l-35,"handle").setInteractive({draggable:!0}).setScale(1),this.betSliderContainer.add(this.betSliderHandle);const p=o-i/2+10,f=o+i/2-10,m=parseInt(e),g=parseInt(t);return this.betSliderHandle.x=p,this.currentBetAmount=e,this.scene.input.on("drag",((e,t,a)=>{if(t===this.betSliderHandle){const e=Phaser.Math.Clamp(a,p,f);t.x=e,this.updateGreenBar(e,p,f);const s=(e-p)/(f-p),n=Math.floor(m+s*(g-m));this.currentBetAmount=n.toString(),this.betAmountText&&this.betAmountText.setText(`$${this.currentBetAmount}`),this.updateBetButtonTexts()}})),this.betAmountText.setInteractive().on("pointerdown",(()=>{const t=parseInt(this.currentBetAmount),a=parseInt(e),s=Math.min(t+a,g);this.currentBetAmount=s.toString(),this.betAmountText.setText(`$${this.currentBetAmount}`);const n=(s-m)/(g-m);this.betSliderHandle.x=p+n*(f-p),this.updateGreenBar(this.betSliderHandle.x,p,f),this.updateBetButtonTexts(),this.scene.tweens.add({targets:this.betAmountText,scale:{from:1.2,to:1},duration:150,ease:"Power2"})})),h.on("pointerdown",(()=>{const t=parseInt(this.currentBetAmount),a=parseInt(e),s=Math.min(t+a,g);this.currentBetAmount=s.toString(),this.betAmountText.setText(`$${this.currentBetAmount}`);const n=(s-m)/(g-m);this.betSliderHandle.x=p+n*(f-p),this.updateGreenBar(this.betSliderHandle.x,p,f),this.updateBetButtonTexts(),this.scene.tweens.add({targets:h,scale:{from:.6,to:.5},duration:100})})),d.on("pointerdown",(()=>{const t=parseInt(this.currentBetAmount),a=parseInt(e),s=Math.max(t-a,m);this.currentBetAmount=s.toString(),this.betAmountText.setText(`$${this.currentBetAmount}`);const n=(s-m)/(g-m);this.betSliderHandle.x=p+n*(f-p),this.updateGreenBar(this.betSliderHandle.x,p,f),this.updateBetButtonTexts(),this.scene.tweens.add({targets:d,scale:{from:.6,to:.5},duration:100})})),this.betSliderContainer}updateGreenBar(e,t,a){if(this.sliderBgGreen){const a=e-t+10;this.sliderBgGreen.width=a}}updateBetButtonTexts(){this.actionButtons.forEach((e=>{const t=e.getData("action");if("下注"===t||"加注"===t){const a=e.getData("textObject");a&&a.setText(`${t} $${this.currentBetAmount}`)}}))}getCurrentBetAmount(){return this.currentBetAmount}setCurrentBetAmount(e){this.currentBetAmount=e,this.betAmountText&&this.betAmountText.setText(`$${e}`),this.updateBetButtonTexts()}show(){this.betSliderContainer&&this.betSliderContainer.setVisible(!0)}hide(){this.betSliderContainer&&this.betSliderContainer.setVisible(!1)}destroy(){this.betSliderContainer&&this.betSliderContainer.destroy()}}class Hx{constructor(e){a(this,"scene"),a(this,"container",null),a(this,"chipImages",null),a(this,"amountText",null),this.scene=e,this.container=e.add.container(0,0)}clear(){this.container&&this.container.destroy?this.container.destroy():(this.chipImages&&this.chipImages.destroy&&this.chipImages.destroy(),this.amountText&&this.amountText.destroy&&this.amountText.destroy())}createChips(e,t){try{this.container=e.add.container(0,0).setDepth(5),this.container.setData("chipObj",this);const a=e.add.rectangle(0,0,1,1,0,0);if(a.setAlpha(0),this.container.add(a),"0"===t)this.container.setVisible(!1);else{const a=Number(t);this.chipImages=e.add.image(-20,0,this.getChipTexture(a)),this.chipImages.setOrigin(.5,.5).setScale(.5).setDepth(15),this.container.add(this.chipImages),this.amountText=e.add.text(20,0,String(t),{fontFamily:"Arial",fontSize:"28px",color:"#ffcc00",stroke:"#000000",strokeThickness:1,align:"center"}).setOrigin(0,.5).setScale(1).setDepth(15),this.container.add(this.amountText),this.container.setVisible(!0)}return this.container}catch(a){return console.error("創建籌碼元素時出錯:",a),null}}updateChips(e,t){try{if(!this.container)return this.createChips(e,t);if("0"===t)this.container.setVisible(!1);else{const a=Number(t);this.container.setVisible(!0),this.chipImages?this.chipImages.setTexture(this.getChipTexture(a)):(this.chipImages=e.add.image(-20,0,this.getChipTexture(a)),this.chipImages.setOrigin(.5,.5).setScale(.5).setDepth(15),this.container.add(this.chipImages)),this.amountText?this.amountText.setText(String(t)):(this.amountText=e.add.text(20,0,String(t),{fontFamily:"Arial",fontSize:"28px",color:"#ffcc00",stroke:"#000000",strokeThickness:1,align:"center"}).setOrigin(0,.5).setScale(1).setDepth(15),this.container.add(this.amountText))}return this.container}catch(a){return console.error("更新籌碼元素時出錯:",a),null}}getContainer(){return this.container}getChipTexture(e){return e>=1e3?"chip1000":e>=100?"chip100":"chip"}}class Fx{constructor(e){a(this,"scene"),a(this,"actionButtons",[]),a(this,"betSliderManager"),a(this,"chipAddButtons",[]),a(this,"mySeatButtons",[]),a(this,"width"),a(this,"height"),a(this,"countdownEffect",null),a(this,"playerInfoElements",{}),a(this,"foldStayButton",null),a(this,"isFoldStayMode",!1),this.scene=e;const{width:t,height:s}=e.scale;this.width=t,this.height=s}setBetSliderManager(e){this.betSliderManager=e}createMySeat(e){this.createRouteButton(e),this.createPlayerAvatar(e),this.createPlayerInfo(e)}createRouteButton(e){if(!this.scene||!this.scene.add)return void console.log("Scene 無效，無法創建路由按鈕");this.mySeatButtons.length>0&&(this.mySeatButtons.forEach((e=>{e.destroy()})),this.mySeatButtons=[]);const t=e.tableState.tableId,a=e.tableState.mySeatList;Object.keys(a).filter((e=>e!==t)).forEach(((e,t)=>{try{const s=a[e].tableName||`桌子 ${t+1}`,n=this.scene.add.text(50+100*t,30,s,{fontFamily:"Arial",fontSize:"64px",color:"#ffffff"}).setScale(.5).setInteractive();this.mySeatButtons.push(n),n.on("pointerdown",(()=>{Wo().setTableId(e)}))}catch(s){console.error("創建路由按鈕時出錯:",s)}}))}createPlayerAvatar(e){try{const t=.2*this.width,a=this.height-350,s=e.tableState.tableId,n=e.tableState.mySeatList[s].character||"player";s&&e.tableState.mySeatList&&e.tableState.mySeatList[s]||console.warn("創建玩家頭像所需的數據不完整"),this.playerInfoElements.avatar=this.scene.add.image(t,a-20,n).setScale(1.2).setDepth(1)}catch(t){console.error("創建玩家頭像時出錯:",t)}}createPlayerInfo(e){var t,a;try{const s=.2*this.width,n=this.height,i=e.tableState.tableId,o=this.width/2,l=this.height/2+250;if(!i||!e.tableState.mySeatList||!e.tableState.mySeatList[i])return console.warn("創建玩家資料所需的數據不完整"),{nameText:null,chipsText:null};const r=e.tableState.mySeatList[i],c=null==(t=e.tableState)?void 0:t.seatTime,u=(Math.min(this.width,this.height),n-160);this.playerInfoElements.infoBox?this.playerInfoElements.infoBox.setPosition(s,u):this.playerInfoElements.infoBox=this.scene.add.image(s,u,"myBrand").setScale(1.2).setDepth(2);const d=r.playerName||"玩家",h=r.seatNumber,p=r.myCardBestRank||"",f=r.betChips;let m=r.chips||"0",g=r.status||"等待中",v=r.showHoleCards||0;if(this.playerInfoElements.betChips){this.playerInfoElements.betChips instanceof Phaser.GameObjects.Container&&this.playerInfoElements.betChips.destroy();const e=new Hx(this.scene).createChips(this.scene,f);e&&(this.playerInfoElements.betChips=e,this.playerInfoElements.betChips.setPosition(o,l))}else{const e=new Hx(this.scene).createChips(this.scene,f);e&&(this.playerInfoElements.betChips=e,this.playerInfoElements.betChips.setPosition(o,l))}return this.playerInfoElements.nameText?this.playerInfoElements.nameText.setPosition(s,n-175).setText(d):this.playerInfoElements.nameText=this.scene.add.text(s,n-175,d,{fontFamily:"Arial",fontSize:"32px",color:"#ffffff",stroke:"#000000",strokeThickness:1,align:"center"}).setOrigin(.5).setScale(1).setDepth(3),this.playerInfoElements.chipsText?this.playerInfoElements.chipsText.setPosition(s,n-140).setText(m):this.playerInfoElements.chipsText=this.scene.add.text(s,n-140,m,{fontFamily:"Arial",fontSize:"32px",color:"#ffcc00",stroke:"#000000",strokeThickness:1,align:"center"}).setOrigin(.5).setScale(1).setDepth(3),"folded"===g?(m="棄牌",this.playerInfoElements.chipsText.setColor("#ff0000"),this.playerInfoElements.chipsText.setText(m)):0!==v?(this.playerInfoElements.chipsText.setColor("#ffcc00"),this.playerInfoElements.chipsText.setText(p)):(this.playerInfoElements.chipsText.setColor("#ffcc00"),this.playerInfoElements.chipsText.setText(m)),h===c.seatNumber?this.countdownEffect?(console.log("再次更新"),this.countdownEffect.updateTimestamps(c.startTime,c.endTime)):(this.countdownEffect=new Nx(this.scene),this.countdownEffect.start(c.startTime,c.endTime,0,0,240,20),this.countdownEffect.graphics.setPosition(s,n-120)):(null==(a=this.countdownEffect)||a.stop(),this.countdownEffect=null),{nameText:this.playerInfoElements.nameText,chipsText:this.playerInfoElements.chipsText}}catch(s){return console.error("創建玩家資料時出錯:",s),{nameText:null,chipsText:null}}}createActionButtons(e){this.clearActionButtons();const{width:t,height:a}=this.scene.scale,s=e.tableState.tableId,n=e.tableState.mySeatList[s].canDoActions||["leave"],i=this.processActions(n),o=e.tableState.mySeatList[s].call||"0",l=e.tableState.mySeatList[s].mainRaise||"0",r=e.tableState.mySeatList[s].maxRaise||"0";if(0===i.length)return this.actionButtons;const c=(t-(250*i.length+10*(i.length-1)))/2+125,u=a-60;return i.forEach(((e,t)=>{const a=c+260*t,s=this.scene.add.container(a,u);s.setDepth(10);let n=this.scene.add.image(0,0,"actionButton").setDisplaySize(250,120).setInteractive(),i=e;"跟注"===e?i=`跟注 $${o}`:"下注"!==e&&"加注"!==e||(i=`${e} $${l}`);const d=this.scene.add.text(0,0,i,{fontFamily:"Arial",fontSize:"64px",color:"#ffffff",align:"center"}).setOrigin(.5).setScale(.5);if(s.add([n,d]),n.on("pointerdown",(()=>{this.handleActionButtonClick(e)})),this.actionButtons.push(s),s.setData("textObject",d),s.setData("action",e),("下注"===e||"加注"===e)&&this.betSliderManager){const t=l,a=r;this.betSliderManager.createBetSlider(t,a,u,this.actionButtons),this.createChipAddButtons(e)}})),this.actionButtons}processActions(e){if("blind_bet"===e[0])return[];const t=e.filter((e=>"blind_bet"!==e)),a=t.includes("all-in"),s=["bet","raise"].some((e=>t.includes(e)));let n=[];return t.includes("fold")&&n.push("棄牌"),t.includes("call")?n.push("跟注"):t.includes("check")&&n.push("過牌"),t.includes("bet")?n.push("下注"):t.includes("raise")&&n.push("加注"),a&&!s&&n.push("全下"),n}createFoldStayButton(e,t){this.foldStayButton&&(this.foldStayButton.destroy(),this.foldStayButton=null);const a=this.scene.add.container(e,t);a.setDepth(10);let s=this.scene.add.image(0,0,"actionButton").setDisplaySize(120,40).setInteractive();const n=this.scene.add.text(0,0,"棄牌留桌",{fontFamily:"Arial",fontSize:"56px",color:"#ffffff",align:"center"}).setOrigin(.5).setScale(.25);a.add([s,n]),s.on("pointerdown",(()=>{this.isFoldStayMode=!0,s.setTint(65280),n.setColor("#000000")})),this.foldStayButton=a}createChipAddButtons(e){const t=Mx.tableState.allChipAdditionBox;this.chipAddButtons.forEach((e=>{e&&e.destroy&&e.destroy()})),this.chipAddButtons=[];const{width:a,height:s}=this.scene.scale,n=a-220+110,i=s-160,o=e.includes("加注")?"raise":e.includes("下注")?"bet":"raise";t.forEach(((e,t)=>{const a=Object.keys(e)[0],s=e[a],l=i-100*t,r=this.scene.add.container(n,l);r.setDepth(10);const c=this.scene.add.image(0,0,"raiseButton").setDisplaySize(220,90).setInteractive(),u=this.scene.add.text(0,0,`${a} $${s}`,{fontFamily:"Arial",fontSize:"56px",color:"#ffffff",align:"center"}).setOrigin(.5).setScale(.5);r.add([c,u]),c.on("pointerdown",(()=>{Mx.myAction(o,s).then((e=>{console.log("動作成功:",e)})).catch((e=>{console.error("動作失敗:",e)}))})),this.chipAddButtons.push(r),r.setData("chipAddPercentage",a),r.setData("chipAddAmount",s)}))}handleActionButtonClick(e){let t={"棄牌":"fold","跟注":"call","過牌":"check","下注":"bet","加注":"raise","全下":"all-in"}[e];console.log(`玩家點擊了 ${e} 按鈕`),this.isFoldStayMode&&"fold"===t&&(t="fold_stay");let a="0";switch(t){case"fold":case"fold_stay":case"all-in":case"check":a="0";break;case"call":a=Mx.tableState.call||"0";break;case"bet":case"raise":a=this.betSliderManager?this.betSliderManager.getCurrentBetAmount():"0"}Mx.myAction(t,a).then((e=>{console.log("動作成功:",e)})).catch((e=>{console.error("動作失敗:",e)}))}clearActionButtons(){this.actionButtons.forEach((e=>{e&&e.destroy&&e.destroy()})),this.actionButtons=[],this.chipAddButtons.forEach((e=>{e&&e.destroy&&e.destroy()})),this.chipAddButtons=[],this.betSliderManager&&this.betSliderManager.destroy(),this.foldStayButton&&(this.foldStayButton.destroy(),this.foldStayButton=null)}showActionButtons(){this.actionButtons.forEach((e=>{e.setVisible(!0)})),this.chipAddButtons.forEach((e=>{e.setVisible(!0)})),this.betSliderManager&&this.betSliderManager.show()}hideActionButtons(){this.actionButtons.forEach((e=>{e.setVisible(!1)})),this.chipAddButtons.forEach((e=>{e.setVisible(!1)})),this.betSliderManager&&this.betSliderManager.hide()}getActionButtons(){return this.actionButtons}destroy(){this.clearActionButtons(),this.destroyRouteButtons(),this.destroyPlayerInfo(),this.betSliderManager&&this.betSliderManager.destroy(),this.countdownEffect&&this.countdownEffect.stop()}destroyRouteButtons(){this.mySeatButtons.forEach((e=>{e&&e.destroy&&e.destroy()})),this.mySeatButtons=[]}destroyPlayerInfo(){this.playerInfoElements.avatar&&(this.playerInfoElements.avatar.destroy(),this.playerInfoElements.avatar=void 0),this.playerInfoElements.infoBox&&(this.playerInfoElements.infoBox.destroy(),this.playerInfoElements.infoBox=void 0),this.playerInfoElements.nameText&&(this.playerInfoElements.nameText.destroy(),this.playerInfoElements.nameText=void 0),this.playerInfoElements.chipsText&&(this.playerInfoElements.chipsText.destroy(),this.playerInfoElements.chipsText=void 0)}}class Wx{constructor(e,t){a(this,"scene"),a(this,"chipAnimations"),a(this,"lastWinnerState",""),a(this,"potText"),a(this,"potIcon"),a(this,"collectText"),a(this,"collectIcon"),a(this,"sidePotTexts",[]),a(this,"sidePotIcons",[]),a(this,"winnerTexts",[]),a(this,"chipSprites",[]),a(this,"betChipAnimations",!1),a(this,"lastBetChipsState",{}),this.scene=e,this.chipAnimations=t}createPotText(e){return this.clearPotAndWinnerTexts(),this.displayPotAndWinners(e),{potText:this.potText,potIcon:this.potIcon,collectText:this.collectText,collectIcon:this.collectIcon,winnerTexts:this.winnerTexts,chipSprites:this.chipSprites}}clearPotAndWinnerTexts(){this.clearPotText(),this.clearCollectText(),this.clearWinnerTexts(),this.clearCollectTextsAndIcons(),this.clearChipSprites()}clearPotText(){this.potText&&this.potText.destroy&&this.potText.destroy(),this.potIcon&&this.potIcon.destroy&&this.potIcon.destroy(),this.potText=null,this.potIcon=null}clearCollectText(){this.collectText&&this.collectText.destroy&&this.collectText.destroy(),this.collectIcon&&this.collectIcon.destroy&&this.collectIcon.destroy(),this.collectText=null,this.collectIcon=null}clearSidePotTextsAndIcons(){try{this.sidePotTexts.forEach((e=>{e&&e.destroy&&e.destroy()})),this.sidePotIcons.forEach((e=>{e&&e.destroy&&e.destroy()})),this.sidePotTexts=[],this.sidePotIcons=[]}catch(e){console.error("清空邊池時出錯:",e)}}clearWinnerTexts(){this.winnerTexts&&this.winnerTexts.length>0&&(this.winnerTexts.forEach((e=>{e&&e.destroy&&e.destroy()})),this.winnerTexts=[])}clearCollectTextsAndIcons(){try{this.sidePotTexts.forEach((e=>{e&&e.destroy&&e.destroy()})),this.sidePotIcons.forEach((e=>{e&&e.destroy&&e.destroy()})),this.sidePotTexts=[],this.sidePotIcons=[]}catch(e){console.error("清空下注池時出錯:",e)}}clearChipSprites(){this.chipSprites.forEach((e=>{e&&e.destroy&&e.destroy()})),this.chipSprites=[]}displayPotAndWinners(e){const{width:t,height:a}=this.scene.scale,s=e.potAmountBox||"0";e.potCollectBox,e.potSideBox;const n=e.potWinner||{};if("0"!==s){{this.clearPotText();const e=parseInt(s,10)||0;let n="chip";e>=1e3?n="chip1000":e>=100&&(n="chip100"),this.potIcon=this.scene.add.image(t/2-45,a/2-140,n).setOrigin(.5).setDepth(2).setScale(1),this.potText=this.scene.add.text(t/2+30,a/2-140,`底池: ${s}`,{fontFamily:"Arial",fontSize:"56px",color:"#ffffff",stroke:"#000000",strokeThickness:1,align:"center"}).setOrigin(.5).setDepth(2).setScale(.5)}n&&(this.clearSidePotTextsAndIcons(),Object.keys(n).sort(((e,t)=>parseInt(e)-parseInt(t))).forEach(((e,s)=>{const i=n[e],o=i.amount,l=i.players,r=parseInt(String(o),10)||0,c=30*s;let u="chip";r>=1e3?u="chip1000":r>=100&&(u="chip100");const d=this.scene.add.image(t/2-40,a/2+60+c,u).setOrigin(.5).setDepth(2).setScale(1);if(this.sidePotIcons.push(d),l.length>0){const e=l.map((e=>e.name)).join(", "),s=this.scene.add.text(t/2+30,a/2+60+c,`$ ${o} ${e}`,{fontFamily:"Arial",fontSize:"56px",color:"#ffffff",stroke:"#000000",strokeThickness:1,align:"center"}).setOrigin(.5).setDepth(2).setScale(.5);this.sidePotTexts.push(s)}else{const e=this.scene.add.text(t/2+30,a/2+60+c,`$ ${o}`,{fontFamily:"Arial",fontSize:"56px",color:"#ffffff",stroke:"#000000",strokeThickness:1,align:"center"}).setOrigin(.5).setDepth(2).setScale(.5);this.sidePotTexts.push(e)}})))}}displayWinners(e,t,a,s,n){return this.scene.time.delayedCall(1e3,(()=>{this.moveChipsToWinners(s,a,n)})),t+30}moveChipsToWinners(e,t,a){const{width:s,height:n}=this.scene.scale;this.clearChipSprites();const i=this.findSourcePosition(s,n);this.chipAnimations.moveChipsToWinners(e,t,i,(e=>this.getPlayerPositionBySeatNumber(e,a)),this.chipSprites,this.winnerTexts)}findSourcePosition(e,t){const a=this.winnerTexts.filter((e=>e&&e.text&&e.text.startsWith("$:")));let s=e/2,n=t/2+60;if(a.length>0){const e=a[a.length-1];e&&(s=e.x),n=e?e.y:t/2+60}return{x:s,y:n}}getPlayerPositionBySeatNumber(e,t){const a=this.scene;return a.playerBetChips?this.getPositionFromSeats(e,t,a):this.calculatePositionBySeatNumber(e,t)}getPositionFromSeats(e,t,a){const{width:s,height:n}=this.scene.scale,i=(null==t?void 0:t.maxPlayers)||6,o=this.getPlayerSeatNumber(t);if(e===o)return{x:.2*s,y:.75*n};const l=a.playerSeats||[],r=a.playerAvatars||[];if(((null==t?void 0:t.currentPlayers)||[]).find((t=>t&&t.number===e))){const t=.9*s,a=.6*n,o=s/2,l=n/2,c=2*Math.PI/i*(e-1)-Math.PI/2,u=o+Math.cos(c)*(.4*t),d=l+Math.sin(c)*(.6*a),h=r.filter((e=>null!==e&&"object"==typeof e&&"x"in e&&"y"in e)).find((e=>Math.abs(e.x-u)<20&&Math.abs(e.y-d)<20));if(h)return{x:h.x,y:h.y}}else{const t=.9*s,a=.6*n,o=s/2,r=n/2,c=2*Math.PI/i*(e-1)-Math.PI/2,u=o+Math.cos(c)*(.4*t),d=r+Math.sin(c)*(.6*a),h=l.find((e=>Math.abs(e.x-u)<20&&Math.abs(e.y-d)<20));if(h)return{x:h.x,y:h.y}}return this.calculatePositionBySeatNumber(e,t)}calculatePositionBySeatNumber(e,t){const{width:a,height:s}=this.scene.scale,n=(null==t?void 0:t.maxPlayers)||6,i=a/2,o=s/2,l=.9*a,r=.7*s,c=this.getPlayerSeatNumber(t);if(e===c)return{x:.2*a,y:.75*s};const u=[];for(let f=1;f<=n;f++)f!==c&&u.push(f);u.sort(((e,t)=>(e-c+n)%n-(t-c+n)%n));const d=u.indexOf(e);if(-1===d)return{x:i,y:o};const h=Math.PI,p=h-(0-h)*(d/(u.length-1));return{x:i+Math.cos(p)*(.45*l),y:o+Math.sin(p)*(.55*r)}}getPlayerSeatNumber(e){return e&&e.myNumber?e.myNumber:0}destroy(){this.potText&&this.potText.destroy&&(this.potText.destroy(),this.potText=null),this.potIcon&&this.potIcon.destroy&&(this.potIcon.destroy(),this.potIcon=null),this.winnerTexts.forEach((e=>{e&&e.destroy&&e.destroy()})),this.winnerTexts=[],this.clearChipSprites(),this.clearCollectTextsAndIcons(),this.betChipAnimations=!1,this.lastBetChipsState={},this.lastWinnerState=""}}class Ux extends s.Scene{constructor(){super("PokerGameTurbo"),a(this,"background"),a(this,"tableImage"),a(this,"playerAvatars",[]),a(this,"playerNames",[]),a(this,"playerChips",[]),a(this,"playerBetChips",[]),a(this,"playerCards",[]),a(this,"allCards",[]),a(this,"playerInfoBox",[]),a(this,"tableStatusText",[]),a(this,"showHoleCards",[]),a(this,"playerSeatButton",[]),a(this,"seatManager"),a(this,"chipAnimations"),a(this,"potGame"),a(this,"tableId",""),a(this,"playerSeat",0),a(this,"buyInAmount",0),a(this,"sceneReady",!1),a(this,"communityCards",[]),a(this,"currentTableState"),a(this,"potText"),a(this,"potIcon"),a(this,"collectText"),a(this,"collectIcon"),a(this,"winnerTexts",[]),a(this,"chipSprites",[]),a(this,"exitButton"),a(this,"actionButtons",[]),a(this,"betSliderManager"),a(this,"actionButtonManager"),a(this,"leaveButton"),a(this,"betSliderContainer",null),a(this,"betSliderHandle",null),a(this,"betAmountText",null),a(this,"currentBetAmount","0")}init(e){try{const{width:t,height:a}=this.scale;this.add.image(t/2,a/2,"background").setDisplaySize(t,a),this.currentTableState=Mx.tableState,e&&e.tableId&&(this.tableId=e.tableId||"",this.playerSeat=e.playerSeat||0,this.buyInAmount=e.buyInAmount||0),this.playerAvatars=[],this.playerNames=[],this.playerChips=[],this.playerCards=[],this.communityCards=[],this.playerInfoBox=[],this.tableStatusText=[],this.tableStatusText=[],this.allCards=[],this.showHoleCards=[],this.playerSeatButton=[],console.log(`初始化急速桌遊戲場景，牌桌ID: ${this.tableId}, 座位: ${this.playerSeat}, 買入: ${this.buyInAmount}`)}catch(t){console.error("初始化遊戲場景時出錯:",t)}}create(){try{this.seatManager=new jx(this),this.chipAnimations=new zx(this),this.potGame=new Wx(this,this.chipAnimations),this.betSliderManager=new Vx(this),this.actionButtonManager=new Fx(this),this.actionButtonManager.setBetSliderManager(this.betSliderManager),this.connectToGameState(),this.createPotText(),this.createCommunityCardArea(),this.createPlayerPositions(),this.createMyCards(),this.createLeaveButton(),this.createGameStateText(),this.createActionButtons(),this.createExitButton(),this.sceneReady=!0,this.time.delayedCall(100,(()=>{this.scene&&this.scene.isActive()&&Mx.getTableState()})),Ix.emit("current-scene-ready",this)}catch(e){console.error("創建遊戲場景時出錯:",e)}}createExitButton(){const{width:e,height:t}=this.scale;this.exitButton=this.add.image(.15*e,.1*t,"btn-back").setDepth(100).setInteractive();const a=.4;this.exitButton.setScale(a),this.exitButton.on("pointerover",(()=>{this.exitButton.setScale(1.1*a),this.input.setDefaultCursor("pointer")})),this.exitButton.on("pointerout",(()=>{this.exitButton.setScale(a),this.input.setDefaultCursor("default")})),this.exitButton.on("pointerdown",(()=>{this.exitButton.setScale(.9*a)})),this.exitButton.on("pointerup",(()=>{this.exitButton.setScale(1.1*a),this.exitToSelectTable()}))}exitToSelectTable(){try{this.time.delayedCall(100,(()=>{window.location.href="/game/select"}))}catch(e){console.error("離開牌桌時出錯:",e),window.location.href="/game/select"}}createMyCards(){var e;const{width:t,height:a}=this.scale,s=.2*t,n=.75*a-50;let i=[];i=Mx.tableState&&Mx.tableState.myHandCard&&Array.isArray(Mx.tableState.myHandCard)&&Mx.tableState.myHandCard.length>0?[...Mx.tableState.myHandCard]:["XX","XX"];const o=(null==(e=Mx.tableState.currentPlayers)?void 0:e.length)||0;if(this.playerCards[o]?(this.playerCards[o].forEach((e=>{e&&e.destroy&&e.destroy()})),this.playerCards[o]=[]):this.playerCards[o]=[],2===i.length){const e=s-20,t=s+20;let a,l;if(this.textures.exists(i[0]))a=this.add.image(e,n,i[0]).setDisplaySize(35,50).setDepth(15);else{a=this.add.rectangle(e,n,35,50,102,.8).setStrokeStyle(2,16777215).setDepth(15);const t=this.add.text(e,n,i[0],{fontFamily:"Arial",fontSize:"16px",color:"#ffffff",align:"center"}).setOrigin(.5).setDepth(16);this.playerCards[o].push(t)}if(this.textures.exists(i[1]))l=this.add.image(t,n,i[1]).setDisplaySize(35,50).setDepth(15);else{l=this.add.rectangle(t,n,35,50,102,.8).setStrokeStyle(2,16777215).setDepth(15);const e=this.add.text(t,n,i[1],{fontFamily:"Arial",fontSize:"16px",color:"#ffffff",align:"center"}).setOrigin(.5).setDepth(16);this.playerCards[o].push(e)}this.playerCards[o].push(a),this.playerCards[o].push(l),this.showHoleCards.forEach((e=>{e&&e.destroy&&e.destroy()})),this.showHoleCards=[];const r=20,c=n,u=this.add.image(e,c,"eye").setDisplaySize(r,r).setDepth(16).setInteractive().setVisible(!1),d=this.add.image(t,c,"eye").setDisplaySize(r,r).setDepth(16).setInteractive().setVisible(!1);u.on("pointerdown",(()=>{console.log("顯示第一張牌"),Mx.showHandApi(1),this.tweens.add({targets:u,scale:{from:1.2,to:1},duration:150,ease:"Power2"})})),d.on("pointerdown",(()=>{console.log("顯示第二張牌"),Mx.showHandApi(2),this.tweens.add({targets:d,scale:{from:1.2,to:1},duration:150,ease:"Power2"})})),this.showHoleCards.push(u),this.showHoleCards.push(d),!0===Mx.tableState.showHoleCardsButton&&(u.setVisible(!0),d.setVisible(!0))}else console.error("手牌數據不正確:",i)}createActionButtons(){this.actionButtons=this.actionButtonManager.createActionButtons(Mx)}updateBetButtonTexts(){this.actionButtons.forEach((e=>{const t=e.getData("action");if("bet"===t||"raise"===t){const a=e.getData("textObject");a&&a.setText(`${t} $${this.currentBetAmount}`)}}))}handleActionButtonClick(e){this.actionButtonManager.handleActionButtonClick(e)}createPotText(){this.potGame.createPotText(Mx.tableState),this.potText=this.potGame.potText,this.potIcon=this.potGame.potIcon,this.collectText=this.potGame.collectText,this.collectIcon=this.potGame.collectIcon,this.winnerTexts=this.potGame.winnerTexts,this.chipSprites=this.potGame.chipSprites}createGameStateText(){this.tableStatusText.forEach((e=>{e&&e.destroy()})),this.tableStatusText=[];const{width:e,height:t}=this.scale,a=this.add.text(e/2,30,Mx.tableState.playHand,{fontFamily:"Arial",fontSize:"24px",color:"#ffffff",stroke:"#000000",strokeThickness:2,align:"center"}).setOrigin(.5).setDepth(2);this.tableStatusText.push(a)}createLeaveButton(){var e;const{width:t,height:a}=this.scale;""===(null==(e=Mx.tableState)?void 0:e.tournamentId)?(this.leaveButton=this.add.image(.85*t,.09*a,"leave").setDisplaySize(55,55).setDepth(20).setInteractive(),this.leaveButton.on("pointerdown",(()=>{this.handleLeaveTable()}))):(this.leaveButton=this.add.image(t-27.5-20,47.5,"trophy").setDisplaySize(55,55).setDepth(20).setInteractive(),this.leaveButton.on("pointerdown",(()=>{var e;window.location.href="/game/tournament?id="+(null==(e=Mx.tableState)?void 0:e.tournamentId)})))}handleLeaveTable(){this.tweens.add({targets:this.leaveButton,alpha:{from:1,to:.5},yoyo:!0,duration:150,repeat:1,onComplete:()=>{var e,t,a;this.leaveButton.setAlpha(.5),this.leaveButton.disableInteractive(),"turbo"===(null==(e=Mx.tableState)?void 0:e.tableType)?Mx.leaveTableApi(null==(t=Mx.tableState)?void 0:t.groupId):Mx.leaveTableApi(null==(a=Mx.tableState)?void 0:a.tableId)}})}createCommunityCardArea(){var e;this.communityCards||(this.communityCards=[]);const{width:t,height:a}=this.scale,s=t/2-107.5+20,n=a/2-40,i=.1*Math.min(t,a),o=1.4*i,l=(null==(e=Mx.tableState)?void 0:e.publicCard)||[];this.communityCards.forEach((e=>{e&&e.destroy&&e.destroy()})),this.communityCards=[];for(let r=0;r<5;r++){const e=s+45*r;if(l[r]){const t=this.add.image(e,n,l[r]).setDisplaySize(i,o).setDepth(10);this.communityCards.push(t)}else{const t=this.add.image(e,n,"XX").setDisplaySize(i,o).setDepth(10);this.communityCards.push(t)}}}clearSeats(){this.seatManager.clearSeats()}createPlayerPositions(){try{const e=this.seatManager.createPlayerPositions(Mx);this.playerAvatars=(null==e?void 0:e.playerAvatars)??[],this.playerNames=(null==e?void 0:e.playerNames)??[],this.playerChips=(null==e?void 0:e.playerChips)??[],this.playerBetChips=(null==e?void 0:e.playerBetChips)??[],this.playerInfoBox=(null==e?void 0:e.playerInfoBox)??[],this.allCards=(null==e?void 0:e.allCards)??[],this.playerCards=(null==e?void 0:e.playerCards)??[],this.playerSeatButton=(null==e?void 0:e.playerSeatButton)??[]}catch(e){console.error("創建玩家位置時出錯:",e)}}connectToGameState(){Ix.on("table-state-updated",(e=>{this.currentTableState={...e},Mx.getPlayerSeatNumber(),!0===Mx.tableState.turboData.waitButton&&this.time.delayedCall(500,(()=>{!0===Mx.tableState.turboData.waitButton&&(console.log("确认玩家已离开牌桌，切换到结束画面"),this.scene.start("PokerWait"))})),e.currentPlayers&&this.createPlayerPositions(),e.seatTime&&this.createPlayerPositions(),e.myHandCard&&this.createMyCards(),!0===e.showHoleCardsButton&&this.createMyCards(),e.canDoAction&&this.createActionButtons(),e.publicCard&&this.createCommunityCardArea();const t=e.potAmountBox||"0";e.potAmountBox&&this.potText!==t&&this.createPotText(),e.potCollectBox&&this.createPotText(),e.potWinner&&this.createPotText(),e.playHand&&this.createGameStateText()}))}update(){}shutdown(){try{this.sceneReady=!1,this.seatManager.clearSeats(),this.potGame.clearPotAndWinnerTexts(),this.actionButtonManager&&this.actionButtonManager.destroy(),this.betSliderContainer&&(this.betSliderContainer.destroy(),this.betSliderContainer=null,this.betSliderHandle=null,this.betAmountText=null),this.clearAllGameObjects(),this.potGame&&this.potGame.destroy(),this.tweens.killAll(),this.seatManager=new jx(this),Mx.setPlayerSeatNumber(0)}catch(e){console.error("關閉遊戲場景時出錯:",e)}}clearAllGameObjects(){[this.communityCards,this.winnerTexts,this.chipSprites,this.tableStatusText].forEach((e=>{e&&e.forEach((e=>{e&&e.destroy&&e.destroy()}))})),this.betSliderContainer&&(this.betSliderContainer.destroy(),this.betSliderContainer=null,this.betSliderHandle=null,this.betAmountText=null),this.leaveButton&&this.leaveButton.destroy(),this.actionButtons.forEach((e=>{e&&e.destroy&&e.destroy()})),this.communityCards=[],this.tableStatusText=[],this.winnerTexts=[],this.chipSprites=[],this.actionButtons=[]}}class Gx{constructor(e){a(this,"scene"),a(this,"seats",[]),this.scene=e}clearSeats(){try{this.seats.forEach((e=>{e&&e.destroy&&e.destroy()})),this.seats=[]}catch(e){console.error("清空座位時出錯:",e)}}createPlayerManagerSeats(e,t){var a,s,n,i;try{if(!this.scene||!this.scene.add||"function"!=typeof this.scene.add.graphics)return console.error("場景無效或已被銷毀"),{seats:[]};if(!e)return console.error("tableState 不存在"),{seats:[]};const{width:o,height:l}=this.scene.scale,r=o/2,c=l/2;this.clearSeats();const u=(null==e?void 0:e.mainBuyIn)||"600",d=(null==e?void 0:e.maxBuyIn)||"1000",h=(null==(a=Mx.tableState)?void 0:a.seatButton)||0,p=null==(s=Mx.tableState)?void 0:s.seatTime,f=(!Mx.tableState||!Mx.tableState.tournamentId||Mx.tableState.tournamentId,Mx.tableState.maxPlayers),m=new Phaser.Geom.Ellipse(r,c,500,900),g=Mx.tableState.allSeats,v=[];if(this.seats.length===f)for(let e=1;e<=f;e++){const a=e-1;if("empty"!==(null==(n=g[e])?void 0:n.status))if(this.seats[a]instanceof Rx){const t=this.seats[a];t.update(this.scene,g[e],{x:0,y:0},h,p),v.push(t.getContainer())}else{this.seats[a]&&this.seats[a].destroy&&this.seats[a].destroy();const t=new Rx(e).createElements(this.scene,g[e],{x:0,y:0},h,p);this.seats[a]=t,t&&v.push(t)}else{this.seats[a]instanceof Rx?this.seats[a].clear(this.scene):this.seats[a]&&this.seats[a].destroy&&this.seats[a].destroy();const s=this.scene.add.image(0,0,"seatButton").setScale(.6).setDepth(10).setInteractive();s.on("pointerdown",(()=>{t(e,u,d)})),this.seats[a]=s,v.push(s)}}else{this.seats=[];for(let e=1;e<=f;e++)if("empty"!==(null==(i=g[e])?void 0:i.status)){const t=new Rx(e),a=t.createElements(this.scene,g[e],{x:0,y:0},h,p);this.seats.push(t),a&&v.push(a)}else{const a=this.scene.add.image(0,0,"seatButton").setScale(.6).setDepth(10).setInteractive();a.on("pointerdown",(()=>{t(e,u,d)})),this.seats.push(a),v.push(a)}}return this.seats=v,Phaser.Actions.PlaceOnEllipse(this.seats,m),this.scene.tweens.add({targets:m,angle:360,duration:5e3,repeat:-1,onUpdate:()=>{Phaser.Actions.PlaceOnEllipse(this.seats,m)}}),this.seats}catch(o){return console.error("創建座位時出錯:",o),{seats:this.seats}}}}class qx{constructor(e,t){a(this,"scene"),a(this,"chipAnimations"),a(this,"lastWinnerState",""),a(this,"potText"),a(this,"potIcon"),a(this,"collectText"),a(this,"collectIcon"),a(this,"collectTexts",[]),a(this,"collectIcons",[]),a(this,"winnerTexts",[]),a(this,"chipSprites",[]),a(this,"betChipAnimations",!1),a(this,"lastBetChipsState",{}),this.scene=e,this.chipAnimations=t}createPotText(e,t){return this.clearPotAndWinnerTexts(),this.displayPotAndWinners(e),{potText:this.potText,potIcon:this.potIcon,collectTexts:[...this.collectTexts],collectIcons:[...this.collectIcons],winnerTexts:this.winnerTexts,chipSprites:this.chipSprites}}clearPotAndWinnerTexts(){this.clearPotText(),this.clearWinnerTexts(),this.clearCollectTextsAndIcons(),this.clearChipSprites()}clearChipSprites(){this.chipSprites.forEach((e=>{e&&e.destroy&&e.destroy()})),this.chipSprites=[]}displayPotAndWinners(e){const{width:t,height:a}=this.scene.scale;if(this.potText&&this.potText.active){const s=parseInt(e.potAmountBox,10)||0;let n="chip";s>=1e3?n="chip1000":s>=100&&(n="chip100"),this.potIcon&&this.potIcon.destroy&&this.potIcon.destroy(),this.potIcon=this.scene.add.image(t/2-40,a/2+30,n).setOrigin(.5).setDepth(2).setScale(.5),this.potText.setText(`$ ${e.potAmountBox}`)}else{this.clearPotText();const s=parseInt(e.potAmountBox,10)||0;let n="chip";s>=1e3?n="chip1000":s>=100&&(n="chip100"),this.potIcon=this.scene.add.image(t/2-25,a/2+30,n).setOrigin(.5).setDepth(2).setScale(.8),this.potText=this.scene.add.text(t/2+15,a/2+30,`$ ${e.potAmountBox}`,{fontFamily:"Arial",fontSize:"28px",color:"#ffffff",stroke:"#000000",strokeThickness:1,align:"center"}).setOrigin(.5).setDepth(2).setScale(1)}if(e.potWinner){const t=JSON.stringify(e.potWinner);this.lastWinnerState!==t&&(this.clearWinnerTexts(),this.clearChipSprites(),this.clearCollectTextsAndIcons(),this.displayAllPots(e),this.lastWinnerState=t)}else""!==this.lastWinnerState&&(this.clearWinnerTexts(),this.clearChipSprites(),this.clearCollectTextsAndIcons(),this.lastWinnerState="")}clearCollectTextsAndIcons(){try{this.collectTexts.forEach((e=>{e&&e.destroy&&e.destroy()})),this.collectIcons.forEach((e=>{e&&e.destroy&&e.destroy()})),this.collectTexts=[],this.collectIcons=[]}catch(e){console.error("清空下注池時出錯:",e)}}displayAllPots(e){const{width:t,height:a}=this.scene.scale;if(e.potWinner){let s=a/2+60;Array.isArray(e.potWinner)?e.potWinner.forEach(((a,n)=>{this.createPotAmountText(t/2,s,a.amount),s+=15,a.players&&a.players.length>0?s=this.displayWinners(t/2,s,a.players,a.amount,e):s+=10,n<e.potWinner.length-1&&(s+=10)})):this.handleWinnersDisplay(e)}}clearWinnerTexts(){this.winnerTexts&&this.winnerTexts.length>0&&(this.winnerTexts.forEach((e=>{e&&e.destroy&&e.destroy()})),this.winnerTexts=[])}clearPotText(){this.potText&&this.potText.destroy&&this.potText.destroy(),this.potIcon&&this.potIcon.destroy&&this.potIcon.destroy(),this.potText=null,this.potIcon=null}handleWinnersDisplay(e){const{width:t,height:a}=this.scene.scale;if(e.potWinner){const s=Object.keys(e.potWinner).sort(((e,t)=>parseInt(e)-parseInt(t)));let n=a/2+60;s.forEach(((a,i)=>{const o=e.potWinner[a],l=o.amount,r=o.players,c=10*i;console.log("遍歷每個池:",n+c),this.createPotAmountText(t/2,n+c,l),n+=10,r&&r.length>0?n=this.displayWinners(t/2,n+c*i,r,l,e):n+=5,i<s.length-1&&(n+=10)}))}}createPotAmountText(e,t,a){const s=String(a);let n="chip";return a>=1e3?n="chip1000":a>=100&&(n="chip100"),console.log("創建下注池金額資料:",e,t,s),this.collectText=this.scene.add.text(e+20,t,`$ ${s}`,{fontFamily:"Arial",fontSize:"56px",color:"#ffffff",stroke:"#000000",strokeThickness:1,align:"center"}).setOrigin(.5).setDepth(10).setScale(.25).setVisible(!0),this.collectTexts.push(this.collectText),this.collectIcon=this.scene.add.image(e-20,t,n).setOrigin(.5).setDepth(10).setScale(.5).setVisible(!0),this.collectIcons.push(this.collectIcon),this.collectText}displayWinners(e,t,a,s,n){return this.scene.time.delayedCall(1e3,(()=>{this.moveChipsToWinners(s,a,n)})),t+30}moveChipsToWinners(e,t,a){const{width:s,height:n}=this.scene.scale;this.clearChipSprites();const i=this.findSourcePosition(s,n);this.chipAnimations.moveChipsToWinners(e,t,i,(e=>this.getPlayerPositionBySeatNumber(e,a)),this.chipSprites,this.winnerTexts)}findSourcePosition(e,t){const a=this.winnerTexts.filter((e=>e&&e.text&&e.text.startsWith("$:")));let s=e/2,n=t/2+60;if(a.length>0){const e=a[a.length-1];e&&(s=e.x),n=e?e.y:t/2+60}return{x:s,y:n}}getPlayerPositionBySeatNumber(e,t){const a=this.scene;return a.playerBetChips?this.getPositionFromSeats(e,t,a):this.calculatePositionBySeatNumber(e,t)}getPositionFromSeats(e,t,a){const{width:s,height:n}=this.scene.scale,i=(null==t?void 0:t.maxPlayers)||6,o=this.getPlayerSeatNumber(t);if(e===o)return{x:.2*s,y:.75*n};const l=a.playerSeats||[],r=a.playerAvatars||[];if(((null==t?void 0:t.currentPlayers)||[]).find((t=>t&&t.number===e))){const t=.9*s,a=.6*n,o=s/2,l=n/2,c=2*Math.PI/i*(e-1)-Math.PI/2,u=o+Math.cos(c)*(.4*t),d=l+Math.sin(c)*(.6*a),h=r.filter((e=>null!==e&&"object"==typeof e&&"x"in e&&"y"in e)).find((e=>Math.abs(e.x-u)<20&&Math.abs(e.y-d)<20));if(h)return{x:h.x,y:h.y}}else{const t=.9*s,a=.6*n,o=s/2,r=n/2,c=2*Math.PI/i*(e-1)-Math.PI/2,u=o+Math.cos(c)*(.4*t),d=r+Math.sin(c)*(.6*a),h=l.find((e=>Math.abs(e.x-u)<20&&Math.abs(e.y-d)<20));if(h)return{x:h.x,y:h.y}}return this.calculatePositionBySeatNumber(e,t)}calculatePositionBySeatNumber(e,t){const{width:a,height:s}=this.scene.scale,n=(null==t?void 0:t.maxPlayers)||6,i=a/2,o=s/2,l=.9*a,r=.7*s,c=this.getPlayerSeatNumber(t);if(e===c)return{x:.2*a,y:.75*s};const u=[];for(let f=1;f<=n;f++)f!==c&&u.push(f);u.sort(((e,t)=>(e-c+n)%n-(t-c+n)%n));const d=u.indexOf(e);if(-1===d)return{x:i,y:o};const h=Math.PI,p=h-(0-h)*(d/(u.length-1));return{x:i+Math.cos(p)*(.45*l),y:o+Math.sin(p)*(.55*r)}}getPlayerSeatNumber(e){return e&&e.myNumber?e.myNumber:0}destroy(){this.potText&&this.potText.destroy&&(this.potText.destroy(),this.potText=null),this.potIcon&&this.potIcon.destroy&&(this.potIcon.destroy(),this.potIcon=null),this.winnerTexts.forEach((e=>{e&&e.destroy&&e.destroy()})),this.winnerTexts=[],this.clearChipSprites(),this.clearCollectTextsAndIcons(),this.betChipAnimations=!1,this.lastBetChipsState={},this.lastWinnerState=""}}class Kx extends s.Scene{constructor(){super("PokerMainMenu"),a(this,"background"),a(this,"Table"),a(this,"logo"),a(this,"title"),a(this,"logoTween"),a(this,"tableId",""),a(this,"sceneReady",!1),a(this,"seatManager",null),a(this,"ChipsManager",null),a(this,"seats",[]),a(this,"chips",[]),a(this,"copyChips",[]),a(this,"fpsText",null),a(this,"communityCards",[]),a(this,"communityCardsList",[]),a(this,"tableImage"),a(this,"playerSeats",[]),a(this,"playerAvatars",[]),a(this,"playerNames",[]),a(this,"playerSeatButton",[]),a(this,"playerBetChips",[]),a(this,"playerBetChipImages",[]),a(this,"playerCards",[]),a(this,"showHoleCards",[]),a(this,"buyInWindow"),a(this,"buyInSlider",null),a(this,"buyInValue"),a(this,"buyInMinValue",600),a(this,"buyInMaxValue",1e3),a(this,"currentBuyInValue",600),a(this,"selectedSeat",0),a(this,"potText"),a(this,"potIcon"),a(this,"winnerTexts",[]),a(this,"chipSprites",[]),a(this,"potManager"),a(this,"chipAnimations"),a(this,"playerSeat",(null==(e=Mx.tableState)?void 0:e.myNumber)||0),a(this,"exitButton"),a(this,"tournamentButton"),a(this,"initialized",!1),a(this,"tableStateUpdateHandler",null)}init(e){try{if(this.sceneReady=!1,Mx.tableState&&!0===Mx.tableState.sitDownButton)return void this.time.delayedCall(500,(()=>{this.scene.start("PokerGame")}));e&&e.tableId&&(this.tableId=e.tableId),this.playerSeats=[],this.playerAvatars=[],this.playerNames=[],this.communityCards=[],this.playerBetChips=[],this.winnerTexts=[],this.chipSprites=[],this.playerSeatButton=[],this.seatManager=new Gx(this)}catch(t){console.error("初始化牌桌場景時出錯:",t)}}create(){try{const{width:e,height:t}=this.scale;this.chipAnimations=new zx(this),this.potManager=new qx(this,this.chipAnimations),this.background=this.add.image(e/2,t/2,"background").setDisplaySize(e,t),this.Table=this.add.image(e/2,t/2+20,"Table").setScale(.9),this.fpsText=this.add.text(10,10,"FPS: 0",{fontSize:"24px",color:"#ffffff"}),this.createExitButton(),this.createTournamentButton(),this.connectToGameState(),this.updateFromGameState(),this.seatManager||(this.seatManager=new Gx(this)),this.createCommunityCardArea(),this.createPlayerSeats(),this.createPlayerChips(),this.createPotText(),this.createBuyInWindow(),this.sceneReady=!0,this.initialized=!0,Ix.emit("current-scene-ready",this),this.checkSceneStatus()}catch(e){console.error("創建牌桌場景時出錯:",e)}}checkSceneStatus(){}updateFromGameState(){try{Mx.tableState||Mx.getTableState()}catch(e){console.error("從 GameStateManager 獲取數據時出錯:",e)}}createPotText(){this.potManager.createPotText(Mx.tableState,this.playerBetChips),this.potText=this.potManager.potText,this.winnerTexts=this.potManager.winnerTexts,this.chipSprites=this.potManager.chipSprites}createExitButton(){const{width:e,height:t}=this.scale;this.exitButton=this.add.image(.15*e,.1*t,"btn-back").setDepth(100).setInteractive(),this.exitButton.setScale(1),this.exitButton.on("pointerover",(()=>{this.exitButton.setScale(1.1),this.input.setDefaultCursor("pointer")})),this.exitButton.on("pointerout",(()=>{this.exitButton.setScale(1),this.input.setDefaultCursor("default")})),this.exitButton.on("pointerdown",(()=>{this.exitButton.setScale(.9)})),this.exitButton.on("pointerup",(()=>{this.exitButton.setScale(1.1),this.exitToSelectTable()}))}createTournamentButton(){var e;const{width:t,height:a}=this.scale;(null==(e=Mx.tableState)?void 0:e.tournamentId)&&(this.tournamentButton=this.add.image(.9*t,.1*a,"trophy").setScale(.15).setDepth(20).setInteractive(),this.tournamentButton.on("pointerdown",(()=>{var e;window.location.href="/game/tournament?id="+(null==(e=Mx.tableState)?void 0:e.tournamentId)})))}createCommunityCardArea(){var e;const{width:t,height:a}=this.scale,s=(null==(e=Mx.tableState)?void 0:e.publicCard)||[];this.communityCards.forEach((e=>{e&&e.destroy&&e.destroy()})),this.communityCards=[];const n=new Phaser.Geom.Line(.32*t,a/2-50,.75*t,a/2-50);for(let i=0;i<5;i++)if(s[i]){const e=this.add.image(0,0,s[i]).setScale(.12).setDepth(10);this.communityCards.push(e)}else{const e=this.add.image(0,0,"XX").setScale(.12).setDepth(10);this.communityCards.push(e)}Phaser.Actions.PlaceOnLine(this.communityCards,n)}exitToSelectTable(){try{this.time.delayedCall(100,(()=>{window.location.href="/game/select"}))}catch(e){console.error("離開牌桌時出錯:",e),window.location.href="/game/select"}}createBuyInWindow(){const{width:e,height:t}=this.scale;this.buyInWindow=this.add.container(e/2,t/2),this.buyInWindow.setDepth(100),this.buyInWindow.setVisible(!1);const a=this.add.graphics();a.fillStyle(0,.8),a.lineStyle(5,16763904),a.fillRoundedRect(-350,-200,700,400,60),a.strokeRoundedRect(-350,-200,700,400,60);const s=a,n=this.add.text(0,-130,"請選擇買入金額",{fontFamily:"Arial",fontSize:"90px",color:"#ffcc00",align:"center"}).setOrigin(.5).setScale(.5),i=this.add.text(-270,-50,`最小: ${this.buyInMinValue}`,{fontFamily:"Arial",fontSize:"72px",color:"#ffcc00"}).setOrigin(0,.5).setScale(.5),o=this.add.text(270,-50,`最大: ${this.buyInMaxValue}`,{fontFamily:"Arial",fontSize:"72px",color:"#ffcc00"}).setOrigin(1,.5).setScale(.5);this.buyInValue=this.add.text(0,-20,`${this.currentBuyInValue}`,{fontFamily:"Arial",fontSize:"128px",color:"#ffcc00",align:"center"}).setOrigin(.5).setScale(.5);const l=this.add.rectangle(0,50,500,20,6710886),r=this.add.circle(0,50,30,16777215).setInteractive({draggable:!0});r.on("drag",((e,t)=>{t=Phaser.Math.Clamp(t,-250,250),r.x=t;const a=(t- -250)/500;this.currentBuyInValue=Math.round(this.buyInMinValue+a*(this.buyInMaxValue-this.buyInMinValue)),this.buyInValue.setText(`${this.currentBuyInValue}`)}));const c=this.add.image(100,140,"確認"),u=this.add.image(-100,140,"取消");c.setInteractive(),u.setInteractive(),c.on("pointerdown",(()=>{this.confirmBuyIn()})),u.on("pointerdown",(()=>{this.hideBuyInWindow()})),this.buyInWindow.add([s,n,i,o,this.buyInValue,l,r,c,u])}showBuyInWindow(e,t,a){if(this.selectedSeat=e,this.buyInMinValue=parseInt(t),this.buyInMaxValue=parseInt(a),this.currentBuyInValue=this.buyInMinValue,this.buyInWindow){const e=this.buyInWindow.getAt(2),t=this.buyInWindow.getAt(3);e.setText(`最小: ${this.buyInMinValue}`),t.setText(`最大: ${this.buyInMaxValue}`),this.buyInValue.setText(`${this.currentBuyInValue}`),this.buyInWindow.getAt(6).x=-250,this.buyInWindow.setVisible(!0)}}confirmBuyIn(){const e=Number(this.selectedSeat),t=Number(this.currentBuyInValue);t>0&&e>0&&(this.hideBuyInWindow(),Mx.setPlayerSeatNumber(e),this.mainSitDown(t,e),this.time.delayedCall(500,(()=>{Mx.sitDown(t,e).then((()=>{this.scene.start("PokerGame"),this.scene.stop("PokerMainMenu")})).catch((e=>{}))})))}hideBuyInWindow(){this.buyInWindow&&this.buyInWindow.setVisible(!1),this.selectedSeat=0}createPlayerChips(){try{const e=Mx.tableState,{width:t,height:a}=this.scale,s=t/2,n=a/2,i=e.maxPlayers,o=e.allSeats;(async()=>{e.betSwitch||(this.chips.forEach((e=>{e&&e.destroy&&e.destroy()})),this.chips=[]);const t=new Phaser.Geom.Ellipse(s,n,300,600),a=new Hx(this);let l=[];for(let e=1;e<=i;e++){let t="0";o[e]&&o[e].bet_chips&&(t=o[e].bet_chips);const s=a.createChips(this,t);s&&l.push(s)}this.chips=l,Phaser.Actions.PlaceOnEllipse(this.chips,t),!0===e.betSwitch?(this.copyChips=this.chips,await new Promise((e=>{this.chipsMoveToCenter(e)})),console.log("籌碼移動到中心動畫完成"),this.copyChips.forEach((e=>{e&&e.destroy&&e.destroy()})),this.copyChips=[]):this.chips=l})()}catch(e){console.error("創建玩家籌碼時出錯:",e)}}chipsMoveToCenter(e){const{width:t,height:a}=this.scale,s=t/2,n=a/2;if(!this.copyChips||0===this.copyChips.length)return void(e&&e());let i=0;const o=this.copyChips.length;this.copyChips.forEach((t=>{t&&void 0!==t.x&&void 0!==t.y?this.tweens.add({targets:t,x:s,y:n,duration:500,ease:"Power2",onComplete:()=>{i++,i===o&&e&&e()}}):(i++,i===o&&e&&e())}))}createPlayerSeats(){this.seatManager||(console.log("SeatManager 未初始化，正在創建新實例"),this.seatManager=new Gx(this));const{width:e,height:t}=this.scale;this.seatManager.createPlayerManagerSeats(Mx.tableState,((e,t,a)=>{this.showBuyInWindow(e,t,a)})),this.seats=this.seatManager.seats}clearSeats(){this.seatManager&&this.seatManager.clearSeats(),this.playerSeats=[],this.playerAvatars=[],this.playerNames=[]}mainSitDown(e=0,t){if(!this.scene||"function"!=typeof this.scene.isActive||!this.scene.isActive())return void console.log("場景已被銷毀，無法執行坐下動畫");const{width:a,height:s}=this.scale,n=a/2,i=s/2;if(!this.seatManager)return void console.log("SeatManager 不存在，無法執行坐下動畫");const o=this.seats;if(!o||0===o.length)return void console.log("座位數組為空，無法執行坐下動畫");new Phaser.Geom.Ellipse(n,i,500,900);const l=[];for(let p=0;p<o.length;p++){const e=o[p];if(e instanceof Rx){const a=e.getContainer();a&&l.push({object:a,seatNumber:p+1,isSelected:p+1===t,isSeat:!0,seat:e})}else e&&"function"==typeof e.setPosition&&l.push({object:e,seatNumber:p+1,isSelected:p+1===t,isSeat:!1,seat:null})}const r=l.find((e=>e.isSelected));if(!r)return void console.log("未找到選中的座位");const c=o.length,u=360/c*((Math.floor(c/2)-(t-1)+c)%c),d=new Phaser.Geom.Ellipse(n,i,500,900),h=l.map((e=>e.object));this.tweens.add({targets:d,angle:u,duration:2e3,ease:"Power2",onUpdate:()=>{Phaser.Actions.PlaceOnEllipse(h,d)},onComplete:()=>{const e=.2*a,t=.8*s;this.tweens.add({targets:r.object,x:e,y:t,duration:500,ease:"Power2",onComplete:()=>{this.tweens.add({targets:r.object,alpha:{from:1,to:.3},duration:1e3,yoyo:!0,repeat:-1,ease:"Sine.easeInOut"}),r.isSeat&&r.seat}})}})}connectToGameState(){this.tableStateUpdateHandler=e=>{if(!this.scene||!this.scene.isActive||"function"!=typeof this.scene.isActive)return void console.log("場景已被銷毀，忽略更新");if(!this.scene.isActive())return void console.log("場景不活躍，忽略更新");if(!this.add)return void console.log("this.add 不可用，忽略更新");if(!this.sceneReady)return void console.log("場景未準備好，忽略更新");e.allSeats&&(this.createPlayerSeats(),this.createPlayerChips()),!0===e.betSwitch&&this.createPlayerChips(),e.publicCard&&this.createCommunityCardArea(),e.potAmountBox&&this.createPotText(),Object.keys(e.potWinner).length>0&&this.createPotText();let t=!1;try{t=this.scene&&this.scene.isActive&&"function"==typeof this.scene.isActive&&this.scene.isActive()}catch(Sm){return}t&&this.sceneReady?(this.createPlayerSeats(),this.createCommunityCardArea(),this.createPotText()):console.log("場景未準備好或不活躍，忽略更新")},Ix.on("table-state-updated",this.tableStateUpdateHandler)}updateGameState(e){e&&e.table&&Mx.updateTableState({maxPlayers:e.table.maxPlayers||6,currentPlayers:e.table.players||[]});let t=!1;try{t=this.scene&&this.scene.isActive&&"function"==typeof this.scene.isActive&&this.scene.isActive()}catch(Sm){return}t&&this.sceneReady?this.createPlayerSeats():console.log("場景未準備好或不活躍，忽略更新")}update(){this.fpsText&&this.fpsText.setText(`FPS: ${Math.round(this.game.loop.actualFps)}`)}shutdown(){try{this.sceneReady=!1,this.tableStateUpdateHandler&&Ix.off("table-state-updated",this.tableStateUpdateHandler),this.clearSeats(),this.clearPotObjects(),this.sceneReady=!0}catch(e){console.error("關閉場景時出錯:",e)}}clearPotObjects(){this.potText&&this.potText.destroy&&this.potText.destroy(),this.winnerTexts.forEach((e=>{e&&e.destroy&&e.destroy()})),this.chipSprites.forEach((e=>{e&&e.destroy&&e.destroy()})),this.winnerTexts=[],this.chipSprites=[]}destroy(){Ix.off("table-state-updated"),this.seatManager=new Gx(this),this.seatManager&&this.clearSeats(),this.seatManager=null}}class Yx extends s.Scene{constructor(){super("PokerGame"),a(this,"background"),a(this,"Table"),a(this,"tableImage"),a(this,"seatGame",null),a(this,"seats",[]),a(this,"chips",[]),a(this,"playerAvatars",[]),a(this,"playerNames",[]),a(this,"playerChips",[]),a(this,"playerBetChips",[]),a(this,"playerCards",[]),a(this,"allCards",[]),a(this,"playerInfoBox",[]),a(this,"tableStatusText",[]),a(this,"showHoleCards",[]),a(this,"playerSeatButton",[]),a(this,"playerContainers",[]),a(this,"playerTempBetChips",[]),a(this,"chipAnimations"),a(this,"potGame"),a(this,"tableId",""),a(this,"playerSeat",0),a(this,"buyInAmount",0),a(this,"sceneReady",!1),a(this,"fpsText",null),a(this,"communityCards",[]),a(this,"currentTableState"),a(this,"potText"),a(this,"potIcon"),a(this,"collectText"),a(this,"collectIcon"),a(this,"winnerTexts",[]),a(this,"chipSprites",[]),a(this,"exitButton"),a(this,"actionButtons",[]),a(this,"mySeatButtons",[]),a(this,"myHandCards",[]),a(this,"betSliderManager"),a(this,"actionButtonManager"),a(this,"leaveButton"),a(this,"betSliderContainer",null),a(this,"betSliderHandle",null),a(this,"betAmountText",null),a(this,"currentBetAmount","0"),a(this,"tableStateUpdateCallback",null)}init(e){try{this.currentTableState=Mx.tableState,this.sceneReady=!1,e&&e.tableId&&(this.tableId=e.tableId||"",this.playerSeat=e.playerSeat||0,this.buyInAmount=e.buyInAmount||0),this.playerAvatars=[],this.playerNames=[],this.playerChips=[],this.playerCards=[],this.communityCards=[],this.playerInfoBox=[],this.tableStatusText=[],this.tableStatusText=[],this.allCards=[],this.showHoleCards=[],this.playerSeatButton=[]}catch(t){console.error("初始化遊戲場景時出錯:",t)}}create(){try{const{width:e,height:t}=this.scale;this.background=this.add.image(0,0,"background").setOrigin(0,0).setDisplaySize(e,t),this.Table=this.add.image(e/2,t/2+20,"Table").setScale(.9),this.fpsText=this.add.text(10,10,"FPS: 0",{fontSize:"24px",color:"#ffffff"}),this.seatGame=new jx(this),this.chipAnimations=new zx(this),this.potGame=new Wx(this,this.chipAnimations),this.betSliderManager=new Vx(this),this.actionButtonManager=new Fx(this),this.actionButtonManager.setBetSliderManager(this.betSliderManager),this.connectToGameState(),this.createPotText(),this.createCommunityCardArea(),this.createPlayerPositions(),this.createMyCards(),this.createLeaveButton(),this.createGameStateText(),this.createActionButtons(),this.createExitButton(),this.sceneReady=!0,this.time.delayedCall(100,(()=>{this.scene&&this.scene.isActive()&&Mx.getTableState()})),Ix.emit("current-scene-ready",this)}catch(e){console.error("創建遊戲場景時出錯:",e)}}createExitButton(){const{width:e,height:t}=this.scale;this.exitButton=this.add.image(.15*e,.1*t,"btn-back").setDepth(100).setInteractive(),this.exitButton.setScale(1),this.exitButton.on("pointerover",(()=>{this.exitButton.setScale(1.1),this.input.setDefaultCursor("pointer")})),this.exitButton.on("pointerout",(()=>{this.exitButton.setScale(1),this.input.setDefaultCursor("default")})),this.exitButton.on("pointerdown",(()=>{this.exitButton.setScale(.9)})),this.exitButton.on("pointerup",(()=>{this.exitButton.setScale(1.1),this.exitToSelectTable()}))}exitToSelectTable(){try{this.time.delayedCall(100,(()=>{window.location.href="/game/select"}))}catch(e){console.error("離開牌桌時出錯:",e),window.location.href="/game/select"}}createMyCards(){const{width:e,height:t}=this.scale,a=100,s=.2*e,n=.75*t+40,i=Mx.tableState.tableId;let o=Mx.tableState.mySeatList[i].myHandCard||["XX","XX"];o=Mx.tableState.mySeatList[i]&&Mx.tableState.mySeatList[i].myHandCard&&Array.isArray(Mx.tableState.mySeatList[i].myHandCard)&&Mx.tableState.mySeatList[i].myHandCard.length>0?[...Mx.tableState.mySeatList[i].myHandCard]:["XX","XX"];const l=this.myHandCards.length||0;if(this.myHandCards.length>0&&this.myHandCards.forEach((e=>{e&&e.destroy&&e.destroy()})),o.length>=1){const e=s-10-15,t=s+10+15;let i,r;if(this.textures.exists(o[0]))i=this.add.image(e,n,o[0]).setDisplaySize(70,a).setDepth(15).setAngle(-15);else{i=this.add.rectangle(e,n,70,a,102,.8).setStrokeStyle(2,16777215).setDepth(15).setAngle(-15);const t=this.add.text(e,n,o[0],{fontFamily:"Arial",fontSize:"32px",color:"#ffffff",align:"center"}).setOrigin(.5).setDepth(16).setScale(.5).setAngle(-15);this.playerCards[l].push(t)}if(this.textures.exists(o[1]))r=this.add.image(t,n,o[1]).setDisplaySize(70,a).setDepth(15).setAngle(15);else{r=this.add.rectangle(t,n,70,a,102,.8).setStrokeStyle(2,16777215).setDepth(15).setAngle(15);const e=this.add.text(t,n,o[1],{fontFamily:"Arial",fontSize:"32px",color:"#ffffff",align:"center"}).setOrigin(.5).setDepth(16).setScale(.5).setAngle(15);this.playerCards[l].push(e)}this.myHandCards.push(i),this.myHandCards.push(r)}else console.error("手牌數據不正確:",o)}createActionButtons(){this.actionButtons=this.actionButtonManager.createActionButtons(Mx),this.actionButtonManager.createMySeat(Mx)}createMyData(){this.actionButtonManager.createMySeat(Mx)}showActionButtons(){this.actionButtonManager.showActionButtons()}hideAllActionButtons(){this.actionButtonManager.hideActionButtons()}handleActionButtonClick(e){this.actionButtonManager.handleActionButtonClick(e)}createPotText(){this.potGame.createPotText(Mx.tableState),this.potText=this.potGame.potText,this.potIcon=this.potGame.potIcon,this.collectText=this.potGame.collectText,this.collectIcon=this.potGame.collectIcon,this.winnerTexts=this.potGame.winnerTexts,this.chipSprites=this.potGame.chipSprites}getPlayerPositionBySeatNumber(e){var t;const{width:a,height:s}=this.scale,n=(null==(t=Mx.tableState)?void 0:t.maxPlayers)||6,i=a/2,o=s/2,l=.9*a,r=.7*s,c=Mx.getPlayerSeatNumber();if(e===c)return{x:.2*a,y:.75*s};const u=[];for(let f=1;f<=n;f++)f!==c&&u.push(f);u.sort(((e,t)=>(e-c+n)%n-(t-c+n)%n));const d=u.indexOf(e);if(-1===d)return{x:i,y:o};const h=Math.PI,p=h-(0-h)*(d/(u.length-1));return{x:i+Math.cos(p)*(.45*l),y:o+Math.sin(p)*(.55*r)}}createGameStateText(){this.tableStatusText.forEach((e=>{e&&e.destroy()})),this.tableStatusText=[];const{width:e,height:t}=this.scale,a=this.add.text(e/2,100,Mx.tableState.playHand,{fontFamily:"Arial",fontSize:"48px",color:"#ffffff",stroke:"#000000",strokeThickness:1,align:"center"}).setOrigin(.5).setScale(1).setDepth(2);this.add.text(e/2,t/2+20,`牌桌ID: ${Mx.tableState.tableId}`,{fontFamily:"Arial",fontSize:"18px",color:"#ffffff",stroke:"#000000",strokeThickness:1,align:"center"}).setOrigin(.5).setScale(1).setDepth(2),this.tableStatusText.push(a)}createLeaveButton(){var e;const{width:t,height:a}=this.scale;if(""===(null==(e=Mx.tableState)?void 0:e.tournamentId)){this.leaveButton=this.add.image(.85*t,.1*a,"leave").setDepth(100).setInteractive();const e=1;this.leaveButton.setScale(e),this.leaveButton.on("pointerdown",(()=>{this.handleLeaveTable()}))}else this.leaveButton=this.add.image(.9*t,.1*a,"trophy").setScale(.15).setDepth(100).setInteractive(),this.leaveButton.on("pointerdown",(()=>{var e;window.location.href="/game/tournament?id="+(null==(e=Mx.tableState)?void 0:e.tournamentId)}))}handleLeaveTable(){this.tweens.add({targets:this.leaveButton,alpha:{from:1,to:.5},yoyo:!0,duration:150,repeat:1,onComplete:()=>{var e,t,a;let s;this.leaveButton.disableInteractive(),s="turbo"===(null==(e=Mx.tableState)?void 0:e.tableType)?Mx.leaveTableApi(null==(t=Mx.tableState)?void 0:t.groupId):Mx.leaveTableApi(null==(a=Mx.tableState)?void 0:a.tableId),s.then((()=>{this.leaveButton.setAlpha(.5)})).catch((e=>{console.error("退出桌子時出錯:",e),this.leaveButton.setAlpha(1),this.leaveButton.setInteractive()}))}})}createCommunityCardArea(){var e;this.communityCards||(this.communityCards=[]);const{width:t,height:a}=this.scale,s=(null==(e=Mx.tableState)?void 0:e.publicCard)||[];this.communityCards.forEach((e=>{e&&e.destroy&&e.destroy()})),this.communityCards=[];const n=new Phaser.Geom.Line(.32*t,a/2-50,.75*t,a/2-50);for(let i=0;i<5;i++)if(s[i]){const e=this.add.image(0,0,s[i]).setScale(.12).setDepth(10);this.communityCards.push(e)}else{const e=this.add.image(0,0,"XX").setScale(.12).setDepth(10);this.communityCards.push(e)}Phaser.Actions.PlaceOnLine(this.communityCards,n)}clearSeats(){this.seatGame&&this.seatGame.clearSeats()}createPlayerPositions(){try{this.seatGame||(console.log("SeatManager 未初始化，正在創建新實例"),this.seatGame=new jx(this));const e=this.seatGame.createPlayerPositions(Mx);this.seats=e.seats}catch(e){console.error("創建玩家位置時出錯:",e)}}createBetChips(){try{const e=Mx.tableState,{width:t,height:a}=this.scale,s=t/2,n=a/2;this.chips.forEach((e=>{e&&e.destroy&&e.destroy()})),this.chips=[];const i=e.allSeats,o=e.maxPlayers,l=Mx.getPlayerSeatNumber(),r=[];for(let m=1;m<=o;m++)m!==l&&r.push(m);r.sort(((e,t)=>(e-l+o)%o-(t-l+o)%o));const c=new Phaser.Geom.Ellipse(s,n,300,600),u=new Hx(this);let d=[];const h=o-1;for(let m=1;m<=h;m++){let e="0";const t=r[m-1];i[t]&&i[t].bet_chips&&(e=i[t].bet_chips);const a=u.createChips(this,e);a&&d.push(a)}this.chips=d;const p=Phaser.Math.DegToRad(173),f=Phaser.Math.DegToRad(399);Phaser.Actions.PlaceOnEllipse(this.chips,c,p,f)}catch(e){console.error("創建玩家籌碼時出錯:",e)}}connectToGameState(){var e;const t=(null==(e=Mx.tableState)?void 0:e.tableId)||"";t?(this.tableStateUpdateCallback=e=>{if(!this.scene||!this.scene.isActive||"function"!=typeof this.scene.isActive)return void console.log("場景已被銷毀，忽略更新");if(!this.scene.isActive())return void console.log("場景不活躍，忽略更新");if(this.currentTableState={...e},Mx.getPlayerSeatNumber(),!1===Mx.tableState.sitDownButton&&this.scene.start("PokerGameOver"),!e.mySeatList[t])return void console.warn(`沒有找到牌桌 ${t} 的玩家動作狀態`);if(!1===e.betSwitch)this.playerTempBetChips=this.playerBetChips;else if(this.playerTempBetChips&&this.playerTempBetChips.length>0){const{width:e,height:t}=this.scale,a=e/2,s=t/2;console.log("籌碼移動到中心",this.playerTempBetChips),this.playerTempBetChips.forEach(((e,t)=>{e&&e.active&&this.tweens.add({targets:e,x:a,y:s,duration:500,ease:"Power2",onComplete:()=>{e.setVisible(!1),e.setText&&e.setText("")}})})),this.time.delayedCall(600,(()=>{this.playerTempBetChips=[]}))}e.mySeatList[t]&&this.createMyData(),e.mySeatList[t].chips&&this.createMyData(),e.mySeatList[t].canDoActions&&this.createActionButtons(),e.mySeatList[t].myHandCard&&Array.isArray(e.mySeatList[t].myHandCard)&&e.mySeatList[t].myHandCard.length>=1?this.createMyCards():(this.myHandCards.forEach((e=>{e&&e.destroy&&e.destroy()})),this.myHandCards=[]),e.allSeats&&(this.createPlayerPositions(),this.createBetChips()),e.seatTime&&(this.createPlayerPositions(),this.createMyData()),e.publicCard&&this.createCommunityCardArea();const a=e.potAmountBox||"0";e.potAmountBox&&this.potText!==a&&this.createPotText(),e.potCollectBox&&this.createPotText(),e.potWinner&&this.createPotText(),e.playHand&&this.createGameStateText()},Ix.on("table-state-updated",this.tableStateUpdateCallback)):console.error("無效的牌桌ID，無法連接到遊戲狀態")}update(){const e=Math.floor(this.game.loop.actualFps);this.fpsText&&this.fpsText.setText("FPS: "+e)}shutdown(){try{this.sceneReady=!1,this.tableStateUpdateCallback&&(Ix.off("table-state-updated",this.tableStateUpdateCallback),this.tableStateUpdateCallback=null),this.time.removeAllEvents(),this.seatGame&&this.seatGame.clearSeats(),this.potGame.clearPotAndWinnerTexts(),this.actionButtonManager&&this.actionButtonManager.destroy(),this.betSliderContainer&&(this.betSliderContainer.destroy(),this.betSliderContainer=null,this.betSliderHandle=null,this.betAmountText=null),this.clearAllGameObjects(),this.potGame&&this.potGame.destroy(),this.tweens.killAll(),this.seatGame=new jx(this),Mx.setPlayerSeatNumber(0)}catch(e){console.error("關閉遊戲場景時出錯:",e)}}clearAllGameObjects(){[this.communityCards,this.winnerTexts,this.chipSprites,this.tableStatusText].forEach((e=>{e&&e.forEach((e=>{e&&e.destroy&&e.destroy()}))})),this.actionButtonManager.destroy(),this.betSliderContainer&&(this.betSliderContainer.destroy(),this.betSliderContainer=null,this.betSliderHandle=null,this.betAmountText=null),this.leaveButton&&this.leaveButton.destroy(),this.actionButtons.forEach((e=>{e&&e.destroy&&e.destroy()})),this.communityCards=[],this.tableStatusText=[],this.winnerTexts=[],this.chipSprites=[],this.actionButtons=[]}}class Xx{static getManager(e){if(!this.managers.has(e)){const t=new $x(this.apiBaseUrl,e);this.managers.set(e,t)}return this.managers.get(e)}static removeManager(e){const t=this.managers.get(e);t&&(t.disconnect(),this.managers.delete(e))}static getAllManagers(){return this.managers}static disconnectAll(){this.managers.forEach((e=>{e.disconnect()})),this.managers.clear()}}a(Xx,"managers",new Map),a(Xx,"apiBaseUrl","");class Qx extends s.Scene{constructor(){super("PokerGameOver"),a(this,"camera"),a(this,"gameOverText"),a(this,"nextScene","PokerBoot"),a(this,"tableId",""),a(this,"isTurboTable",!1),a(this,"background")}init(e){var t;e&&(e.nextScene&&(this.nextScene=e.nextScene),e.tableId&&(this.tableId=e.tableId)),this.isTurboTable="turbo"===(null==(t=Mx.tableState)?void 0:t.tableType),this.resetGameState()}create(){this.camera=this.cameras.main,this.camera.setBackgroundColor(0);const{width:e,height:t}=this.scale;this.background=this.add.rectangle(0,0,2*e,2*t,0).setOrigin(0).setDepth(0),this.gameOverText=this.add.text(e/2,t/2,"離座中...",{fontFamily:"Arial",fontSize:"32px",color:"#ffffff",align:"center"}).setOrigin(.5).setDepth(100),this.handleTransition(),this.events.on("shutdown",this.onShutdown,this),this.events.on("destroy",this.onDestroy,this),Ix.emit("current-scene-ready",this)}handleTransition(){console.log(`準備切換到場景: ${this.nextScene}`),this.changeScene()}resetGameState(){this.tableId&&(Xx.removeManager(this.tableId),console.log(`已移除牌桌 ${this.tableId} 的 GameStateManager`)),Ix.removeAllListeners("game-state-updated"),Ix.removeAllListeners("table-state-updated"),Ix.removeAllListeners("player-turn")}changeScene(){console.log(`切換到場景: ${this.nextScene}`),this.scene.start(this.nextScene)}onShutdown(){console.log("PokerGameOver 場景關閉")}onDestroy(){console.log("PokerGameOver 場景銷毀"),this.events.off("shutdown",this.onShutdown,this),this.events.off("destroy",this.onDestroy,this)}}class Jx extends s.Scene{constructor(){super("PokerGameTurboOver"),a(this,"camera"),a(this,"gameOverText"),a(this,"nextScene","PokerWait"),a(this,"tableId",""),a(this,"isTurboTable",!1),a(this,"background")}init(e){var t;e&&(e.nextScene&&(this.nextScene=e.nextScene),e.tableId&&(this.tableId=e.tableId)),this.isTurboTable="turbo"===(null==(t=Mx.tableState)?void 0:t.tableType),this.resetGameState()}create(){this.camera=this.cameras.main,this.camera.setBackgroundColor(0);const{width:e,height:t}=this.scale;this.background=this.add.rectangle(0,0,2*e,2*t,0).setOrigin(0).setDepth(0),this.gameOverText=this.add.text(e/2,t/2,"離座中...",{fontFamily:"Arial",fontSize:32,color:"#ffffff",align:"center"}).setOrigin(.5).setDepth(100),this.tweens.add({targets:this.gameOverText,alpha:{from:.2,to:1},duration:500,ease:"Power2",yoyo:!0,repeat:2,onComplete:()=>{this.handleTransition()}}),this.events.on("shutdown",this.onShutdown,this),this.events.on("destroy",this.onDestroy,this),Ix.emit("current-scene-ready",this)}handleTransition(){this.isTurboTable?(console.log("急速桌，準備跳轉到選桌頁面"),this.gameOverText.setText("即將返回選桌頁面..."),this.time.delayedCall(1e3,(()=>{window.location.href="/game/select"}))):(console.log(`準備切換到場景: ${this.nextScene}`),this.changeScene())}resetGameState(){this.tableId&&(Xx.removeManager(this.tableId),console.log(`已移除牌桌 ${this.tableId} 的 GameStateManager`)),Ix.removeAllListeners("game-state-updated"),Ix.removeAllListeners("table-state-updated"),Ix.removeAllListeners("player-turn"),this.tweens&&this.tweens.killAll()}changeScene(){console.log(`切換到場景: ${this.nextScene}`),this.scene.start(this.nextScene)}onShutdown(){console.log("PokerGameOver 場景關閉")}onDestroy(){console.log("PokerGameOver 場景銷毀"),this.events.off("shutdown",this.onShutdown,this),this.events.off("destroy",this.onDestroy,this)}}let Zx=null;const eS=375;var tS,aS,sS=window.innerHeight,nS=window.innerWidth,iS=Math.min(window.devicePixelRatio||1,2),oS=sS>nS,lS=sS/nS;function rS(){sS=window.innerHeight,nS=window.innerWidth,oS=sS>nS,(lS=sS/nS)>1.9&&oS?(aS=eS,tS=eS*(sS/nS),console.log("全面屏手機",aS,tS)):oS&&lS<1.9?(aS=eS,tS=667,console.log("一般豎屏設備",aS,tS)):(tS=667,aS=eS,console.log("橫屏設備",aS,tS)),tS*=iS,aS*=iS,Zx&&(Zx.scale.resize(aS,tS),Zx.scale.refresh())}rS(),window.addEventListener("resize",(()=>{nS=window.innerWidth,sS=window.innerHeight,rS()}));const cS={type:s.AUTO,width:aS,height:tS,parent:"game-container",pixelArt:!0,backgroundColor:"#000000",resolution:Math.max(window.devicePixelRatio,2),autoRound:!0,scene:[Ox,Dx,Lx,Ux,Jx,Kx,Yx,Qx],render:{antialias:!0,pixelArt:!1,clearBeforeRender:!0,failIfMajorPerformanceCaveat:!1,powerPreference:"high-performance"},scale:{mode:s.Scale.FIT,autoCenter:s.Scale.CENTER_BOTH,orientation:s.Scale.PORTRAIT},fps:{target:60,forceSetTimeOut:!1,min:10,paused:!1},physics:{default:"arcade",arcade:{debug:!0}},contextCreation:{powerPreference:"high-performance"}},uS={class:"phaser-game-container"},dS=Ir(Ra({__name:"PhaserGame",props:{gameId:{},tableName:{},tableType:{},playerToken:{},tableId:{},groupId:{},tournamentId:{},maxPlayers:{},currentPlayers:{},allSeats:{},minBuyIn:{},maxBuyIn:{},sitDownButton:{type:Boolean},seatButton:{},tableStatus:{},myNumber:{},canDoAction:{},showHoleCardsButton:{type:Boolean},potAmountBox:{},potCollectBox:{},potSideBox:{},potWinner:{},betSwitch:{type:Boolean},publicCard:{},call:{},mainRaise:{},maxRaise:{},playHand:{},myHandCard:{},allChipAdditionBox:{},seatTime:{},mySeatList:{}},emits:["current-active-scene","game-state-update"],setup(e,{expose:t,emit:a}){const n=At(),i=At(),o=At(null),l=e,r={maxPlayers:l.maxPlayers,currentPlayers:l.currentPlayers||[],tableId:l.tableId||"table-1",tournamentId:l.tournamentId||"",tableName:l.tableName||"Poker Table",minBet:l.minBuyIn||"600",maxBet:l.maxBuyIn||"1000",sitDownButton:l.sitDownButton||!1},c=a;function u(){try{const e={maxPlayers:void 0!==l.maxPlayers?l.maxPlayers:r.maxPlayers,currentPlayers:l.currentPlayers||r.currentPlayers,allSeats:l.allSeats||{},handId:l.gameId||"",tableId:l.tableId||r.tableId,groupId:l.groupId||"",tournamentId:l.tournamentId||"",tableName:l.tableName||r.tableName,tableType:l.tableType||"regular",mainBuyIn:l.minBuyIn||r.minBet,maxBuyIn:l.maxBuyIn||r.maxBet,sitDownButton:void 0!==l.sitDownButton?l.sitDownButton:r.sitDownButton,tableStatus:l.tableStatus,playHand:l.playHand,myNumber:l.myNumber,showHoleCardsButton:l.showHoleCardsButton,seatButton:l.seatButton,seatTime:l.seatTime,canDoAction:h(l.canDoAction||[]),call:l.call,mainRaise:l.mainRaise,maxRaise:l.maxRaise,myHandCard:l.myHandCard,allChipAdditionBox:l.allChipAdditionBox,potAmountBox:l.potAmountBox,potCollectBox:l.potCollectBox,potSideBox:l.potSideBox,potWinner:l.potWinner,publicCard:l.publicCard,betSwitch:l.betSwitch,mySeatList:l.mySeatList||{}};if(e.mySeatList){const t={...l.mySeatList};"undefined"in t&&delete t[void 0],e.mySeatList=t}Mx.updateTableState(e),l.gameId&&Mx.setHandId(l.gameId)}catch(e){console.error("更新遊戲狀態時出錯:",e)}}dn((()=>l),(e=>{ea((()=>{u(),e.currentPlayers&&Mx.updateTableState(o.value)}))}),{immediate:!0,deep:!0});const d=()=>{if(i.value)try{(()=>{try{Ix.off("current-scene-ready"),Ix.off("game-state-updated"),Ix.off("table-state-updated"),Mx&&"function"==typeof Mx.clearEventListeners&&Mx.clearEventListeners(),console.log("所有事件監聽器已移除")}catch(e){console.error("移除事件監聽器時出錯:",e)}})(),i.value.scene.scenes.forEach((e=>{e.scene&&"function"==typeof e.scene.isActive&&e.scene.isActive()&&e.scene.stop()})),i.value.destroy(!0),i.value=void 0,console.log("遊戲已成功銷毀")}catch(e){console.error("銷毀遊戲時出錯:",e)}};function h(e){if("blind_bet"===e[0])return[];const t=e.filter((e=>"blind_bet"!==e)),a=t.includes("all-in"),s=["bet","raise"].some((e=>t.includes(e)));let n=[];return t.includes("fold")&&n.push("fold"),t.includes("call")?n.push("call"):t.includes("check")&&n.push("check"),t.includes("bet")?n.push("bet"):t.includes("raise")&&n.push("raise"),a&&!s&&n.push("all-in"),n}return t({scene:n,game:i,gameState:o,updateGameState:e=>{try{o.value=e,Ix.emit("game-state-updated",e)}catch(t){console.error("更新遊戲狀態時出錯:",t)}},updateTableState:e=>{try{Mx.updateTableState(e)}catch(t){console.error("更新牌桌狀態時出錯:",t)}},destroyGame:d,sendPlayerAction:e=>Mx.sendPlayerAction(e)}),Xa((()=>{const e=document.getElementById("game-container");e&&(e.innerHTML=""),i.value=("game-container",Zx&&(Zx.destroy(!0),Zx=null),Zx=new s.Game({...cS,parent:"game-container"}),Zx),Ix.on("current-scene-ready",(e=>{c("current-active-scene",e),n.value=e,ea((()=>{u()})),void 0!==l.maxPlayers&&Mx.updateTableState({maxPlayers:l.maxPlayers,currentPlayers:l.currentPlayers||[],tableId:l.tableId})})),Ix.on("game-state-updated",(e=>{o.value=e,n.value&&"updateGameState"in n.value&&n.value.updateGameState(e),c("game-state-update",e)}))})),es((()=>{d(),Ix.off("current-scene-ready"),Ix.off("game-state-updated")})),(e,t)=>(En(),$n("div",uS,t[0]||(t[0]=[zn("div",{id:"game-container"},null,-1)])))}}),[["__scopeId","data-v-b37c0482"]]),hS={class:"eruda-debugger"},pS=["title"],fS=Ir(Ra({__name:"ErudaDebugger",props:{buttonText:{type:String,default:"Debug"}},setup(e){const t=At(!1),a=()=>"undefined"!=typeof window&&void 0!==window.eruda,s=async()=>{a()||await(async()=>{await new Promise((e=>{if(a())return void e();const t=document.createElement("script");t.src="https://cdn.jsdelivr.net/npm/eruda",document.body.appendChild(t),t.onload=()=>{e()}})),window.eruda._isInit||window.eruda.init({tool:["console","elements","network","resources","info","sources"],useShadowDom:!0,autoScale:!0,defaults:{displaySize:50,transparency:.9}})})(),window.eruda._isInit&&(t.value?window.eruda.hide():window.eruda.show(),t.value=!t.value)};return Xa((()=>{a()&&window.eruda._isInit&&(t.value=!0)})),es((()=>{t.value&&a()&&window.eruda._isInit&&window.eruda.hide()})),(a,n)=>(En(),$n("div",hS,[zn("button",{onClick:s,class:Y(["debug-btn",t.value?"active":""]),title:t.value?"關閉調試工具":"開啟調試工具"},ae(e.buttonText),11,pS)]))}}),[["__scopeId","data-v-c891ef70"]]),mS={class:"game-page"},gS={class:"game-Debugger"},vS=Ra({__name:"gameView",setup(e){const t=wr(),a=Wo();_r();const s=yr(),n=At(!1),i=At(localStorage.getItem("token")||""),o=At(localStorage.getItem("name")||""),l=pi((()=>a.currentTableId)),r=At(""),c=At(""),u=At([]),d=At([]),h=At({}),p=At({}),f=At([]),m=At(!1),g=At(null),v=At(""),b=At(""),y=At(null),_=At("0"),w=At("0"),x=At({}),S=At({}),k=At(!1);let C={};const T=At(""),B=At(""),A=At(""),I=At(0),E=At(""),P=At(""),O=At(0),D=At(!1),$=At(0),M=At([]),L=At(!1),N=At("0"),R=At("0"),j=At("0"),z=At("0"),V=At([]),H=At({seatNumber:0,startTime:0,endTime:0,timeLimit:0}),F=pi((()=>t.isConnected)),W=pi((()=>t.messages));async function U(){var e,t,a,n,o,g,y,_,w,x;m.value=!1;const S=Ho(`/api/v1/tables/${l.value}`);try{const k=await fetch(S,{method:"GET",headers:{Authorization:`Bearer ${i.value}`}});if(401===k.status)return console.error("認證失敗，跳轉到登入頁面"),void s.push("/login_line");const C=await k.json();console.log("獲取牌桌資料",C),T.value=C.data.name,b.value=C.data.type,I.value=C.data.max_players,E.value=C.data.min_buy_in,P.value=C.data.max_buy_in,v.value=C.data.current_hand,B.value=C.data.status,O.value=C.data.button_seat,r.value=C.data.group||"",C.data.tournament_id?c.value=C.data.tournament_id:c.value="",h.value=C.data.seats,d.value=[];for(const s of Object.keys(C.data.seats)){const i=C.data.seats[s].number,l=(null==(e=C.data.seats[s].player)?void 0:e.character)||"",r=(null==(t=C.data.seats[s].player)?void 0:t.nickname)||"",c=C.data.seats[s].chips||"",u=C.data.seats[s].bet_chips||"",h=C.data.seats[s].status,p=(null==(a=C.data.seats[s].seat_hand)?void 0:a.best_rank)||"",f=(null==(n=C.data.seats[s].seat_hand)?void 0:n.hole_cards)||"",m=C.data.seats[s].show_hole_cards||0,g=(null==(o=C.data.seats[s].player)?void 0:o.avatar)||"",v=0;d.value.push({number:i,playerCharacter:l,playerStatus:h,playerName:r,playerChips:c,playerBetChips:u,playerCardBest:p,handShowCards:m,playerCard:f,playerAvatar:g,timeLimitNumber:v})}C.data.my_seat?(N.value=null==(g=C.data.my_seat)?void 0:g.can_bet,R.value=null==(y=C.data.my_seat)?void 0:y.can_bet_min,j.value=null==(_=C.data.my_seat)?void 0:_.can_bet_max,D.value=!0,M.value=(null==(w=C.data.my_seat)?void 0:w.hole_cards)||[],$.value=C.data.my_seat.number,f.value=C.data.my_seat.can_do_actions,p.value[C.data.id]={tableId:C.data.id,tableName:C.data.name||"",status:C.data.status,seatNumber:C.data.my_seat.number,playerName:C.data.my_seat.player.nickname||"",character:C.data.my_seat.player.character||"",chips:C.data.my_seat.chips||"0",avatar:C.data.my_seat.player.avatar||"",canDoActions:C.data.my_seat.can_do_actions||[],betChips:C.data.my_seat.bet_chips||"0",call:C.data.my_seat.can_bet||"0",mainRaise:C.data.my_seat.can_bet_min||"0",maxRaise:C.data.my_seat.can_bet_max||"0",myHandCard:C.data.my_seat.hole_cards||[],showHoleCards:C.data.my_seat.show_hole_cards||0,myCardBestRank:K(null==(x=C.data.my_seat.seat_hand)?void 0:x.best_rank)||""}):(D.value=!1,console.log("API沒有個人資料觸發玩家離座動畫")),"playing"===B.value&&async function(){const e=Ho(`/api/v1/tables/${l.value}/hand`);try{const t=await fetch(e,{method:"GET",headers:{Authorization:`Bearer ${i.value}`}});if(401===t.status)return console.error("認證失敗，跳轉到登入頁面"),void s.push("/login_line");if(!t.ok)return console.error(`伺服器返回錯誤狀態: ${t.status}`),void(404===t.status&&(console.log("當前沒有活躍的牌局"),B.value="waiting",u.value=[]));const a=await t.json();console.log("獲取牌桌遊戲資料",a),A.value=q(a.data.hand_phase),u.value=a.data.community_cards}catch(t){console.error("獲取牌桌遊戲資料失敗:",t)}}(),m.value=!0}catch(k){console.error("獲取牌桌資料失敗:",k),m.value=!0}}async function G(){const e=Ho(`/api/v1/tables?player=${o.value}`);try{const t=await fetch(e,{method:"GET",headers:{Authorization:`Bearer ${i.value}`}}),a=await t.json();console.log("獲取桌子列表返回數據:",a),a.data.tables&&Array.isArray(a.data.tables)?(a.data.tables.forEach((e=>{var t,a,s,n,i,o,l,r,c,u,d,h,f,m,g;p.value[e.id]={tableId:e.id,tableName:e.name||"",status:e.status,seatNumber:(null==(t=e.my_seat)?void 0:t.number)||0,playerName:(null==(s=null==(a=e.my_seat)?void 0:a.player)?void 0:s.nickname)||"",character:(null==(i=null==(n=e.my_seat)?void 0:n.player)?void 0:i.character)||"",chips:(null==(o=e.my_seat)?void 0:o.chips)||"0",avatar:(null==(r=null==(l=e.my_seat)?void 0:l.player)?void 0:r.avatar)||"",canDoActions:(null==(c=e.my_seat)?void 0:c.can_do_actions)||[],betChips:(null==(u=e.my_seat)?void 0:u.bet_chips)||"0",call:(null==(d=e.my_seat)?void 0:d.can_bet)||"0",mainRaise:(null==(h=e.my_seat)?void 0:h.can_bet_min)||"0",maxRaise:(null==(f=e.my_seat)?void 0:f.can_bet_max)||"0",myHandCard:(null==(m=e.my_seat)?void 0:m.hole_cards)||[],showHoleCards:e.my_seat.show_hole_cards||0,myCardBestRank:K(null==(g=e.my_seat.seat_hand)?void 0:g.best_rank)||""}})),console.log("獲取入座桌子列表成功:",p.value)):console.warn("獲取桌子列表返回格式不符合預期:",a)}catch(t){console.error("獲取桌子列表時發生錯誤:",t)}}function q(e){return{init:"洗牌及切牌",blind_bet:"小盲注和大盲注",deal:"發牌",preflop_bet:"翻牌前下注圈",flop:"翻牌",flop_bet:"翻牌圈下注",turn:"轉牌",turn_bet:"轉牌圈下注",river:"河牌",river_bet:"河牌圈下注",bet_end:"下注結束",showdown:"攤牌",complete:"牌局結束"}[e]||e}function K(e){return{none:"無牌型",high_card:"高牌",pair:"對子",two_pair:"兩對",three_of_a_kind:"三條",straight:"順子",flush:"同花",full_house:"葫蘆",four_of_a_kind:"四條",straight_flush:"同花順",royal_flush:"皇家同花順"}[e]||e}function Y(){d.value=[],u.value=[],f.value=[],_.value="0",S.value={},C={},M.value=[],N.value="0",R.value="0",j.value="0",V.value=[],l.value&&p.value[l.value]&&delete p.value[l.value]}return dn((()=>a.currentTableId),((e,a)=>{e!==a&&(console.log("監聽到桌子ID變更:",e),m.value=!1,g.value&&"function"==typeof g.value.destroyGame&&g.value.destroyGame(),Y(),e?U().then((()=>{G().then((()=>{t.resubscribeToTablePlay(e),m.value=!0}))})):m.value=!0)})),dn(F,(e=>{e&&(console.log("WebSocket 已連線，開始訂閱"),i.value?(U(),G(),t.resubscribeToTablePlay(l.value)):console.warn("沒有可用的 token，無法訂閱"))}),{immediate:!0}),dn(W,(e=>{if(e)try{const s=e;if("user_move"===s.event)return m.value=!1,r.value=s.to_table_group||"",c.value=s.tournament_id||"",a.setTableId(s.to_table_id),void(m.value=!0);if(s.table_id&&s.table_id!==l.value)return console.log("WebSocket 消息中的 table_id 與當前 tableId 不匹配:",s.table_id,l.value),void(m.value=!0);if("seat_chips"===s.event){m.value=!1;const e=s.seat_number-1;return"0"!==s.amount&&s.bet_chips,k.value,d.value[e].playerChips=s.chips,d.value[e].playerReasonChips=s.reason,d.value[e].playerAmount=s.amount,l.value===s.table_id&&(h.value[s.seat_number].chips=s.chips,h.value[s.seat_number].bet_chips=s.bet_chips),"0"===s.bet_chips?d.value[e].playerBetChips="0":d.value[e].playerBetChips=s.bet_chips,p.value[s.table_id]&&s.seat_number===p.value[s.table_id].seatNumber&&(p.value[s.table_id]={...p.value[s.table_id],chips:s.chips||"0",betChips:s.bet_chips||"0"}),void(m.value=!0)}if("seat_status"===s.event){m.value=!1;const e=s.seat_number-1;return"away"===s.status||(l.value===s.table_id&&(h.value[s.seat_number].status=s.status),p.value[s.table_id]&&s.seat_number===p.value[s.table_id].seatNumber&&(p.value[s.table_id]={...p.value[s.table_id],status:s.status}),d.value[e]&&("playing"===s.old_status&&"folded"===s.status&&(d.value[e].seatAction="folded"),"folded"===s.old_status&&"waiting"===s.status&&(d.value[e].seatAction=s.status),d.value[e].seatAction=s.status,d.value[e].playerStatus=s.status)),void(m.value=!0)}if("seat_join_leave"===s.event){m.value=!1;const e=s.seat_number-1,t=s.seat_number;if(h.value[t].player||(h.value[t].player={}),l.value===s.table_id&&(h.value[t].status=s.status,h.value[t].player.avatar=null==s?void 0:s.avatar,h.value[t].player.character=null==s?void 0:s.character,h.value[t].player.nickname=null==s?void 0:s.nickname,h.value[t].player.username=null==s?void 0:s.username),e>=0&&e<d.value.length){const a={...d.value[e]};a.number=t,a.playerStatus=s.status,a.playerName=s.nickname||"",a.playerAvatar=s.avatar||"",a.timeLimitNumber=0,a.playerCharacter=s.character||"",d.value[e]=a}return"leave"===s.action&&(d.value[e].playerChips="0",d.value[e].playerName=""),void(m.value=!0)}if("balance_deduct"===s.event)return m.value=!1,y.value=s.balance,void(m.value=!0);if("pot"===s.event){if(m.value=!1,_.value=s.total_pot_amount,"bet"===s.reason&&(k.value=!1),"collect"===s.reason){const e=Number(s.pot.amount),t=s.pot.order;0===t?w.value=s.pot.amount:x.value[t]=s.pot.amount,C[t]={reason:s.reason,amount:e,players:[]},S.value={...C},k.value=!0}if("clear"===s.reason&&(C={},S.value={},_.value="0",w.value="0",x.value={}),s.winners){const e=Object.keys(s.winners),t=s.pot.order,a=Number(s.pot.amount),n=e.map((e=>({name:s.winners[e].nickname,seatNumber:parseInt(e,10)})));C[t]={reason:s.reason,amount:a,players:n},S.value={...C}}return void(m.value=!0)}if("user_join_leave"===s.event){m.value=!1;const e=s.seat_number-1;return"join"===s.action&&(D.value=!0,M.value=[],$.value=s.seat_number,d.value[e].playerStatus=s.status,U(),p.value[s.table_id]={...p.value[s.table_id],tableId:s.table_id,tableName:s.table_name||"",status:s.status,seatNumber:s.seat_number,playerName:s.nickname||"",character:s.character||"",avatar:s.avatar||""}),"leave"===s.action&&(D.value=!1,M.value=[],d.value[e].playerStatus=s.status,S.value={},_.value="0",$.value=0,console.log("即時資料玩家離開觸發離座動畫:",T.value),p.value[s.table_id]&&delete p.value[s.table_id]),"away"===s.action&&(console.log("自己畫面斷線"),t.resubscribeToTablePlay(l.value)),void(m.value=!0)}if("show_hole_cards"===s.event){m.value=!1,h.value[s.seat_num].show_hole_cards=s.show_hole_cards,h.value[s.seat_num].hole_cards=s.hole_cards,h.value[s.seat_num].seat_hand.best_rank=s.best_rank_code,h.value[s.seat_num].seat_hand.best_community_cards=s.best_community_cards,h.value[s.seat_num].seat_hand.best_hole_cards=s.best_hole_cards;const e=s.seat_num-1,t={...d.value[e]};return t.playerCard=s.hole_cards,t.handShowCards=s.show_hole_cards,t.playerCardBest=K(s.best_rank_code),d.value[e]=t,p.value[s.table_id]&&s.seat_num===p.value[s.table_id].seatNumber&&(p.value[s.table_id]={...p.value[s.table_id],showHoleCards:s.show_hole_cards||0,myCardBestRank:K(s.best_rank_code)||""}),void(m.value=!0)}if("table_play_hand_update"===s.event)return m.value=!1,A.value=q(s.hand.hand_phase),u.value=s.hand.community_cards,void(m.value=!0);if("table_play_actor_update"===s.event){m.value=!1;const e={startTime:s.start_time||0,endTime:s.end_time||0,seatNumber:s.actor_seat||0,timeLimit:s.time_limit||0};return H.value=e,void(m.value=!0)}if("table_play_update"===s.event)return m.value=!1,v.value=s.table.current_hand,B.value=s.table.status,O.value=s.table.button_seat,"waiting"===s.table.stats&&(B.value="",u.value=[]),void(m.value=!0);if("user_can_do_actions_update"===s.event){if(m.value=!1,s.table_id!==l.value)return void console.warn("WebSocket 消息中的 table_id 與當前 tableId 不匹配:",s.table_id,l.value);$.value=s.seat_num,f.value=s.can_do_actions,N.value=s.can_bet,R.value=s.can_bet_min,j.value=s.can_bet_max,z.value=s.can_bet_min,p.value[s.table_id]&&(p.value[s.table_id]={...p.value[s.table_id],canDoActions:s.can_do_actions||[],call:s.can_bet||"0",mainRaise:s.can_bet_min||"0",maxRaise:s.can_bet_max||"0"});const e=["33%","50%","75%"];return V.value=e.filter((e=>{var t;return void 0!==(null==(t=s.can_bet_pot_percents)?void 0:t[e])})).reverse().map((e=>({[e]:s.can_bet_pot_percents[e]}))),s.can_do_actions&&(L.value=s.can_do_actions.includes("show_cards")),void(m.value=!0)}if("user_hole_cards_update"===s.event)return m.value=!1,s.table_id!==l.value?void console.warn("WebSocket 消息中的 table_id 與當前 tableId 不匹配:",s.table_id,l.value):(M.value=s.hole_cards,p.value[s.table_id]&&(p.value[s.table_id]={...p.value[s.table_id],myHandCard:s.hole_cards||[]}),void(m.value=!0))}catch(Sm){console.error("解析 WebSocket 訊息時發生錯誤:",Sm)}})),Xa((async()=>{console.log("tableId:",l.value),Y(),U(),G()})),Za((()=>{g.value&&"function"==typeof g.value.destroyGame&&g.value.destroyGame()})),es((()=>{t.unsubscribeFromTablePlay(l.value)})),(e,t)=>(En(),$n("div",mS,[da(zn("div",null,[Vn(Ax)],512),[[Vi,n.value]]),zn("div",gS,[Vn(fS,{buttonText:"Debug"})]),m.value?(En(),Mn(dS,{ref_key:"gameRef",ref:g,gameId:v.value,tableName:T.value,tableType:b.value,playerToken:i.value,tableId:l.value,groupId:r.value,tournamentId:c.value,maxPlayers:I.value,currentPlayers:d.value,allSeats:h.value,minBuyIn:E.value,maxBuyIn:P.value,sitDownButton:D.value,seatButton:O.value,tableStatus:B.value,playHand:A.value,showHoleCardsButton:L.value,potAmountBox:_.value,potCollectBox:w.value,potSideBox:x.value,potWinner:S.value,betSwitch:k.value,publicCard:u.value,myHandCard:M.value,allChipAdditionBox:V.value,key:l.value,seatTime:H.value,canDoAction:f.value,call:N.value,maxRaise:j.value,mainRaise:R.value,myNumber:$.value,mySeatList:p.value},null,8,["gameId","tableName","tableType","playerToken","tableId","groupId","tournamentId","maxPlayers","currentPlayers","allSeats","minBuyIn","maxBuyIn","sitDownButton","seatButton","tableStatus","playHand","showHoleCardsButton","potAmountBox","potCollectBox","potSideBox","potWinner","betSwitch","publicCard","myHandCard","allChipAdditionBox","seatTime","canDoAction","call","maxRaise","mainRaise","myNumber","mySeatList"])):Gn("",!0)]))}}),bS=Ir(vS,[["__scopeId","data-v-5c2b36e7"]]);let yS=class extends s.Scene{constructor(){super("Boot")}preload(){this.load.image("background","https://olivertsai.github.io/Work-Results/assets/picture/bgTable.png"),this.load.image("Table","https://olivertsai.github.io/Work-Results/assets/picture/Table.png"),this.load.image("logo","https://olivertsai.github.io/Work-Results/assets/picture/logo.png"),this.load.image("star","https://olivertsai.github.io/Work-Results/assets/picture/star.png")}create(){console.log("Boot"),this.scene.start("Preloader")}},_S=class extends s.Scene{constructor(){super("Preloader")}init(){const{width:e,height:t}=this.scale;this.add.image(e/2,t/2,"background").setDisplaySize(e,t),this.add.image(.8*e,.9*t,"logo").setScale(.8);const a=Math.min(.8*e,468);this.add.rectangle(e/2,t/2,a,32).setStrokeStyle(1,16777215);const s=this.add.graphics();s.lineStyle(1,16769179),s.strokeRoundedRect(e/2-(a+50)/2,t/2-41,a+50,82,15);const n=this.add.rectangle(e/2-a/2+2,t/2,4,28,16769179),i=this.add.image(e/2-a/2+2,t/2,"star").setScale(.5);this.load.on("progress",(t=>{n.width=4+(a-8)*t,i.x=e/2-a/2+2+(a-8)*t})),this.scale.scaleMode=Phaser.Scale.FIT,this.scale.refresh()}preload(){this.load.image("刺客","https://olivertsai.github.io/Work-Results/assets/picture/user/assa_sat1-1.png"),this.load.image("魔法師","https://olivertsai.github.io/Work-Results/assets/picture/user/mage_sat1-1.png"),this.load.image("弓箭手","https://olivertsai.github.io/Work-Results/assets/picture/user/弓箭手1-1NEW sat.png"),this.load.image("祭司","https://olivertsai.github.io/Work-Results/assets/picture/user/祭司_sat1-1.png"),this.load.image("騎士","https://olivertsai.github.io/Work-Results/assets/picture/user/knight1_1_sat.png")}create(){console.log("Preloader"),this.scene.start("MainMenu")}};const wS={splitShot:{id:"splitShot",name:"分裂射擊",maxLevel:5,getDescription:e=>`發射額外 ${e} 個光球`,getEffect:(e,t)=>{e.splitShot=t}},piercingShot:{id:"piercingShot",name:"穿透射擊",maxLevel:3,getDescription:e=>`光球可以穿透 ${e} 個敵人`,getEffect:(e,t)=>{e.piercingShot=t}},explosion:{id:"explosion",name:"爆炸效果",maxLevel:3,getDescription:e=>`擊殺敵人時產生半徑 ${20*e} 的爆炸`,getEffect:(e,t)=>{e.explosion=t}},harmBoost:{id:"harmBoost",name:"攻擊加成",maxLevel:10,getDescription:e=>`增加 ${e} 點攻擊力`,getEffect:(e,t)=>{e.harmBoost=t}},speedBoost:{id:"speedBoost",name:"速度加成",maxLevel:10,getDescription:e=>`增加 ${e} 點速度`,getEffect:(e,t)=>{e.speedBoost=t}}};function xS(e){Object.keys(wS).forEach((t=>{const a=e[t]||0;a>0&&wS[t].getEffect(e,a)}))}let SS=class extends s.Scene{constructor(){super("MainMenu"),a(this,"background"),a(this,"player"),a(this,"playerList",[]),a(this,"characterData",[]),a(this,"currentIndex",0),a(this,"lightBalls"),a(this,"shootTimer"),a(this,"isShooting",!1),a(this,"nameText"),a(this,"levelText"),a(this,"expText"),a(this,"skillPointsText"),a(this,"statsText"),a(this,"leftButton"),a(this,"rightButton"),a(this,"startGameButton"),a(this,"startGameText"),a(this,"skillTipText"),a(this,"resetButton"),a(this,"resetText"),a(this,"swipeStartX",0),a(this,"swipeStartTime",0),a(this,"isSwipping",!1)}init(){const{width:e,height:t}=this.scale;this.background=this.add.image(e/2,t/2,"background").setDisplaySize(e,t),this.loadCharacterData()}loadCharacterData(){const e=localStorage.getItem("characterData");if(e)try{this.characterData=JSON.parse(e),console.log("從本機讀取角色資料成功"),this.initCharactersSkillData()}catch(t){console.error("解析本機角色資料失敗，創建新資料",t),this.createDefaultCharacterData()}else console.log("本機沒有角色資料，創建新資料"),this.createDefaultCharacterData()}initCharactersSkillData(){this.characterData.forEach((e=>{void 0===e.skillPoints&&(e.skillPoints=0),["splitShot","piercingShot","explosion","harmBoost","speedBoost"].forEach((t=>{void 0===e[t]&&(e[t]=0)})),xS(e)})),this.saveCharacterData()}createDefaultCharacterData(){this.characterData=[{name:"魔法師",harm:1,speed:1,lv:1,exp:0,maxExp:10,skillPoints:0},{name:"刺客",harm:1,speed:1,lv:1,exp:0,maxExp:10,skillPoints:0},{name:"弓箭手",harm:1,speed:1,lv:1,exp:0,maxExp:10,skillPoints:0},{name:"祭司",harm:1,speed:1,lv:1,exp:0,maxExp:10,skillPoints:0},{name:"騎士",harm:1,speed:1,lv:1,exp:0,maxExp:10,skillPoints:0}],this.saveCharacterData()}saveCharacterData(){try{this.characterData.forEach((e=>{["splitShot","piercingShot","explosion","harmBoost","speedBoost","skillPoints","lv","exp","maxExp"].forEach((t=>{void 0===e[t]&&(e[t]=0)}))})),localStorage.setItem("characterData",JSON.stringify(this.characterData)),console.log("角色資料已儲存到本機",this.characterData)}catch(e){console.error("儲存角色資料到本機失敗",e)}}create(){this.renderCharacterSelection()}renderCharacterSelection(){const{width:e,height:t}=this.scale;this.playerList.forEach((e=>e.destroy())),this.playerList=[];const a=this.characterData[this.currentIndex];this.player=this.add.image(e/2,t/2-100,a.name).setScale(1.2).setInteractive(),this.playerList.push(this.player),this.add.rectangle(e/2,t/2+270,.9*e,350,0,.7).setOrigin(.5),this.nameText=this.add.text(e/2,t/2+170,a.name,{fontSize:"48px",color:"#ffffff",fontStyle:"bold"}).setOrigin(.5),this.levelText=this.add.text(e/2,t/2+230,`等級: ${a.lv}`,{fontSize:"36px",color:"#ffcc00"}).setOrigin(.5),this.expText=this.add.text(e/2,t/2+290,`經驗: ${a.exp}/${a.maxExp}`,{fontSize:"32px",color:"#ffffff"}).setOrigin(.5),this.skillPointsText=this.add.text(e/2,t/2+350,`技能點數: ${a.skillPoints}`,{fontSize:"32px",color:"#00ff00"}).setOrigin(.5);const s=a.harmBoost||0,n=a.speedBoost||0;this.statsText=this.add.text(e/2,t/2+410,`攻擊: ${a.harm}${s>0?`+${s}`:""}   速度: ${a.speed}${n>0?`+${n}`:""}`,{fontSize:"32px",color:"#ffffff"}).setOrigin(.5),a.skillPoints>0&&(this.skillTipText=this.add.text(e/2,t/2+470,"進入遊戲後可以使用技能點數提升能力",{fontSize:"24px",color:"#ffff00",fontStyle:"bold"}).setOrigin(.5)),this.startGameButton=this.add.rectangle(e/2-120,t/2+100,200,60,16733986,1).setOrigin(.5).setInteractive(),this.startGameText=this.add.text(e/2-120,t/2+100,"開始遊戲",{fontSize:"36px",color:"#ffffff",fontStyle:"bold"}).setOrigin(.5),this.startGameButton.on("pointerdown",(()=>{this.startGame()})),this.resetButton=this.add.rectangle(e/2+120,t/2+100,200,60,4149685,1).setOrigin(.5).setInteractive(),this.resetText=this.add.text(e/2+120,t/2+100,"重置角色",{fontSize:"36px",color:"#ffffff",fontStyle:"bold"}).setOrigin(.5),this.resetButton.on("pointerdown",(()=>{this.resetCharacter()})),this.leftButton=this.add.triangle(.1*e,t/2,0,15,30,0,30,30,16777215).setInteractive(),this.leftButton.on("pointerdown",(()=>{this.prevCharacter()})),this.rightButton=this.add.triangle(.9*e,t/2,0,0,0,30,30,15,16777215).setInteractive(),this.rightButton.on("pointerdown",(()=>{this.nextCharacter()})),this.input.on("pointerdown",this.startSwipe,this),this.input.on("pointerup",this.endSwipe,this),this.input.on("pointermove",this.moveSwipe,this)}resetCharacter(){const e=this.characterData[this.currentIndex],{width:t,height:a}=this.scale,s=this.add.rectangle(t/2,a/2,.8*t,.3*a,0,.9).setOrigin(.5).setInteractive(),n=this.add.text(t/2,a/2-50,`確定要重置 ${e.name} 的等級和技能點數嗎？`,{fontSize:"24px",color:"#ffffff",fontStyle:"bold"}).setOrigin(.5),i=this.add.rectangle(t/2-100,a/2+30,150,50,5025616,1).setOrigin(.5).setInteractive(),o=this.add.text(t/2-100,a/2+30,"確定",{fontSize:"24px",color:"#ffffff"}).setOrigin(.5),l=this.add.rectangle(t/2+100,a/2+30,150,50,16007990,1).setOrigin(.5).setInteractive(),r=this.add.text(t/2+100,a/2+30,"取消",{fontSize:"24px",color:"#ffffff"}).setOrigin(.5);i.on("pointerdown",(()=>{this.characterData[this.currentIndex]={name:e.name,harm:1,speed:1,lv:1,exp:0,maxExp:10,skillPoints:0,splitShot:0,piercingShot:0,explosion:0,harmBoost:0,speedBoost:0},xS(this.characterData[this.currentIndex]),this.saveCharacterData(),this.updateCharacterDisplay(),s.destroy(),n.destroy(),i.destroy(),o.destroy(),l.destroy(),r.destroy();const c=this.add.text(t/2,a/2,"角色已重置",{fontSize:"32px",color:"#4CAF50",fontStyle:"bold"}).setOrigin(.5);this.tweens.add({targets:c,alpha:0,y:a/2-50,duration:1500,onComplete:()=>{c.destroy()}})})),l.on("pointerdown",(()=>{s.destroy(),n.destroy(),i.destroy(),o.destroy(),l.destroy(),r.destroy()}))}startGame(){const e=this.characterData[this.currentIndex];localStorage.setItem("lastSelectedCharacterIndex",this.currentIndex.toString()),this.scene.start("GameStart",{character:e}),console.log(`開始遊戲，選擇角色: ${e.name}`)}prevCharacter(){this.currentIndex=(this.currentIndex-1+this.characterData.length)%this.characterData.length,this.updateCharacterDisplay()}nextCharacter(){this.currentIndex=(this.currentIndex+1)%this.characterData.length,this.updateCharacterDisplay()}updateCharacterDisplay(){const e=this.characterData[this.currentIndex];this.player.setTexture(e.name);const t=e.harmBoost||0,a=e.speedBoost||0;if(this.nameText.setText(e.name),this.levelText.setText(`等級: ${e.lv}`),this.expText.setText(`經驗: ${e.exp}/${e.maxExp}`),this.skillPointsText.setText(`技能點數: ${e.skillPoints}`),this.statsText.setText(`攻擊: ${e.harm}${t>0?`+${t}`:""}   速度: ${e.speed}${a>0?`+${a}`:""}`),this.skillTipText&&this.skillTipText.destroy(),e.skillPoints>0){const{width:e,height:t}=this.scale;this.skillTipText=this.add.text(e/2,t/2+470,"進入遊戲後可以使用技能點數提升能力",{fontSize:"24px",color:"#ffff00",fontStyle:"bold"}).setOrigin(.5)}}startSwipe(e){this.swipeStartX=e.x,this.swipeStartTime=Date.now(),this.isSwipping=!0}moveSwipe(e){this.isSwipping}endSwipe(e){if(!this.isSwipping)return;const t=Date.now()-this.swipeStartTime,a=e.x-this.swipeStartX;t<500&&Math.abs(a)>50&&(a>0?this.prevCharacter():this.nextCharacter()),this.isSwipping=!1}update(){}},kS=class extends s.Scene{constructor(){super("GameStart"),a(this,"background"),a(this,"player"),a(this,"lightBalls"),a(this,"shootTimer"),a(this,"isShooting",!1),a(this,"characterData"),a(this,"nameText"),a(this,"levelText"),a(this,"statsText"),a(this,"expText"),a(this,"shootInterval",200),a(this,"expBar"),a(this,"monsters"),a(this,"monsterSpawnTimer"),a(this,"gameOver",!1),a(this,"skillSelectionUI"),a(this,"isSkillSelectionOpen",!1)}init(e){if(this.gameOver=!1,this.isSkillSelectionOpen=!1,e&&e.character)this.characterData=e.character,this.initCharacterSkills(),this.updateShootInterval(),console.log("接收到角色資料:",this.characterData);else try{const e=localStorage.getItem("lastSelectedCharacterIndex"),t=localStorage.getItem("characterData");if(console.log("從localStorage讀取角色資料:",e,t),e&&t){const a=JSON.parse(t);this.characterData=a[parseInt(e)],console.log("從localStorage讀取角色資料:",this.characterData),this.initCharacterSkills(),this.updateShootInterval()}else console.error("沒有角色資料可用"),this.characterData={name:"魔法師",harm:1,speed:1,lv:1,exp:0,maxExp:10,skillPoints:0},this.shootInterval=200}catch(s){console.error("讀取角色資料失敗",s),this.characterData={name:"魔法師",harm:1,speed:1,lv:1,exp:0,maxExp:10,skillPoints:0},this.shootInterval=200}const{width:t,height:a}=this.scale;this.background=this.add.image(t/2,a/2,"background").setDisplaySize(t,a)}initCharacterSkills(){void 0===this.characterData.skillPoints&&(this.characterData.skillPoints=0),["splitShot","piercingShot","explosion","harmBoost","speedBoost"].forEach((e=>{void 0===this.characterData[e]&&(this.characterData[e]=0)})),xS(this.characterData)}updateShootInterval(){const e=this.characterData.speedBoost||0,t=this.characterData.speed+e;this.shootInterval=Math.max(50,200-15*t),this.isShooting&&this.shootTimer&&(this.shootTimer.remove(),this.shootTimer=this.time.addEvent({delay:this.shootInterval,callback:this.shootLightBall,callbackScope:this,loop:!0}))}create(){const{width:e,height:t}=this.scale;this.player=this.add.image(e/2,t-200,this.characterData.name).setInteractive(),this.lightBalls=this.add.group(),this.monsters=this.add.group(),this.createCharacterUI(),this.input.on("pointermove",(e=>{!e.isDown||this.gameOver||this.isSkillSelectionOpen||(this.player.x=e.x)})),this.input.on("pointerdown",(()=>{this.gameOver||this.isSkillSelectionOpen||(this.isShooting=!0,this.shootTimer=this.time.addEvent({delay:this.shootInterval,callback:this.shootLightBall,callbackScope:this,loop:!0}))})),this.input.on("pointerup",(()=>{this.isShooting=!1,this.shootTimer&&this.shootTimer.remove()}));const a=this.add.rectangle(80,40,120,50,0,.7).setOrigin(.5).setInteractive();this.add.text(80,40,"返回",{fontSize:"24px",color:"#ffffff"}).setOrigin(.5),a.on("pointerdown",(()=>{this.scene.start("MainMenu")})),this.createSkillButton(),this.monsterSpawnTimer=this.time.addEvent({delay:5e3,callback:this.spawnMonster,callbackScope:this,loop:!0}),this.spawnMonster(),this.createSkillSelectionUI()}createSkillButton(){const{width:e}=this.scale,t=this.add.rectangle(e-80,40,120,50,0,.7).setOrigin(.5).setInteractive();this.add.text(e-80,40,"技能",{fontSize:"24px",color:"#ffffff"}).setOrigin(.5);const a=this.add.text(e-80,65,`點數: ${this.characterData.skillPoints||0}`,{fontSize:"16px",color:"#ffff00"}).setOrigin(.5);this.characterData.skillPointsText=a,t.on("pointerdown",(()=>{this.toggleSkillSelectionUI()}))}createSkillSelectionUI(){const{width:e,height:t}=this.scale;this.skillSelectionUI=this.add.container(0,0),this.skillSelectionUI.setVisible(!1);const a=this.add.rectangle(e/2,t/2,e,t,0,.8);this.skillSelectionUI.add(a);const s=this.add.text(e/2,50,"技能選擇",{fontSize:"36px",color:"#ffffff",fontStyle:"bold"}).setOrigin(.5);this.skillSelectionUI.add(s);const n=this.add.text(e/2,90,`可用技能點數: ${this.characterData.skillPoints||0}`,{fontSize:"24px",color:"#ffff00"}).setOrigin(.5);this.skillSelectionUI.add(n),this.characterData.skillUIPointsText=n;(function(e){const t=[];return Object.keys(wS).forEach((a=>{const s=e[a]||0;t.push({...wS[a],level:s})})),t})(this.characterData).forEach(((t,a)=>{const s=150+80*a,n=this.add.rectangle(e/2,s,.8*e,70,3355443,.9).setOrigin(.5);this.skillSelectionUI.add(n);const i=this.add.text(.2*e,s-15,`${t.name} (等級 ${t.level}/${t.maxLevel})`,{fontSize:"20px",color:"#ffffff",fontStyle:"bold"}).setOrigin(0,.5);this.skillSelectionUI.add(i);const o=this.add.text(.2*e,s+15,t.getDescription(t.level),{fontSize:"16px",color:"#aaaaaa"}).setOrigin(0,.5);this.skillSelectionUI.add(o);const l=this.add.rectangle(.8*e,s,100,40,t.level<t.maxLevel?26112:6684672,.9).setOrigin(.5).setInteractive();this.skillSelectionUI.add(l);const r=this.add.text(.8*e,s,t.level<t.maxLevel?"升級":"已滿級",{fontSize:"18px",color:"#ffffff"}).setOrigin(.5);this.skillSelectionUI.add(r),l.on("pointerdown",(()=>{this.characterData.skillPoints>0&&t.level<t.maxLevel&&function(e,t){if(!wS[t])return console.error(`技能 ${t} 不存在`),!1;if(e.skillPoints<=0)return console.log("沒有足夠的技能點數"),!1;const a=e[t]||0;return a>=wS[t].maxLevel?(console.log(`技能 ${wS[t].name} 已達最高等級`),!1):(e[t]=a+1,e.skillPoints-=1,wS[t].getEffect(e,e[t]),console.log(`升級技能 ${wS[t].name} 到等級 ${e[t]}`),!0)}(this.characterData,t.id)&&(this.updateSkillUI(),this.updateShootInterval(),this.updateCharacterStats())}))}));const i=this.add.rectangle(e/2,t-50,200,60,6684672,.9).setOrigin(.5).setInteractive();this.skillSelectionUI.add(i);const o=this.add.text(e/2,t-50,"關閉",{fontSize:"24px",color:"#ffffff"}).setOrigin(.5);this.skillSelectionUI.add(o),i.on("pointerdown",(()=>{this.toggleSkillSelectionUI()}))}toggleSkillSelectionUI(){this.isSkillSelectionOpen=!this.isSkillSelectionOpen,this.skillSelectionUI.setVisible(this.isSkillSelectionOpen),this.isSkillSelectionOpen?(this.updateSkillUI(),this.monsterSpawnTimer&&(this.monsterSpawnTimer.paused=!0),this.shootTimer&&(this.shootTimer.paused=!0)):(this.monsterSpawnTimer&&(this.monsterSpawnTimer.paused=!1),this.shootTimer&&this.isShooting&&(this.shootTimer.paused=!1))}updateSkillUI(){this.characterData.skillPointsText&&this.characterData.skillPointsText.setText(`點數: ${this.characterData.skillPoints||0}`),this.characterData.skillUIPointsText&&this.characterData.skillUIPointsText.setText(`可用技能點數: ${this.characterData.skillPoints||0}`),this.skillSelectionUI&&this.skillSelectionUI.destroy(),this.createSkillSelectionUI(),this.skillSelectionUI.setVisible(this.isSkillSelectionOpen)}updateCharacterStats(){const e=this.characterData.harmBoost||0,t=this.characterData.speedBoost||0;this.statsText.setText(`攻擊: ${this.characterData.harm}${e>0?`+${e}`:""}   速度: ${this.characterData.speed}${t>0?`+${t}`:""}`)}createCharacterUI(){const{width:e}=this.scale;this.nameText=this.add.text(e/2,20,this.characterData.name,{fontSize:"32px",color:"#ffffff",fontStyle:"bold"}).setOrigin(.5),this.levelText=this.add.text(e/2,60,`等級: ${this.characterData.lv}`,{fontSize:"24px",color:"#ffcc00"}).setOrigin(.5);const t=this.characterData.harmBoost||0,a=this.characterData.speedBoost||0;this.statsText=this.add.text(e/2,90,`攻擊: ${this.characterData.harm}${t>0?`+${t}`:""}   速度: ${this.characterData.speed}${a>0?`+${a}`:""}`,{fontSize:"20px",color:"#ffffff"}).setOrigin(.5),this.expText=this.add.text(e/2,120,`經驗值: ${this.characterData.exp}/${this.characterData.maxExp}`,{fontSize:"18px",color:"#00ffff"}).setOrigin(.5),this.createExpBar()}createExpBar(){const{width:e}=this.scale,t=e/2-100;this.expBar?this.expBar.clear():this.expBar=this.add.graphics(),this.expBar.fillStyle(4473924,1),this.expBar.fillRect(t,140,200,10);const a=this.characterData.exp/this.characterData.maxExp*200;this.expBar.fillStyle(65535,1),this.expBar.fillRect(t,140,a,10)}addExperience(e){this.characterData.exp+=e,this.characterData.exp>=this.characterData.maxExp&&this.levelUp(),this.updateExpDisplay()}levelUp(){this.characterData.lv+=1;const e=this.characterData.exp-this.characterData.maxExp;this.characterData.exp=0,this.characterData.maxExp=10*this.characterData.lv,this.characterData.exp=e,this.characterData.skillPoints||(this.characterData.skillPoints=0),this.characterData.skillPoints+=1,this.levelText.setText(`等級: ${this.characterData.lv}`),this.characterData.skillPointsText&&this.characterData.skillPointsText.setText(`點數: ${this.characterData.skillPoints}`),this.showLevelUpEffect(),this.saveCharacterData()}showLevelUpEffect(){const{width:e,height:t}=this.scale,a=this.add.text(e/2,t/2,"升級!",{fontSize:"64px",color:"#ffff00",fontStyle:"bold"}).setOrigin(.5).setAlpha(0);this.tweens.add({targets:a,alpha:1,scale:1.5,duration:500,ease:"Power2",yoyo:!0,onComplete:()=>{a.destroy()}}),this.tweens.add({targets:this.player,alpha:.5,scale:1.2,duration:200,yoyo:!0,repeat:2,onComplete:()=>{this.player.setAlpha(1).setScale(1)}});const s=this.add.text(e/2,t/2+80,"獲得技能點數 +1",{fontSize:"32px",color:"#00ffff",fontStyle:"bold"}).setOrigin(.5).setAlpha(0);this.tweens.add({targets:s,alpha:1,duration:500,ease:"Power2",yoyo:!0,delay:300,onComplete:()=>{s.destroy()}})}updateExpDisplay(){this.expText.setText(`經驗值: ${this.characterData.exp}/${this.characterData.maxExp}`),this.createExpBar()}saveCharacterData(){try{const e=localStorage.getItem("lastSelectedCharacterIndex"),t=localStorage.getItem("characterData");if(e&&t){const a=JSON.parse(t),s=["splitShot","piercingShot","explosion","harmBoost","speedBoost","skillPoints","lv","exp","maxExp"],n={...this.characterData};s.forEach((e=>{void 0!==this.characterData[e]&&(n[e]=this.characterData[e])})),a[parseInt(e)]=n,localStorage.setItem("characterData",JSON.stringify(a)),console.log("角色數據已保存",n)}}catch(e){console.error("保存角色數據失敗",e)}}shootLightBall(){if(!this.isShooting||this.gameOver)return;const e=(this.characterData.splitShot||0)+1,t=this.characterData.harmBoost||0,a=this.characterData.harm+t,s=this.characterData.piercingShot||0,n=this.characterData.explosion||0;for(let i=0;i<e;i++){let t=0;e>1&&(t=20*(i-(e-1)/2));const o=5+2*a,l=this.getBallColorByCharacter(this.characterData.name),r=this.add.circle(this.player.x+t,this.player.y-50,o,l);this.lightBalls.add(r),r.setData("damage",a),r.setData("piercing",s),r.setData("explosion",n);const c=this.characterData.speedBoost||0,u=this.characterData.speed+c,d=Math.max(800,1500-70*u);this.tweens.add({targets:r,y:-100,duration:d,ease:"Linear",onComplete:()=>{r.destroy()}})}}getBallColorByCharacter(e){switch(e){case"魔法師":return 65535;case"刺客":return 16711680;case"弓箭手":return 65280;case"祭司":return 16776960;case"騎士":return 16746496;default:return 16777215}}spawnMonster(){if(this.gameOver)return;const{width:e,height:t}=this.scale,a=Phaser.Math.Between(50,e-50),s=Phaser.Math.Between(100,t/2),n=Phaser.Math.Between(30,50),i=Phaser.Utils.Array.GetRandom([16711680,8912896,4456448,6684774]),o=this.add.circle(a,s,n/2,i),l=Math.floor(n/10)+1;o.setData("health",l),o.setData("maxHealth",l),o.setData("size",n),o.setData("expValue",l),this.monsters.add(o);const r=Phaser.Math.Between(100,200)*(Math.random()>.5?1:-1),c=Phaser.Math.Between(100,200)*(Math.random()>.5?1:-1);o.setData("velocityX",r),o.setData("velocityY",c);const u=this.add.text(0,0,`${l}`,{fontSize:"16px",color:"#ffffff",stroke:"#000000",strokeThickness:3}).setOrigin(.5);o.setData("healthText",u),this.updateMonsterHealthText(o)}updateMonsterHealthText(e){if(!e||!e.active)return;const t=e.getData("healthText");if(t&&t.active){t.setPosition(e.x,e.y);const a=e.getData("health"),s=e.getData("maxHealth");if(void 0!==a&&void 0!==s){t.setText(`${a}`);const e=a/s;e>.6?t.setColor("#00ff00"):e>.3?t.setColor("#ffff00"):t.setColor("#ff0000")}}}damageMonster(e,t,a){if(!e||!e.active)return;let s=e.getData("health")-t;e.setData("health",s),this.updateMonsterHealthText(e),this.tweens.add({targets:e,alpha:.5,duration:100,yoyo:!0,onComplete:()=>{if(e&&e.active&&s<=0){const t=e.getData("expValue")||1;this.addExperience(t),this.showExpGainText(e.x,e.y,t);const s=e.getData("healthText");if(s&&s.active&&s.destroy(),this.tweens.add({targets:e,scale:0,alpha:0,duration:300,onComplete:()=>{e&&e.active&&e.destroy()}}),a){const t=a.getData("explosion");t&&t>0&&this.createExplosion(e.x,e.y,t)}}}})}createExplosion(e,t,a){const s=20*a,n=this.add.circle(e,t,s,16776960,.5);this.tweens.add({targets:n,alpha:0,scale:1.5,duration:300,onComplete:()=>{n.destroy()}}),this.monsters.getChildren().forEach((n=>{if(!n||!n.active)return;const i=Phaser.Math.Distance.Between(n.x,n.y,e,t);if(i<=s){const e=1-i/s,t=Math.max(1,Math.floor(2*a*e));this.damageMonster(n,t,null)}}))}showExpGainText(e,t,a){const s=this.add.text(e,t,`+${a} 經驗`,{fontSize:"20px",color:"#00ffff",stroke:"#000000",strokeThickness:3}).setOrigin(.5);this.tweens.add({targets:s,y:t-50,alpha:0,duration:1e3,ease:"Power1",onComplete:()=>{s.destroy()}})}playerHit(){this.gameOver||(this.gameOver=!0,this.shootTimer&&this.shootTimer.remove(),this.monsterSpawnTimer&&this.monsterSpawnTimer.remove(),this.tweens.add({targets:this.player,alpha:.5,duration:200,yoyo:!0,repeat:2,onComplete:()=>{const{width:e,height:t}=this.scale;this.add.text(e/2,t/2-50,"遊戲結束",{fontSize:"64px",color:"#ff0000",fontStyle:"bold"}).setOrigin(.5);const a=this.add.rectangle(e/2,t/2+50,200,60,0,.7).setOrigin(.5).setInteractive();this.add.text(e/2,t/2+50,"重新開始",{fontSize:"32px",color:"#ffffff"}).setOrigin(.5),a.on("pointerdown",(()=>{this.scene.restart()}));const s=this.add.rectangle(e/2,t/2+120,200,60,0,.7).setOrigin(.5).setInteractive();this.add.text(e/2,t/2+120,"返回主選單",{fontSize:"32px",color:"#ffffff"}).setOrigin(.5),s.on("pointerdown",(()=>{this.scene.start("MainMenu")})),this.saveCharacterData()}}))}update(){if(this.gameOver||this.isSkillSelectionOpen)return;const{width:e,height:t}=this.scale;this.monsters.getChildren().forEach((a=>{if(!a||!a.active)return;const s=a.getData("velocityX"),n=a.getData("velocityY");if(void 0===s||void 0===n)return;const i=s*this.game.loop.delta*.001,o=n*this.game.loop.delta*.001;a.x+=i,a.y+=o,this.updateMonsterHealthText(a);const l=a.getData("size")/2||25;a.x<l?(a.x=l,a.setData("velocityX",Math.abs(s))):a.x>e-l&&(a.x=e-l,a.setData("velocityX",-Math.abs(s))),a.y<l?(a.y=l,a.setData("velocityY",Math.abs(n))):a.y>t-l&&(a.y=t-l,a.setData("velocityY",-Math.abs(n)));const r=Phaser.Math.Distance.Between(a.x,a.y,this.player.x,this.player.y),c=this.player.width/2;r<l+c&&this.playerHit(),this.lightBalls.getChildren().forEach((e=>{if(!e||!e.active)return;const t=Phaser.Math.Distance.Between(a.x,a.y,e.x,e.y),s=e.radius||5;if(t<l+s){const t=e.getData("damage")||1;this.damageMonster(a,t,e);let s=e.getData("piercing")||0;s>0?e.setData("piercing",s-1):e&&e.active&&e.destroy()}}))}))}},CS=null;const TS=375;var BS,AS,IS=window.innerHeight,ES=window.innerWidth,PS=Math.min(window.devicePixelRatio||1,2),OS=IS>ES,DS=IS/ES;function $S(){IS=window.innerHeight,ES=window.innerWidth,OS=IS>ES,(DS=IS/ES)>1.9&&OS?(AS=TS,BS=TS*(IS/ES),console.log("全面屏手機",AS,BS)):OS&&DS<1.9?(AS=TS,BS=667,console.log("一般豎屏設備",AS,BS)):(BS=667,AS=TS,console.log("橫屏設備",AS,BS)),AS*=.9,BS*=.9,BS*=PS,AS*=PS,CS&&(CS.scale.resize(AS,BS),CS.scale.refresh())}$S(),window.addEventListener("resize",(()=>{ES=window.innerWidth,IS=window.innerHeight,$S()}));const MS={type:s.AUTO,width:AS,height:BS,parent:"game-container",pixelArt:!0,backgroundColor:"#000000",resolution:Math.max(window.devicePixelRatio,2),autoRound:!0,scene:[yS,_S,SS,kS],render:{antialias:!0,pixelArt:!1,clearBeforeRender:!0,failIfMajorPerformanceCaveat:!1,powerPreference:"high-performance"},scale:{mode:s.Scale.FIT,autoCenter:s.Scale.CENTER_BOTH,orientation:s.Scale.PORTRAIT},fps:{target:60,forceSetTimeOut:!1,min:10,paused:!1},physics:{default:"arcade",arcade:{debug:!0}},contextCreation:{powerPreference:"high-performance"}},LS={class:"phaser-game2-container"},NS=Ir(Ra({__name:"PhaserGame",setup(e,{expose:t}){const a=At(),n=At(),i=()=>{if(n.value)try{n.value.scene.scenes.forEach((e=>{e.scene&&"function"==typeof e.scene.isActive&&e.scene.isActive()&&e.scene.stop()})),n.value.destroy(!0),n.value=void 0,console.log("遊戲已成功銷毀")}catch(e){console.error("銷毀遊戲時出錯:",e)}};return Xa((()=>{const e=document.getElementById("game2-container");e&&(e.innerHTML=""),n.value=("game2-container",CS&&(CS.destroy(!0),CS=null),CS=new s.Game({...MS,parent:"game2-container"}),CS)})),es((()=>{i()})),t({scene:a,game:n,destroyGame:i}),(e,t)=>(En(),$n("div",LS,t[0]||(t[0]=[zn("div",{id:"game2-container"},null,-1)])))}}),[["__scopeId","data-v-3101c19a"]]),RS={class:"game2-page"},jS=Ir(Ra({__name:"game2View",setup:e=>(e,t)=>(En(),$n("div",RS,[Vn(NS)]))}),[["__scopeId","data-v-a89a14d1"]]);class zS extends s.Scene{constructor(){super("Boot")}preload(){this.load.image("background","https://olivertsai.github.io/Work-Results/assets/picture/bgTable.png"),this.load.image("Table","https://olivertsai.github.io/Work-Results/assets/picture/Table.png"),this.load.image("logo","https://olivertsai.github.io/Work-Results/assets/picture/logo.png"),this.load.image("star","https://olivertsai.github.io/Work-Results/assets/picture/star.png")}create(){console.log("Boot"),this.scene.start("Preloader")}}class VS extends s.Scene{constructor(){super("Preloader")}init(){const{width:e,height:t}=this.scale;this.add.image(e/2,t/2,"background").setDisplaySize(e,t),this.add.image(.8*e,.9*t,"logo").setScale(.8);const a=Math.min(.8*e,468);this.add.rectangle(e/2,t/2,a,32).setStrokeStyle(1,16777215);const s=this.add.graphics();s.lineStyle(1,16769179),s.strokeRoundedRect(e/2-(a+50)/2,t/2-41,a+50,82,15);const n=this.add.rectangle(e/2-a/2+2,t/2,4,28,16769179),i=this.add.image(e/2-a/2+2,t/2,"star").setScale(.5);this.load.on("progress",(t=>{n.width=4+(a-8)*t,i.x=e/2-a/2+2+(a-8)*t})),this.scale.scaleMode=Phaser.Scale.FIT,this.scale.refresh()}preload(){this.load.image("刺客","https://olivertsai.github.io/Work-Results/assets/picture/user/assa_sat1-1.png"),this.load.image("魔法師","https://olivertsai.github.io/Work-Results/assets/picture/user/mage_sat1-1.png"),this.load.image("弓箭手","https://olivertsai.github.io/Work-Results/assets/picture/user/弓箭手1-1NEW sat.png"),this.load.image("祭司","https://olivertsai.github.io/Work-Results/assets/picture/user/祭司_sat1-1.png"),this.load.image("騎士","https://olivertsai.github.io/Work-Results/assets/picture/user/knight1_1_sat.png"),this.load.image("block-red","/public/assets/picture/red.png"),this.load.image("block-blue","/public/assets/picture/blue.png"),this.load.image("block-green","/public/assets/picture/green.png"),this.load.image("block-yellow","/public/assets/picture/yellow.png")}create(){console.log("Preloader"),this.scene.start("MainMenu")}}class HS extends s.Scene{constructor(){super("MainMenu"),a(this,"background"),a(this,"startButton")}preload(){}init(){const{width:e,height:t}=this.scale;this.background=this.add.image(e/2,t/2,"background").setDisplaySize(e,t)}create(){const{width:e,height:t}=this.scale;this.add.text(e/2,t/3,"方塊消除遊戲",{fontSize:"48px",color:"#ffffff",fontStyle:"bold",stroke:"#000000",strokeThickness:6}).setOrigin(.5),this.startButton=this.add.text(e/2,t/2,"開始遊戲",{fontSize:"32px",color:"#ffffff",backgroundColor:"#1a65ac",padding:{left:20,right:20,top:10,bottom:10}}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",(()=>{this.startButton.setStyle({backgroundColor:"#2c8ad8"})})).on("pointerout",(()=>{this.startButton.setStyle({backgroundColor:"#1a65ac"})})).on("pointerdown",(()=>{this.startButton.setStyle({backgroundColor:"#0d4b82"})})).on("pointerup",(()=>{this.startButton.setStyle({backgroundColor:"#2c8ad8"}),this.scene.start("GameScene")})),this.add.text(e/2,.7*t,"遊戲說明:\n- 拖動方塊與相鄰方塊交換位置\n- 三個或更多相同顏色的方塊連在一起時會消除\n- 消除方塊獲得分數",{fontSize:"20px",color:"#ffffff",align:"center",stroke:"#000000",strokeThickness:2}).setOrigin(.5)}update(){}}const FS={splitShot:{id:"splitShot",name:"分裂射擊",maxLevel:5,getDescription:e=>`發射額外 ${e} 個光球`,getEffect:(e,t)=>{e.splitShot=t}},piercingShot:{id:"piercingShot",name:"穿透射擊",maxLevel:3,getDescription:e=>`光球可以穿透 ${e} 個敵人`,getEffect:(e,t)=>{e.piercingShot=t}},explosion:{id:"explosion",name:"爆炸效果",maxLevel:3,getDescription:e=>`擊殺敵人時產生半徑 ${20*e} 的爆炸`,getEffect:(e,t)=>{e.explosion=t}},harmBoost:{id:"harmBoost",name:"攻擊加成",maxLevel:10,getDescription:e=>`增加 ${e} 點攻擊力`,getEffect:(e,t)=>{e.harmBoost=t}},speedBoost:{id:"speedBoost",name:"速度加成",maxLevel:10,getDescription:e=>`增加 ${e} 點速度`,getEffect:(e,t)=>{e.speedBoost=t}}};class WS extends s.Scene{constructor(){super("GameStart"),a(this,"background"),a(this,"player"),a(this,"lightBalls"),a(this,"shootTimer"),a(this,"isShooting",!1),a(this,"characterData"),a(this,"nameText"),a(this,"levelText"),a(this,"statsText"),a(this,"expText"),a(this,"shootInterval",200),a(this,"expBar"),a(this,"monsters"),a(this,"monsterSpawnTimer"),a(this,"gameOver",!1),a(this,"skillSelectionUI"),a(this,"isSkillSelectionOpen",!1)}init(e){if(this.gameOver=!1,this.isSkillSelectionOpen=!1,e&&e.character)this.characterData=e.character,this.initCharacterSkills(),this.updateShootInterval(),console.log("接收到角色資料:",this.characterData);else try{const e=localStorage.getItem("lastSelectedCharacterIndex"),t=localStorage.getItem("characterData");if(console.log("從localStorage讀取角色資料:",e,t),e&&t){const a=JSON.parse(t);this.characterData=a[parseInt(e)],console.log("從localStorage讀取角色資料:",this.characterData),this.initCharacterSkills(),this.updateShootInterval()}else console.error("沒有角色資料可用"),this.characterData={name:"魔法師",harm:1,speed:1,lv:1,exp:0,maxExp:10,skillPoints:0},this.shootInterval=200}catch(s){console.error("讀取角色資料失敗",s),this.characterData={name:"魔法師",harm:1,speed:1,lv:1,exp:0,maxExp:10,skillPoints:0},this.shootInterval=200}const{width:t,height:a}=this.scale;this.background=this.add.image(t/2,a/2,"background").setDisplaySize(t,a)}initCharacterSkills(){var e;void 0===this.characterData.skillPoints&&(this.characterData.skillPoints=0),["splitShot","piercingShot","explosion","harmBoost","speedBoost"].forEach((e=>{void 0===this.characterData[e]&&(this.characterData[e]=0)})),e=this.characterData,Object.keys(FS).forEach((t=>{const a=e[t]||0;a>0&&FS[t].getEffect(e,a)}))}updateShootInterval(){const e=this.characterData.speedBoost||0,t=this.characterData.speed+e;this.shootInterval=Math.max(50,200-15*t),this.isShooting&&this.shootTimer&&(this.shootTimer.remove(),this.shootTimer=this.time.addEvent({delay:this.shootInterval,callback:this.shootLightBall,callbackScope:this,loop:!0}))}create(){const{width:e,height:t}=this.scale;this.player=this.add.image(e/2,t-200,this.characterData.name).setInteractive(),this.lightBalls=this.add.group(),this.monsters=this.add.group(),this.createCharacterUI(),this.input.on("pointermove",(e=>{!e.isDown||this.gameOver||this.isSkillSelectionOpen||(this.player.x=e.x)})),this.input.on("pointerdown",(()=>{this.gameOver||this.isSkillSelectionOpen||(this.isShooting=!0,this.shootTimer=this.time.addEvent({delay:this.shootInterval,callback:this.shootLightBall,callbackScope:this,loop:!0}))})),this.input.on("pointerup",(()=>{this.isShooting=!1,this.shootTimer&&this.shootTimer.remove()}));const a=this.add.rectangle(80,40,120,50,0,.7).setOrigin(.5).setInteractive();this.add.text(80,40,"返回",{fontSize:"24px",color:"#ffffff"}).setOrigin(.5),a.on("pointerdown",(()=>{this.scene.start("MainMenu")})),this.createSkillButton(),this.monsterSpawnTimer=this.time.addEvent({delay:5e3,callback:this.spawnMonster,callbackScope:this,loop:!0}),this.spawnMonster(),this.createSkillSelectionUI()}createSkillButton(){const{width:e}=this.scale,t=this.add.rectangle(e-80,40,120,50,0,.7).setOrigin(.5).setInteractive();this.add.text(e-80,40,"技能",{fontSize:"24px",color:"#ffffff"}).setOrigin(.5);const a=this.add.text(e-80,65,`點數: ${this.characterData.skillPoints||0}`,{fontSize:"16px",color:"#ffff00"}).setOrigin(.5);this.characterData.skillPointsText=a,t.on("pointerdown",(()=>{this.toggleSkillSelectionUI()}))}createSkillSelectionUI(){const{width:e,height:t}=this.scale;this.skillSelectionUI=this.add.container(0,0),this.skillSelectionUI.setVisible(!1);const a=this.add.rectangle(e/2,t/2,e,t,0,.8);this.skillSelectionUI.add(a);const s=this.add.text(e/2,50,"技能選擇",{fontSize:"36px",color:"#ffffff",fontStyle:"bold"}).setOrigin(.5);this.skillSelectionUI.add(s);const n=this.add.text(e/2,90,`可用技能點數: ${this.characterData.skillPoints||0}`,{fontSize:"24px",color:"#ffff00"}).setOrigin(.5);this.skillSelectionUI.add(n),this.characterData.skillUIPointsText=n;(function(e){const t=[];return Object.keys(FS).forEach((a=>{const s=e[a]||0;t.push({...FS[a],level:s})})),t})(this.characterData).forEach(((t,a)=>{const s=150+80*a,n=this.add.rectangle(e/2,s,.8*e,70,3355443,.9).setOrigin(.5);this.skillSelectionUI.add(n);const i=this.add.text(.2*e,s-15,`${t.name} (等級 ${t.level}/${t.maxLevel})`,{fontSize:"20px",color:"#ffffff",fontStyle:"bold"}).setOrigin(0,.5);this.skillSelectionUI.add(i);const o=this.add.text(.2*e,s+15,t.getDescription(t.level),{fontSize:"16px",color:"#aaaaaa"}).setOrigin(0,.5);this.skillSelectionUI.add(o);const l=this.add.rectangle(.8*e,s,100,40,t.level<t.maxLevel?26112:6684672,.9).setOrigin(.5).setInteractive();this.skillSelectionUI.add(l);const r=this.add.text(.8*e,s,t.level<t.maxLevel?"升級":"已滿級",{fontSize:"18px",color:"#ffffff"}).setOrigin(.5);this.skillSelectionUI.add(r),l.on("pointerdown",(()=>{this.characterData.skillPoints>0&&t.level<t.maxLevel&&function(e,t){if(!FS[t])return console.error(`技能 ${t} 不存在`),!1;if(e.skillPoints<=0)return console.log("沒有足夠的技能點數"),!1;const a=e[t]||0;return a>=FS[t].maxLevel?(console.log(`技能 ${FS[t].name} 已達最高等級`),!1):(e[t]=a+1,e.skillPoints-=1,FS[t].getEffect(e,e[t]),console.log(`升級技能 ${FS[t].name} 到等級 ${e[t]}`),!0)}(this.characterData,t.id)&&(this.updateSkillUI(),this.updateShootInterval(),this.updateCharacterStats())}))}));const i=this.add.rectangle(e/2,t-50,200,60,6684672,.9).setOrigin(.5).setInteractive();this.skillSelectionUI.add(i);const o=this.add.text(e/2,t-50,"關閉",{fontSize:"24px",color:"#ffffff"}).setOrigin(.5);this.skillSelectionUI.add(o),i.on("pointerdown",(()=>{this.toggleSkillSelectionUI()}))}toggleSkillSelectionUI(){this.isSkillSelectionOpen=!this.isSkillSelectionOpen,this.skillSelectionUI.setVisible(this.isSkillSelectionOpen),this.isSkillSelectionOpen?(this.updateSkillUI(),this.monsterSpawnTimer&&(this.monsterSpawnTimer.paused=!0),this.shootTimer&&(this.shootTimer.paused=!0)):(this.monsterSpawnTimer&&(this.monsterSpawnTimer.paused=!1),this.shootTimer&&this.isShooting&&(this.shootTimer.paused=!1))}updateSkillUI(){this.characterData.skillPointsText&&this.characterData.skillPointsText.setText(`點數: ${this.characterData.skillPoints||0}`),this.characterData.skillUIPointsText&&this.characterData.skillUIPointsText.setText(`可用技能點數: ${this.characterData.skillPoints||0}`),this.skillSelectionUI&&this.skillSelectionUI.destroy(),this.createSkillSelectionUI(),this.skillSelectionUI.setVisible(this.isSkillSelectionOpen)}updateCharacterStats(){const e=this.characterData.harmBoost||0,t=this.characterData.speedBoost||0;this.statsText.setText(`攻擊: ${this.characterData.harm}${e>0?`+${e}`:""}   速度: ${this.characterData.speed}${t>0?`+${t}`:""}`)}createCharacterUI(){const{width:e}=this.scale;this.nameText=this.add.text(e/2,20,this.characterData.name,{fontSize:"32px",color:"#ffffff",fontStyle:"bold"}).setOrigin(.5),this.levelText=this.add.text(e/2,60,`等級: ${this.characterData.lv}`,{fontSize:"24px",color:"#ffcc00"}).setOrigin(.5);const t=this.characterData.harmBoost||0,a=this.characterData.speedBoost||0;this.statsText=this.add.text(e/2,90,`攻擊: ${this.characterData.harm}${t>0?`+${t}`:""}   速度: ${this.characterData.speed}${a>0?`+${a}`:""}`,{fontSize:"20px",color:"#ffffff"}).setOrigin(.5),this.expText=this.add.text(e/2,120,`經驗值: ${this.characterData.exp}/${this.characterData.maxExp}`,{fontSize:"18px",color:"#00ffff"}).setOrigin(.5),this.createExpBar()}createExpBar(){const{width:e}=this.scale,t=e/2-100;this.expBar?this.expBar.clear():this.expBar=this.add.graphics(),this.expBar.fillStyle(4473924,1),this.expBar.fillRect(t,140,200,10);const a=this.characterData.exp/this.characterData.maxExp*200;this.expBar.fillStyle(65535,1),this.expBar.fillRect(t,140,a,10)}addExperience(e){this.characterData.exp+=e,this.characterData.exp>=this.characterData.maxExp&&this.levelUp(),this.updateExpDisplay()}levelUp(){this.characterData.lv+=1;const e=this.characterData.exp-this.characterData.maxExp;this.characterData.exp=0,this.characterData.maxExp=10*this.characterData.lv,this.characterData.exp=e,this.characterData.skillPoints||(this.characterData.skillPoints=0),this.characterData.skillPoints+=1,this.levelText.setText(`等級: ${this.characterData.lv}`),this.characterData.skillPointsText&&this.characterData.skillPointsText.setText(`點數: ${this.characterData.skillPoints}`),this.showLevelUpEffect(),this.saveCharacterData()}showLevelUpEffect(){const{width:e,height:t}=this.scale,a=this.add.text(e/2,t/2,"升級!",{fontSize:"64px",color:"#ffff00",fontStyle:"bold"}).setOrigin(.5).setAlpha(0);this.tweens.add({targets:a,alpha:1,scale:1.5,duration:500,ease:"Power2",yoyo:!0,onComplete:()=>{a.destroy()}}),this.tweens.add({targets:this.player,alpha:.5,scale:1.2,duration:200,yoyo:!0,repeat:2,onComplete:()=>{this.player.setAlpha(1).setScale(1)}});const s=this.add.text(e/2,t/2+80,"獲得技能點數 +1",{fontSize:"32px",color:"#00ffff",fontStyle:"bold"}).setOrigin(.5).setAlpha(0);this.tweens.add({targets:s,alpha:1,duration:500,ease:"Power2",yoyo:!0,delay:300,onComplete:()=>{s.destroy()}})}updateExpDisplay(){this.expText.setText(`經驗值: ${this.characterData.exp}/${this.characterData.maxExp}`),this.createExpBar()}saveCharacterData(){try{const e=localStorage.getItem("lastSelectedCharacterIndex"),t=localStorage.getItem("characterData");if(e&&t){const a=JSON.parse(t),s=["splitShot","piercingShot","explosion","harmBoost","speedBoost","skillPoints","lv","exp","maxExp"],n={...this.characterData};s.forEach((e=>{void 0!==this.characterData[e]&&(n[e]=this.characterData[e])})),a[parseInt(e)]=n,localStorage.setItem("characterData",JSON.stringify(a)),console.log("角色數據已保存",n)}}catch(e){console.error("保存角色數據失敗",e)}}shootLightBall(){if(!this.isShooting||this.gameOver)return;const e=(this.characterData.splitShot||0)+1,t=this.characterData.harmBoost||0,a=this.characterData.harm+t,s=this.characterData.piercingShot||0,n=this.characterData.explosion||0;for(let i=0;i<e;i++){let t=0;e>1&&(t=20*(i-(e-1)/2));const o=5+2*a,l=this.getBallColorByCharacter(this.characterData.name),r=this.add.circle(this.player.x+t,this.player.y-50,o,l);this.lightBalls.add(r),r.setData("damage",a),r.setData("piercing",s),r.setData("explosion",n);const c=this.characterData.speedBoost||0,u=this.characterData.speed+c,d=Math.max(800,1500-70*u);this.tweens.add({targets:r,y:-100,duration:d,ease:"Linear",onComplete:()=>{r.destroy()}})}}getBallColorByCharacter(e){switch(e){case"魔法師":return 65535;case"刺客":return 16711680;case"弓箭手":return 65280;case"祭司":return 16776960;case"騎士":return 16746496;default:return 16777215}}spawnMonster(){if(this.gameOver)return;const{width:e,height:t}=this.scale,a=Phaser.Math.Between(50,e-50),s=Phaser.Math.Between(100,t/2),n=Phaser.Math.Between(30,50),i=Phaser.Utils.Array.GetRandom([16711680,8912896,4456448,6684774]),o=this.add.circle(a,s,n/2,i),l=Math.floor(n/10)+1;o.setData("health",l),o.setData("maxHealth",l),o.setData("size",n),o.setData("expValue",l),this.monsters.add(o);const r=Phaser.Math.Between(100,200)*(Math.random()>.5?1:-1),c=Phaser.Math.Between(100,200)*(Math.random()>.5?1:-1);o.setData("velocityX",r),o.setData("velocityY",c);const u=this.add.text(0,0,`${l}`,{fontSize:"16px",color:"#ffffff",stroke:"#000000",strokeThickness:3}).setOrigin(.5);o.setData("healthText",u),this.updateMonsterHealthText(o)}updateMonsterHealthText(e){if(!e||!e.active)return;const t=e.getData("healthText");if(t&&t.active){t.setPosition(e.x,e.y);const a=e.getData("health"),s=e.getData("maxHealth");if(void 0!==a&&void 0!==s){t.setText(`${a}`);const e=a/s;e>.6?t.setColor("#00ff00"):e>.3?t.setColor("#ffff00"):t.setColor("#ff0000")}}}damageMonster(e,t,a){if(!e||!e.active)return;let s=e.getData("health")-t;e.setData("health",s),this.updateMonsterHealthText(e),this.tweens.add({targets:e,alpha:.5,duration:100,yoyo:!0,onComplete:()=>{if(e&&e.active&&s<=0){const t=e.getData("expValue")||1;this.addExperience(t),this.showExpGainText(e.x,e.y,t);const s=e.getData("healthText");if(s&&s.active&&s.destroy(),this.tweens.add({targets:e,scale:0,alpha:0,duration:300,onComplete:()=>{e&&e.active&&e.destroy()}}),a){const t=a.getData("explosion");t&&t>0&&this.createExplosion(e.x,e.y,t)}}}})}createExplosion(e,t,a){const s=20*a,n=this.add.circle(e,t,s,16776960,.5);this.tweens.add({targets:n,alpha:0,scale:1.5,duration:300,onComplete:()=>{n.destroy()}}),this.monsters.getChildren().forEach((n=>{if(!n||!n.active)return;const i=Phaser.Math.Distance.Between(n.x,n.y,e,t);if(i<=s){const e=1-i/s,t=Math.max(1,Math.floor(2*a*e));this.damageMonster(n,t,null)}}))}showExpGainText(e,t,a){const s=this.add.text(e,t,`+${a} 經驗`,{fontSize:"20px",color:"#00ffff",stroke:"#000000",strokeThickness:3}).setOrigin(.5);this.tweens.add({targets:s,y:t-50,alpha:0,duration:1e3,ease:"Power1",onComplete:()=>{s.destroy()}})}playerHit(){this.gameOver||(this.gameOver=!0,this.shootTimer&&this.shootTimer.remove(),this.monsterSpawnTimer&&this.monsterSpawnTimer.remove(),this.tweens.add({targets:this.player,alpha:.5,duration:200,yoyo:!0,repeat:2,onComplete:()=>{const{width:e,height:t}=this.scale;this.add.text(e/2,t/2-50,"遊戲結束",{fontSize:"64px",color:"#ff0000",fontStyle:"bold"}).setOrigin(.5);const a=this.add.rectangle(e/2,t/2+50,200,60,0,.7).setOrigin(.5).setInteractive();this.add.text(e/2,t/2+50,"重新開始",{fontSize:"32px",color:"#ffffff"}).setOrigin(.5),a.on("pointerdown",(()=>{this.scene.restart()}));const s=this.add.rectangle(e/2,t/2+120,200,60,0,.7).setOrigin(.5).setInteractive();this.add.text(e/2,t/2+120,"返回主選單",{fontSize:"32px",color:"#ffffff"}).setOrigin(.5),s.on("pointerdown",(()=>{this.scene.start("MainMenu")})),this.saveCharacterData()}}))}update(){if(this.gameOver||this.isSkillSelectionOpen)return;const{width:e,height:t}=this.scale;this.monsters.getChildren().forEach((a=>{if(!a||!a.active)return;const s=a.getData("velocityX"),n=a.getData("velocityY");if(void 0===s||void 0===n)return;const i=s*this.game.loop.delta*.001,o=n*this.game.loop.delta*.001;a.x+=i,a.y+=o,this.updateMonsterHealthText(a);const l=a.getData("size")/2||25;a.x<l?(a.x=l,a.setData("velocityX",Math.abs(s))):a.x>e-l&&(a.x=e-l,a.setData("velocityX",-Math.abs(s))),a.y<l?(a.y=l,a.setData("velocityY",Math.abs(n))):a.y>t-l&&(a.y=t-l,a.setData("velocityY",-Math.abs(n)));const r=Phaser.Math.Distance.Between(a.x,a.y,this.player.x,this.player.y),c=this.player.width/2;r<l+c&&this.playerHit(),this.lightBalls.getChildren().forEach((e=>{if(!e||!e.active)return;const t=Phaser.Math.Distance.Between(a.x,a.y,e.x,e.y),s=e.radius||5;if(t<l+s){const t=e.getData("damage")||1;this.damageMonster(a,t,e);let s=e.getData("piercing")||0;s>0?e.setData("piercing",s-1):e&&e.active&&e.destroy()}}))}))}}class US extends s.GameObjects.Sprite{constructor(e,t,s,n){super(e,t,s,US.getTextureByColor(n)),a(this,"color"),a(this,"gridX"),a(this,"gridY"),a(this,"isSelected",!1),this.color=n,this.setInteractive(),e.add.existing(this),this.setDisplaySize(60,60)}static getTextureByColor(e){switch(e){case 0:default:return"block-red";case 1:return"block-blue";case 2:return"block-green";case 3:return"block-yellow"}}setGridPosition(e,t){this.gridX=e,this.gridY=t}select(){this.isSelected=!0,this.setDisplaySize(70,70),this.setAlpha(.8)}deselect(){this.isSelected=!1,this.setDisplaySize(60,60),this.setAlpha(1)}playDestroyAnimation(){return new Promise((e=>{this.scene.tweens.add({targets:this,alpha:0,scale:.5,duration:300,onComplete:()=>{e()}})}))}}class GS extends s.Scene{constructor(){super("GameScene"),a(this,"gridWidth",6),a(this,"gridHeight",8),a(this,"blockSize",60),a(this,"gridOffsetX",0),a(this,"gridOffsetY",0),a(this,"blocks",[]),a(this,"selectedBlock",null),a(this,"isSwapping",!1),a(this,"score",0),a(this,"scoreText")}preload(){console.log("GameScene preload")}create(){const{width:e,height:t}=this.scale;this.gridOffsetX=(e-this.gridWidth*this.blockSize)/2,this.gridOffsetY=(t-this.gridHeight*this.blockSize)/2,this.add.rectangle(e/2,t/2,e,t,0,.5),this.scoreText=this.add.text(20,20,`分數: ${this.score}`,{fontSize:"24px",color:"#ffffff"}),this.initializeBoard(),this.setupInputEvents()}initializeBoard(){for(let e=0;e<this.gridHeight;e++){this.blocks[e]=[];for(let t=0;t<this.gridWidth;t++)this.createBlockAt(t,e)}this.checkAndClearMatches()}createBlockAt(e,t){const a=Math.floor(4*Math.random()),s=this.gridOffsetX+e*this.blockSize+this.blockSize/2,n=this.gridOffsetY+t*this.blockSize+this.blockSize/2,i=new US(this,s,n,a);return i.setGridPosition(e,t),this.blocks[t]||(this.blocks[t]=[]),this.blocks[t][e]=i,i}setupInputEvents(){this.input.on("pointerdown",(e=>{if(this.isSwapping)return;const{x:t,y:a}=this.getGridPosition(e.x,e.y);t>=0&&t<this.gridWidth&&a>=0&&a<this.gridHeight&&(this.selectedBlock=this.blocks[a][t],this.selectedBlock.select())})),this.input.on("pointermove",(e=>{if(!this.selectedBlock||this.isSwapping)return;const{x:t,y:a}=this.getGridPosition(e.x,e.y);if(t>=0&&t<this.gridWidth&&a>=0&&a<this.gridHeight){const e=this.blocks[a][t];if(e!==this.selectedBlock){const t=Math.abs(e.gridX-this.selectedBlock.gridX),a=Math.abs(e.gridY-this.selectedBlock.gridY);(1===t&&0===a||0===t&&1===a)&&this.swapBlocks(this.selectedBlock,e)}}})),this.input.on("pointerup",(()=>{this.selectedBlock&&(this.selectedBlock.deselect(),this.selectedBlock=null,this.checkAndClearMatches())}))}getGridPosition(e,t){return{x:Math.floor((e-this.gridOffsetX)/this.blockSize),y:Math.floor((t-this.gridOffsetY)/this.blockSize)}}swapBlocks(e,t){this.isSwapping=!0;const a=e.gridX,s=e.gridY;e.setGridPosition(t.gridX,t.gridY),t.setGridPosition(a,s),this.blocks[e.gridY][e.gridX]=e,this.blocks[t.gridY][t.gridX]=t,this.tweens.add({targets:e,x:this.gridOffsetX+e.gridX*this.blockSize+this.blockSize/2,y:this.gridOffsetY+e.gridY*this.blockSize+this.blockSize/2,duration:200}),this.tweens.add({targets:t,x:this.gridOffsetX+t.gridX*this.blockSize+this.blockSize/2,y:this.gridOffsetY+t.gridY*this.blockSize+this.blockSize/2,duration:200,onComplete:()=>{this.isSwapping=!1}})}async checkAndClearMatches(){const e=[...this.findHorizontalMatches(),...this.findVerticalMatches()];e.length>0&&(await this.clearMatches(e),await this.fillEmptySpaces(),this.checkAndClearMatches())}findHorizontalMatches(){const e=[];for(let t=0;t<this.gridHeight;t++){let a=[];for(let s=0;s<this.gridWidth;s++){const n=this.blocks[t][s];0===a.length||n.color===a[0].color?a.push(n):(a.length>=3&&e.push([...a]),a=[n])}a.length>=3&&e.push(a)}return e}findVerticalMatches(){const e=[];for(let t=0;t<this.gridWidth;t++){let a=[];for(let s=0;s<this.gridHeight;s++){const n=this.blocks[s][t];0===a.length||n.color===a[0].color?a.push(n):(a.length>=3&&e.push([...a]),a=[n])}a.length>=3&&e.push(a)}return e}async clearMatches(e){const t=new Set;for(const s of e)for(const e of s)t.add(e);this.score+=10*t.size,this.scoreText.setText(`分數: ${this.score}`);const a=[];for(const s of t)a.push(s.playDestroyAnimation()),this.blocks[s.gridY][s.gridX]=null;await Promise.all(a);for(const s of t)s.destroy()}async fillEmptySpaces(){for(let e=0;e<this.gridWidth;e++)for(let t=this.gridHeight-1;t>=0;t--)if(null===this.blocks[t][e])for(let a=t-1;a>=0;a--)if(null!==this.blocks[a][e]){const s=this.blocks[a][e];this.blocks[t][e]=s,this.blocks[a][e]=null,s.setGridPosition(e,t),this.tweens.add({targets:s,y:this.gridOffsetY+t*this.blockSize+this.blockSize/2,duration:300});break}await new Promise((e=>this.time.delayedCall(300,e)));for(let e=0;e<this.gridWidth;e++)for(let t=0;t<this.gridHeight;t++)if(null===this.blocks[t][e]){const a=this.createBlockAt(e,-1);a.setGridPosition(e,t),this.blocks[t][e]=a,a.y=this.gridOffsetY-this.blockSize,this.tweens.add({targets:a,y:this.gridOffsetY+t*this.blockSize+this.blockSize/2,duration:300})}await new Promise((e=>this.time.delayedCall(300,e)))}update(){}}let qS=null;const KS=375;var YS,XS,QS=window.innerHeight,JS=window.innerWidth,ZS=Math.min(window.devicePixelRatio||1,2),ek=QS>JS,tk=QS/JS;function ak(){QS=window.innerHeight,JS=window.innerWidth,ek=QS>JS,(tk=QS/JS)>1.9&&ek?(XS=KS,YS=KS*(QS/JS),console.log("全面屏手機",XS,YS)):ek&&tk<1.9?(XS=KS,YS=667,console.log("一般豎屏設備",XS,YS)):(YS=667,XS=KS,console.log("橫屏設備",XS,YS)),XS*=.9,YS*=.9,YS*=ZS,XS*=ZS,qS&&(qS.scale.resize(XS,YS),qS.scale.refresh())}ak(),window.addEventListener("resize",(()=>{JS=window.innerWidth,QS=window.innerHeight,ak()}));const sk={type:s.AUTO,width:XS,height:YS,parent:"game-container",pixelArt:!0,backgroundColor:"#000000",resolution:Math.max(window.devicePixelRatio,2),autoRound:!0,scene:[zS,VS,HS,WS,GS],render:{antialias:!0,pixelArt:!1,clearBeforeRender:!0,failIfMajorPerformanceCaveat:!1,powerPreference:"high-performance"},scale:{mode:s.Scale.FIT,autoCenter:s.Scale.CENTER_BOTH,orientation:s.Scale.PORTRAIT},fps:{target:60,forceSetTimeOut:!1,min:10,paused:!1},physics:{default:"arcade",arcade:{debug:!0}},contextCreation:{powerPreference:"high-performance"}},nk={class:"phaser-game3-container"},ik=Ir(Ra({__name:"PhaserGame",setup(e,{expose:t}){const a=At(),n=At(),i=()=>{if(n.value)try{n.value.scene.scenes.forEach((e=>{e.scene&&"function"==typeof e.scene.isActive&&e.scene.isActive()&&e.scene.stop()})),n.value.destroy(!0),n.value=void 0,console.log("遊戲已成功銷毀")}catch(e){console.error("銷毀遊戲時出錯:",e)}};return Xa((()=>{const e=document.getElementById("game3-container");e&&(e.innerHTML=""),n.value=("game3-container",qS&&(qS.destroy(!0),qS=null),qS=new s.Game({...sk,parent:"game3-container"}),qS)})),es((()=>{i()})),t({scene:a,game:n,destroyGame:i}),(e,t)=>(En(),$n("div",nk,t[0]||(t[0]=[zn("div",{id:"game3-container"},null,-1)])))}}),[["__scopeId","data-v-7298b7f5"]]),ok={class:"game3-page"},lk=Ir(Ra({__name:"game3View",setup:e=>(e,t)=>(En(),$n("div",ok,[Vn(ik)]))}),[["__scopeId","data-v-d1a6b679"]]),rk={class:"game-page"},ck=Ra({__name:"gameTurboView",setup(e){const t=wr(),a=_r(),s=yr(),n=At(!1),i=At(localStorage.getItem("token")||""),o=At(a.query.id),l=At(""),r=At(""),c=At([]),u=At([]),d=At([]),h=At(!1),p=At({}),f=At(null),m=At(""),g=At(""),v=At(null),b=At("0"),y=At("0"),_=At({}),w=At({});let x={};const S=At(""),k=At(""),C=At(""),T=At(0),B=At(""),A=At(""),I=At(0),E=At(!1);At("0");const P=At(0),O=At([]),D=At(!1),$=At("0"),M=At("0"),L=At("0"),N=At("0"),R=At([]),j=At({seatNumber:0,timeLimit:0}),z=pi((()=>t.isConnected)),V=pi((()=>t.messages)),H=()=>{console.log("測試按鈕被點擊"),h.value=!1};async function F(){var e,t,n,p,f,v,b,y,_;h.value=!1,o.value=a.query.id;const w=Ho(`/api/v1/tables/${o.value}`);try{const a=await fetch(w,{method:"GET",headers:{Authorization:`Bearer ${i.value}`}});if(401===a.status)return console.error("認證失敗，跳轉到登入頁面"),void s.push("/login_line");const x=await a.json();console.log("獲取牌桌資料",x),S.value=x.name,g.value=x.type,T.value=x.max_players,B.value=x.min_buy_in,A.value=x.max_buy_in,m.value=x.current_hand,k.value=x.status,I.value=x.button_seat,l.value=x.group||"",x.my_seat?($.value=null==(e=x.my_seat)?void 0:e.can_bet,M.value=null==(t=x.my_seat)?void 0:t.can_bet_min,L.value=null==(n=x.my_seat)?void 0:n.can_bet_max,E.value=!0,O.value=(null==(p=x.my_seat)?void 0:p.hole_cards)||[],P.value=x.my_seat.number,d.value=x.my_seat.can_do_actions):(E.value=!1,console.log("API沒有個人資料觸發玩家離座動畫")),x.tournament_id&&(r.value=x.tournament_id),u.value=[];for(const e of Object.keys(x.seats)){const t=x.seats[e].number,a=(null==(f=x.seats[e].player)?void 0:f.character)||"",s=(null==(v=x.seats[e].player)?void 0:v.nickname)||"",n=x.seats[e].chips||"",i=x.seats[e].bet_chips||"",o=x.seats[e].status,l=(null==(b=x.seats[e].seat_hand)?void 0:b.best_rank)||"",r=(null==(y=x.seats[e].seat_hand)?void 0:y.hole_cards)||"",c=x.seats[e].show_hole_cards||0,d=(null==(_=x.seats[e].player)?void 0:_.avatar)||"",h=0;u.value.push({number:t,playerCharacter:a,playerStatus:o,playerName:s,playerChips:n,playerBetChips:i,playerCardBest:l,handShowCards:c,playerCard:r,playerAvatar:d,timeLimitNumber:h})}"playing"===k.value&&m.value&&"TUR"!==x.group&&async function(){const e=Ho(`/api/v1/tables/${o.value}/hand`);try{const t=await fetch(e,{method:"GET",headers:{Authorization:`Bearer ${i.value}`}});if(401===t.status)return console.error("認證失敗，跳轉到登入頁面"),void s.push("/login");if(!t.ok)return console.error(`伺服器返回錯誤狀態: ${t.status}`),void(404===t.status&&(console.log("當前沒有活躍的牌局"),k.value="waiting",c.value=[]));const a=await t.json();console.log("獲取牌桌遊戲資料",a),C.value=W(a.hand_phase),c.value=a.community_cards}catch(t){console.error("獲取牌桌遊戲資料失敗:",t)}}(),h.value=!0}catch(x){console.error("獲取牌桌資料失敗:",x)}}function W(e){return{init:"洗牌及切牌",blind_bet:"小盲注和大盲注",deal:"發牌",preflop_bet:"翻牌前下注圈",flop:"翻牌",flop_bet:"翻牌圈下注",turn:"轉牌",turn_bet:"轉牌圈下注",river:"河牌",river_bet:"河牌圈下注",bet_end:"下注結束",showdown:"攤牌",complete:"牌局結束"}[e]||e}function U(){u.value=[],c.value=[],d.value=[],b.value="0",w.value={},x={},O.value=[],$.value="0",M.value="0",L.value="0",R.value=[]}return dn(z,(e=>{e&&(console.log("WebSocket 已連線，開始訂閱"),i.value?t.resubscribeToTablePlay(o.value):console.warn("沒有可用的 token，無法訂閱"))}),{immediate:!0}),dn((()=>a.query.id),((e,a)=>{e!==a&&(console.log("路由變化，舊的路由:",a),console.log("路由變化，新的路由:",e),f.value&&"function"==typeof f.value.destroyGame&&f.value.destroyGame(),o.value=e,U(),F(),e&&(console.log("重新訂閱新桌子 ID:",e),t.resubscribeToTablePlay(e),console.log("重新訂閱新桌子名稱:",S.value),F()))}),{immediate:!0}),dn(V,(e=>{var t;if(e)try{h.value=!1;const a=e;if("user_into_pool"===a.event&&(p.value={waitButton:!0},o.value=a.main_table_id),"user_move"===a.event&&(l.value=a.to_table_group||"",p.value={waitButton:!1},F(),a.tournament_id||(p.value={waitButton:!1}),a.to_table_id!==o.value||(F(),console.log("user_move觸發而重新GET資料:",S.value),console.log("user_move觸發而重新GET資料:",o.value))),"seat_chips"===a.event){if(a.table_id!==o.value)return;const e=a.seat_number-1;u.value[e].playerChips=a.chips,u.value[e].playerReasonChips=a.reason,u.value[e].playerAmount=a.amount,"0"===a.bet_chips?u.value[e].playerBetChips="0":u.value[e].playerBetChips=a.bet_chips}if("seat_status"===a.event){if(a.table_id!==o.value)return;const e=a.seat_number-1;"playing"===a.old_status&&"folded"===a.status&&(u.value[e].seatAction="folded"),"folded"===a.old_status&&"waiting"===a.status&&(u.value[e].seatAction=a.status)}if("seat_join_leave"===a.event){if(a.table_id!==o.value)return;const e=a.seat_number-1,t=a.seat_number;if(e>=0&&e<u.value.length){const s={...u.value[e]};s.number=t,s.playerStatus=a.status,s.playerName=a.nickname||"",s.playerAvatar=a.avatar||"",s.timeLimitNumber=0,s.playerCharacter=a.character||"",u.value[e]=s}"leave"===a.action&&(u.value[e].playerChips="0",u.value[e].playerName="")}if("balance_deduct"===a.event&&(v.value=a.balance),"pot"===a.event){if(a.table_id!==o.value)return;if(b.value=a.total_pot_amount,"collect"===a.reason){const e=Number(a.pot.amount),t=a.pot.order;0===t?y.value=a.pot.amount:_.value[t]=a.pot.amount,x[t]={reason:a.reason,amount:e,players:[]},w.value={...x}}if("clear"===a.reason&&(x={},w.value={},b.value="0",y.value="0",_.value={}),a.winners){const e=Object.keys(a.winners),t=a.pot.order,s=Number(a.pot.amount),n=e.map((e=>({name:a.winners[e],seatNumber:parseInt(e,10)})));x[t]={reason:a.reason,amount:s,players:n},w.value={...x}}}if("user_join_leave"===a.event){if(a.table_id!==o.value)return;const e=a.seat_number-1;if(P.value=a.seat_number,"join"===a.action&&("TUR"===a.table_group?console.log("急速桌主桌不跳轉"):E.value=!0,O.value=[],u.value[e].playerStatus=a.status),"leave"===a.action){if(a.table_id!==o.value||a.seat_number!==P.value)return void console.log("不是当前玩家的离开事件，忽略");console.log("确认玩家离开事件:",a),E.value=!1,O.value=[],u.value[e].playerStatus=a.status,w.value={},b.value="0",console.log("即時資料玩家離開觸發離座動畫:",S.value)}}if("show_hole_cards"===a.event){const e=a.seat_num-1,s={...u.value[e]};s.playerCard=a.hole_cards,s.handShowCards=a.show_hole_cards,s.playerCardBest={none:"無牌型",high_card:"高牌",pair:"對子",two_pair:"兩對",three_of_a_kind:"三條",straight:"順子",flush:"同花",full_house:"葫蘆",four_of_a_kind:"四條",straight_flush:"同花順",royal_flush:"皇家同花順"}[t=a.best_rank_code]||t,u.value[e]=s}if("table_play_hand_update"===a.event&&(C.value=W(a.hand.hand_phase),c.value=a.hand.community_cards),"table_play_actor_update"===a.event){console.log("收到倒计时更新:",a);const e={seatNumber:a.actor_seat||0,timeLimit:a.time_limit||0};console.log("更新座位时间:",e),j.value=e}if("table_play_update"===a.event&&(m.value=a.table.current_hand,k.value=a.table.status,I.value=a.table.button_seat),"user_can_do_actions_update"===a.event){P.value=a.seat_num,d.value=a.can_do_actions,$.value=a.can_bet,M.value=a.can_bet_min,L.value=a.can_bet_max,N.value=a.can_bet_min;const e=["33%","50%","75%"];R.value=e.filter((e=>{var t;return void 0!==(null==(t=a.can_bet_pot_percents)?void 0:t[e])})).reverse().map((e=>({[e]:a.can_bet_pot_percents[e]}))),a.can_do_actions&&(D.value=a.can_do_actions.includes("show_cards"))}"user_hole_cards_update"===a.event&&(O.value=a.hole_cards),h.value=!0}catch(Sm){console.error("解析 WebSocket 訊息時發生錯誤:",Sm)}})),Xa((async()=>{U(),F()})),Za((()=>{f.value&&"function"==typeof f.value.destroyGame&&f.value.destroyGame()})),es((()=>{t.unsubscribeFromTablePlay(o.value)})),(e,t)=>(En(),$n("div",rk,[da(zn("div",null,[Vn(Ax)],512),[[Vi,n.value]]),zn("div",{class:"test"},[zn("button",{onClick:H}," 測試 ")]),h.value?(En(),Mn(dS,{ref_key:"gameRef",ref:f,gameId:m.value,tableName:S.value,tableType:g.value,playerToken:i.value,tableId:o.value,groupId:l.value,tournamentId:r.value,maxPlayers:T.value,currentPlayers:u.value,minBuyIn:B.value,maxBuyIn:A.value,sitDownButton:E.value,seatButton:I.value,tableStatus:k.value,playHand:C.value,myNumber:P.value,canDoAction:d.value,showHoleCardsButton:D.value,potAmountBox:b.value,potCollectBox:y.value,potSideBox:_.value,potWinner:w.value,publicCard:c.value,call:$.value,mainRaise:M.value,maxRaise:L.value,myHandCard:O.value,allChipAdditionBox:R.value,key:o.value,seatTime:j.value,turboData:p.value},null,8,["gameId","tableName","tableType","playerToken","tableId","groupId","tournamentId","maxPlayers","currentPlayers","minBuyIn","maxBuyIn","sitDownButton","seatButton","tableStatus","playHand","myNumber","canDoAction","showHoleCardsButton","potAmountBox","potCollectBox","potSideBox","potWinner","publicCard","call","mainRaise","maxRaise","myHandCard","allChipAdditionBox","seatTime","turboData"])):Gn("",!0)]))}}),uk=Ir(ck,[["__scopeId","data-v-9ac715e3"]]),dk={class:"login-container"},hk={class:"login-box"},pk={class:"message"},fk={key:0,class:"spinner"},mk=Ir(Ra({__name:"LoginView",setup(e){const t=yr(),a=_r(),s=At("登入中，請稍候..."),n=At(!0);return Xa((()=>{const e=a.query.token;e?(localStorage.setItem("token",e),s.value="登入成功，即將進入遊戲...",setTimeout((()=>{t.push("/hall")}),1e3)):(s.value="登入失敗，請重新登入",n.value=!1)})),(e,t)=>(En(),$n("div",dk,[zn("div",hk,[zn("div",pk,[zn("p",null,ae(s.value),1),n.value?(En(),$n("div",fk)):Gn("",!0)])])]))}}),[["__scopeId","data-v-9d8a41e8"]]),gk={class:"login-container"},vk=Ra({__name:"LoginLineView",setup(e){const t=encodeURIComponent("https://devpoki.ebrainzone.com/game/callback"),a=crypto.randomUUID(),s=()=>{const e=`https://access.line.me/oauth2/v2.1/authorize?response_type=code&client_id=2006807417&redirect_uri=${t}&state=${a}&scope=profile openid email`;window.location.href=e};return(e,t)=>(En(),$n("div",gk,[zn("img",{onClick:s,src:"/Work-Results/assets/line_in-DhQOCO3i.png",alt:"Loading Background",class:"loading-background"}),t[0]||(t[0]=zn("p",{class:"other-login-methods"},"其他登入方式建置中...",-1))]))}}),bk={class:"text-color-white text-center"},yk=Ra({__name:"LineCallBackView",setup(e){_r();const t=yr(),a=new URLSearchParams(window.location.search),s=At(a.get("code"));return At(a.get("state")),console.log("code:",s.value),Xa((()=>{!async function(){var e,a;const n=Fo("/api/v1/home/social-login");try{const i=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({provider:"line-code",token:s.value})});if(401===i.status)return console.error("認證失敗"),t.push("/login_line"),null;if(!i.ok){console.error(`HTTP 錯誤: ${i.status}`);const e=await i.text();throw console.error("錯誤響應內容:",e),new Error(`HTTP 錯誤: ${i.status}`)}const o=await i.json();localStorage.setItem("token",o.data.token),localStorage.setItem("member",o.data.member_token),localStorage.setItem("name",null==(e=o.data.user)?void 0:e.username),localStorage.setItem("character",null==(a=o.data.user)?void 0:a.character),console.log("獲取資料成功:",o),o.success&&t.push("/hall")}catch(i){return console.error("獲取URL失敗:",i),null}}()})),(e,t)=>(En(),$n("div",bk,t[0]||(t[0]=[zn("p",null,"正在處理 LINE 登入...",-1)])))}}),_k="/Work-Results/assets/btn-chat-bg-BsRPpFmi.png",wk="/Work-Results/assets/Category_Select-DHvADBwY.png",xk="/Work-Results/assets/Category_NoSelect-BmXcbUPD.png",Sk="/Work-Results/assets/btn-expand-DCZPoYH8.png",kk="/Work-Results/assets/chat-insert-DXNXxQj9.png",Ck="/Work-Results/assets/btn-submit-z_z27bbj.png",Tk="/Work-Results/assets/btn-back-CGwCjI_p.png",Bk={class:"chat-container"},Ak={class:"chatBag"},Ik={class:"chat-header"},Ek={class:"chatTitleButton"},Pk={key:0,class:"buttonImg",src:wk},Ok={key:1,class:"buttonImg",src:xk},Dk={key:0,class:"buttonImg",src:wk},$k={key:1,class:"buttonImg",src:xk},Mk={key:0,class:"buttonImg",src:wk},Lk={key:1,class:"buttonImg",src:xk},Nk={key:0,class:"buttonImg",src:wk},Rk={key:1,class:"buttonImg",src:xk},jk={key:0,class:"friendList"},zk={key:0,class:"friendText"},Vk={key:1,class:"friendText"},Hk={key:2,class:"friend-dropdown"},Fk={key:0},Wk=["onClick"],Uk={key:1,class:"friend-item no-friends"},Gk={class:"chat-messages",ref:"messagesContainer"},qk={key:0},Kk={key:0,class:"message-sender"},Yk={class:"message-content"},Xk={class:"message-time"},Qk={key:0,class:"message-sender"},Jk={class:"message-content"},Zk={class:"message-time"},eC={class:"inputArea"},tC={key:0,class:"fullscreen-modal"},aC={class:"fullscreen-modal-content"},sC={class:"fullscreen-modal-body"},nC={class:"fullscreen-messages"},iC={key:0},oC={key:0,class:"message-sender"},lC={class:"message-content"},rC={class:"message-time"},cC={class:"inputArea"},uC=Ra({__name:"ChatView",setup(e){yr();const t=wr(),a=At("");At("");const s=At(localStorage.getItem("token")||""),n=At(localStorage.getItem("name")||""),i=At(localStorage.getItem("member")||""),o=At([]),l=At("general"),r=At(!1),c=At([]),u=At(!1),d=At(),h=pi((()=>t.isConnected)),p=pi((()=>t.messages));dn(h,(e=>{e&&(console.log("WebSocket聊天室已連線，開始訂閱"),s.value?t.resubscribeChat(s.value,l.value):console.warn("沒有可用的 token，無法訂閱"))}),{immediate:!0}),dn(p,(e=>{if(e)try{const t=e;if("chat_message"===t.event){const e={sender:t.sender,content:t.content,receiver:t.receiver,receiver_nickname:t.receiver_nickname,created_at:t.created_at,sender_nickname:t.sender_nickname,type:t.type};o.value.unshift(e)}}catch(Sm){console.error("解析 WebSocket 訊息時發生錯誤:",Sm)}}));const f=e=>{l.value=e,t.resubscribeChat(s.value,l.value),w()},m=()=>{r.value=!0},g=()=>{r.value=!1};function v(){a.value.trim()&&(_(),a.value="")}const b=e=>{const t=new Date(1e3*e);return`${t.getHours().toString().padStart(2,"0")}:${t.getMinutes().toString().padStart(2,"0")}`},y=()=>{u.value||async function(){try{const e=Fo("/api/v1/game/user/friends"),t=await fetch(e,{method:"GET",headers:{Authorization:`Bearer ${i.value}`}});if(t.ok){const e=await t.json();c.value=e.data}else console.error("獲取好友列表失敗:",t.statusText)}catch(e){console.error("獲取好友列表時出錯:",e)}}(),u.value=!u.value},_=async()=>{var e;try{const t=Ho("/api/v1/chat/messages");let n;n="private"===l.value&&d?{type:l.value,content:a.value,receiver:null==(e=d.value)?void 0:e.username}:{type:l.value,content:a.value};const i=await fetch(t,{method:"POST",headers:{Authorization:`Bearer ${s.value}`,"Content-Type":"application/json"},body:JSON.stringify(n)});i.ok?console.log("訊息已發送:",a.value):console.error("發送訊息失敗:",await i.text())}catch(t){console.error("發送訊息時出現錯誤:",t)}},w=async()=>{try{const e=Ho(`/api/v1/chat/messages?type=${l.value}`),t=await fetch(e,{method:"GET",headers:{Authorization:`Bearer ${s.value}`,"Content-Type":"application/json"}});if(t.ok){const e=await t.json();o.value=e.data.messages}else console.error("獲取訊息失敗:",await t.text())}catch(e){console.error("獲取訊息時出現錯誤:",e)}};return Xa((()=>{w()})),(e,t)=>(En(),$n("div",Bk,[zn("div",Ak,[zn("div",Ik,[t[11]||(t[11]=zn("img",{src:_k,class:"chatTitle"},null,-1)),zn("div",Ek,[zn("div",{onClick:t[0]||(t[0]=e=>f("general")),class:Y(["tab-button",{active:"general"===l.value}])},["general"===l.value?(En(),$n("img",Pk)):(En(),$n("img",Ok)),t[6]||(t[6]=zn("span",{class:"buttonText"},"一般",-1))],2),zn("div",{onClick:t[1]||(t[1]=e=>f("guild")),class:Y(["tab-button",{active:"guild"===l.value}])},["guild"===l.value?(En(),$n("img",Dk)):(En(),$n("img",$k)),t[7]||(t[7]=zn("span",{class:"buttonText"},"公會",-1))],2),zn("div",{onClick:t[2]||(t[2]=e=>f("system")),class:Y(["tab-button",{active:"system"===l.value}])},["system"===l.value?(En(),$n("img",Mk)):(En(),$n("img",Lk)),t[8]||(t[8]=zn("span",{class:"buttonText"},"系統",-1))],2),zn("div",{onClick:t[3]||(t[3]=e=>f("private")),class:Y(["tab-button",{active:"private"===l.value}])},["private"===l.value?(En(),$n("img",Nk)):(En(),$n("img",Rk)),t[9]||(t[9]=zn("span",{class:"buttonText"},"私人",-1))],2)]),zn("div",{class:"fullscreen-button",onClick:m},t[10]||(t[10]=[zn("img",{src:Sk},null,-1)])),"private"===l.value?(En(),$n("div",jk,[zn("img",{src:xk,class:"friendImg",onClick:y}),d.value?(En(),$n("span",zk,ae(d.value.nickname),1)):(En(),$n("span",Vk,"好友列表")),u.value?(En(),$n("div",Hk,[c.value.length>0?(En(),$n("div",Fk,[(En(!0),$n(kn,null,ds(c.value,(e=>(En(),$n("div",{key:e.friendsId,class:"friend-item",onClick:t=>{return a=e,d.value=a,void(u.value=!u.value);var a}},ae(e.nickname),9,Wk)))),128))])):(En(),$n("div",Uk," 暫無好友 "))])):Gn("",!0)])):Gn("",!0)]),zn("div",Gk,[(En(!0),$n(kn,null,ds(o.value,((e,t)=>{var a,s;return En(),$n("div",{key:t,class:Y(["message-item",{"message-item my-message":e.sender===n.value}])},["private"===e.type?(En(),$n("div",{key:0,class:Y(["message-item",{"message-item my-message":e.sender===n.value}])},[e.sender===(null==(a=d.value)?void 0:a.username)||e.receiver===(null==(s=d.value)?void 0:s.username)?(En(),$n("div",qk,[e.sender!==n.value?(En(),$n("div",Kk,ae(e.sender_nickname)+": ",1)):Gn("",!0),zn("div",Yk,ae(e.content),1),zn("div",Xk,ae(b(e.created_at)),1)])):Gn("",!0)],2)):(En(),$n("div",{key:1,class:Y(["message-item",{"message-item my-message":e.sender===n.value}])},[e.sender!==n.value?(En(),$n("div",Qk,ae(e.sender_nickname)+": ",1)):Gn("",!0),zn("div",Jk,ae(e.content),1),zn("div",Zk,ae(b(e.created_at)),1)],2))],2)})),128))],512),zn("div",eC,[t[12]||(t[12]=zn("img",{class:"input-wrapper",src:kk},null,-1)),da(zn("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>a.value=e),type:"text",class:"inputTXT",placeholder:"輸入訊息"},null,512),[[co,a.value]]),zn("img",{class:"inputButton",onClick:v,src:Ck})])]),r.value?(En(),$n("div",tC,[zn("div",aC,[zn("div",{class:"fullscreen-modal-header"},[t[13]||(t[13]=zn("div",null,null,-1)),t[14]||(t[14]=zn("h3",null,"聊天室",-1)),zn("img",{src:Tk,class:"close-button",onClick:g})]),zn("div",sC,[zn("div",nC,[(En(!0),$n(kn,null,ds(o.value,((e,t)=>(En(),$n("div",{key:t,class:Y(["message-item",{"my-message":e.sender===n.value}])},[e.type===l.value?(En(),$n("div",iC,[e.sender!==n.value?(En(),$n("div",oC,ae(e.sender_nickname)+": ",1)):Gn("",!0),zn("div",lC,ae(e.content),1),zn("div",rC,ae(b(e.created_at)),1)])):Gn("",!0)],2)))),128))]),zn("div",cC,[t[15]||(t[15]=zn("img",{class:"input-wrapper",src:kk},null,-1)),da(zn("input",{"onUpdate:modelValue":t[5]||(t[5]=e=>a.value=e),type:"text",class:"inputTXT",placeholder:"輸入訊息"},null,512),[[co,a.value]]),zn("img",{class:"inputButton",onClick:v,src:Ck})])])])])):Gn("",!0)]))}}),dC={bgSelectImage:new URL("/Work-Results/assets/bg_select-BDe7jqR6.png",import.meta.url).href,selectBgImage:new URL("/Work-Results/assets/select-bg-Q3Fa5iQS.png",import.meta.url).href,jackpotBgImage:new URL("/Work-Results/assets/jackpot-bg-cJ80du9v.png",import.meta.url).href,btnBackImage:new URL("/Work-Results/assets/btn-back-CGwCjI_p.png",import.meta.url).href,btnChatBg:new URL("/Work-Results/assets/btn-chat-bg-BsRPpFmi.png",import.meta.url).href,btnEnterfastImage:new URL("/Work-Results/assets/btn-enterfast-DfycdQUm.png",import.meta.url).href,btnCreateRoomImage:new URL("/Work-Results/assets/btn-create-room-CdnzVXYR.png",import.meta.url).href,frameRegularImage:new URL("/Work-Results/assets/%E6%A1%86-%E4%B8%80%E8%88%AC--rHkbryK.png",import.meta.url).href,frameTurboImage:new URL("/Work-Results/assets/%E6%A1%86-%E6%80%A5%E9%80%9F-C_0bpLWV.png",import.meta.url).href,frameShortDeckImage:new URL("/Work-Results/assets/%E6%A1%86-%E7%9F%AD%E7%89%8C-Dvz8ay90.png",import.meta.url).href,frameOmahaImage:new URL("/Work-Results/assets/%E6%A1%86-%E5%A5%A7%E9%A6%AC%E5%93%88-Brgp7SiK.png",import.meta.url).href,frameTournamentImage:new URL("/Work-Results/assets/%E6%A1%86-%E7%A9%8D%E5%88%86%E8%B3%BD-DP2VhaOP.png",import.meta.url).href,blindImage:new URL("/Work-Results/assets/%E5%BF%99%E6%B3%A8-DNCj7m_N.png",import.meta.url).href,blindImage2:new URL("/Work-Results/assets/room_F_s_2-R2-_6IfF.png",import.meta.url).href,playersImage:new URL("/Work-Results/assets/%E4%BA%BA%E6%95%B8-BsLph1No.png",import.meta.url).href,playersImage2:new URL("/Work-Results/assets/room_F_s_2-R2-_6IfF.png",import.meta.url).href,CategorySelectImage:new URL("/Work-Results/assets/Category_Select-DHvADBwY.png",import.meta.url).href,CategoryNoSelectImage:new URL("/Work-Results/assets/Category_NoSelect-BmXcbUPD.png",import.meta.url).href},hC="/Work-Results/assets/Mage1_1-_zEbZyyy.png",pC="/Work-Results/assets/Archer1_1-sS5SdpGG.png",fC="/Work-Results/assets/Assassin1_1-D4Y5eJsE.png",mC="/Work-Results/assets/Cleric1_1-DWc6Xd9a.png",gC="/Work-Results/assets/Knight1_1-gNuwtrgY.png",vC={class:"mBgOut"},bC={class:"mBg"},yC={class:"mbodyListBox p-3"},_C={class:"mbodyListRow mt-3"},wC={class:"listBoxCenter"},xC={class:"userImg"},SC=["src"],kC={class:"listBoxCenter"},CC={class:"chatBg"},TC={key:0,class:"loading-overlay"},BC={key:1,class:"loading-overlay"},AC={class:"modal-content p-4"},IC={class:"modal-header"},EC={class:"modal-body"},PC=Ra({__name:"HallView",setup(e){const t=At(localStorage.getItem("character")||"魔法師"),a=At(!1),s=At(!1),n=yr(),i=At(!1),o=At(""),l=At("提示"),r=js("character",null);r&&dn(r,(e=>{e&&(t.value=e)}));const c=["/Work-Results/assets/bgTable-BCQqHFtw.png",hC,pC,fC,mC,gC],u=e=>{n.push(e)};function d(){switch(t.value){case"魔法師":default:return hC;case"弓箭手":return pC;case"刺客":return fC;case"祭司":return mC;case"騎士":return gC}}function h(e){l.value=e,o.value=`${e}功能建置中...`,i.value=!0}function p(){i.value=!1}function f(e){const t=e.currentTarget;t.classList.add("click-animation"),setTimeout((()=>{t.classList.remove("click-animation")}),300)}return Xa((async()=>{var e;t.value=localStorage.getItem("character")||"魔法師",await(e=c,Promise.all(e.map((e=>new Promise((t=>{const a=new Image;a.src=e,a.onload=()=>t(),a.onerror=()=>t()})))))),console.log("基本圖片已載入完成"),a.value=!0})),(e,t)=>(En(),$n(kn,null,[Vn(Bi,{name:"fade",mode:"out-in"},{default:ua((()=>[da(zn("div",vC,[Vn(Ax),zn("div",bC,[zn("div",yC,[zn("div",_C,[zn("div",wC,[zn("div",{class:"imgBox1",onClick:t[0]||(t[0]=e=>{f(e),u("/guild")})},t[7]||(t[7]=[zn("img",{src:"/Work-Results/assets/btn-league-CsPu-qnu.png"},null,-1)])),zn("div",{class:"imgBox1",onClick:t[1]||(t[1]=e=>{f(e),u("/friend")})},t[8]||(t[8]=[zn("img",{src:"/Work-Results/assets/btn-friend-BHyJaLse.png"},null,-1)])),zn("div",{class:"imgBox1",onClick:t[2]||(t[2]=e=>{f(e),u("/store")})},t[9]||(t[9]=[zn("img",{src:"/Work-Results/assets/btn-deposit-ByZPUa6s.png"},null,-1)]))]),zn("div",xC,[t[10]||(t[10]=zn("img",{class:"ground",src:"/Work-Results/assets/Pedestal-Dlty4tYy.png"},null,-1)),zn("img",{class:"player",src:d()},null,8,SC)]),zn("div",kC,[zn("div",{class:"imgBox1",onClick:t[3]||(t[3]=e=>{f(e),u("/bank")})},t[11]||(t[11]=[zn("img",{src:"/Work-Results/assets/btn-bank-CF9pN_oL.png"},null,-1)])),zn("div",{class:"imgBox1",onClick:t[4]||(t[4]=e=>{f(e),h("衣櫃")})},t[12]||(t[12]=[zn("img",{src:"/Work-Results/assets/btn-closet-sazPGIzm.png"},null,-1)])),zn("div",{class:"imgBox1",onClick:t[5]||(t[5]=e=>{f(e),h("商店")})},t[13]||(t[13]=[zn("img",{src:"/Work-Results/assets/btn-shop-CVudbBU7.png"},null,-1)]))]),zn("div",{class:"gameButtonBox",onClick:t[6]||(t[6]=e=>{f(e),async function(){try{s.value=!0,await function(){const e=Object.values(dC).map((e=>new Promise(((t,a)=>{const s=new Image;s.src=e,s.onload=()=>t(),s.onerror=()=>a(new Error(`Failed to load image: ${e}`))}))));return Promise.all(e).then((()=>{}))}(),s.value=!1,n.push("/select")}catch(e){console.error("載入遊戲資源失敗:",e),s.value=!1,l.value="錯誤",o.value="載入遊戲資源失敗，請重試",i.value=!0}}()})},t[14]||(t[14]=[zn("div",{class:"imgBox2"},[zn("img",{src:"/Work-Results/assets/btn-enter-game-D5Zkr56B.png"})],-1)]))])])]),zn("div",CC,[Vn(uC)])],512),[[Vi,a.value]])])),_:1}),a.value?Gn("",!0):(En(),$n("div",TC,t[15]||(t[15]=[zn("div",{class:"spinner"},null,-1),zn("p",null,"Loading...",-1)]))),s.value?(En(),$n("div",BC,t[16]||(t[16]=[zn("div",{class:"spinner"},null,-1),zn("p",null,"遊戲資源載入中...",-1)]))):Gn("",!0),i.value?(En(),$n("div",{key:2,class:"modal-overlay",onClick:_o(p,["self"])},[zn("div",AC,[zn("div",IC,[zn("h3",null,ae(l.value),1),zn("button",{class:"close-button",onClick:p},"×")]),zn("div",EC,ae(o.value),1)])])):Gn("",!0)],64))}}),OC={class:"route-label-container"},DC={class:"center-modal"},$C={class:"modal-body"},MC={key:0,class:"table-list"},LC={class:"table-number"},NC={class:"table-id"},RC={key:1,class:"no-tables"},jC={key:0,class:"debug-info"},zC=Ra({__name:"RouteLabel3",setup(e){const t=At(localStorage.getItem("name")||""),a=At(localStorage.getItem("token")||""),s=wr();pi((()=>s.messages));const n=At([]),i=At(null),o=Wo(),l=At(!1),r=At(!1);function c(){console.log("觸發下拉選單切換"),l.value=!l.value,l.value&&0===n.value.length&&h()}function u(){l.value=!1}function d(){n.value=[],h()}async function h(){console.log("開始獲取桌子列表");const e=Ho(`/api/v1/tables?player=${t.value}`);try{const t=await fetch(e,{method:"GET",headers:{Authorization:`Bearer ${a.value}`}}),s=await t.json();console.log("獲取桌子列表返回數據:",s),s.data.tables&&Array.isArray(s.data.tables)?(n.value=[],s.data.tables.forEach((e=>{n.value.push({id:e.id,name:e.name})})),console.log("獲取桌子列表成功:",n.value)):console.warn("獲取桌子列表返回格式不符合預期:",s)}catch(s){console.error("獲取桌子列表時發生錯誤:",s)}}return Xa((()=>{h(),console.log("RouteLabel3 組件已掛載")})),es((()=>{})),(e,t)=>{const a=os("router-link");return En(),$n("div",OC,[zn("div",{class:"dropdown-container",ref_key:"dropdownRef",ref:i},[zn("div",{class:"dropdown-trigger",onClick:_o(c,["stop"])},[zn("img",{src:Sk,alt:"展開",class:Y(["dropdown-icon",{rotated:l.value}])},null,2)])],512),Vn(Bi,{name:"fade"},{default:ua((()=>[da(zn("div",{class:"center-modal-overlay",onClick:_o(u,["self"])},[zn("div",DC,[zn("div",{class:"modal-header"},[t[0]||(t[0]=zn("div",{class:"modal-title"},"入座桌子列表",-1)),zn("div",{class:"modal-close",onClick:u},"×")]),zn("div",$C,[n.value.length>0?(En(),$n("div",MC,[(En(!0),$n(kn,null,ds(n.value,((e,t)=>(En(),Mn(a,{key:t,to:{name:"game"},class:"table-item",onClick:t=>function(e){l.value=!1,o.setTableId(e)}(e.id)},{default:ua((()=>[zn("div",LC,ae(t+1),1),zn("div",NC,ae(e.name),1)])),_:2},1032,["onClick"])))),128))])):(En(),$n("div",RC,t[1]||(t[1]=[zn("img",{src:Sk,alt:"無桌子",class:"empty-icon"},null,-1),zn("p",null,"暫無可用桌子",-1)])))])])],512),[[Vi,l.value]])])),_:1}),r.value?(En(),$n("div",jC,[zn("p",null,"下拉狀態: "+ae(l.value?"開啟":"關閉"),1),zn("p",null,"桌子數量: "+ae(n.value.length),1),zn("button",{onClick:d},"強制刷新")])):Gn("",!0)])}}}),VC="/Work-Results/assets/%E6%A1%86-%E4%B8%80%E8%88%AC--rHkbryK.png",HC={class:"select-table-wrapper"},FC={class:"mBoxSelect"},WC={class:"header-fixed"},UC={class:"mTitleBg"},GC=["src"],qC={class:"mTitleBox"},KC=["src"],YC=["src"],XC=["src"],QC=["src"],JC=["src"],ZC=["src"],eT=["src"],tT=["src"],aT=["src"],sT=["src"],nT={class:"backBtnBox"},iT=["src"],oT={class:"jackpotBg p-1"},lT=["src"],rT={class:"jackpotBox p-3"},cT={class:"jackpotButton"},uT={class:"imgButtonBox"},dT=["src"],hT={class:"imgButtonBox"},pT=["src"],fT={key:0,class:"tableBox p-3"},mT={class:"tableItem tournament"},gT=["src"],vT={class:"tableName"},bT={class:"tableBody"},yT={class:"tableBodyBox"},_T={class:"tableBodyImg"},wT={class:"imgSelectBox2"},xT=["src"],ST={class:"fs-5 fw-bold"},kT={class:"imgSelectBox2"},CT=["src"],TT={class:"fs-5 fw-bold"},BT={class:"tableBonusBg"},AT={class:"fs-5 text-light fw-bold text-center"},IT={key:1,class:"tableBox p-3"},ET=["onClick"],PT=["src"],OT={class:"tableName"},DT={class:"tableMoney"},$T={class:"imgSelectBox2"},MT=["src"],LT={class:"fs-6 fw-bold"},NT={class:"imgSelectBox2"},RT=["src"],jT={class:"fs-6 fw-bold"},zT={class:"imgSelectBox2"},VT=["src"],HT={key:0,class:""},FT={class:"fs-6 fw-bold"},WT={key:1,class:""},UT={class:"fs-6 fw-bold"},GT={id:"messages"},qT=["innerHTML"],KT={key:0,class:"loading-overlay"},YT=Ra({__name:"SelectTableView",setup(e){const t=yr(),a=At(5168e4),s=At([]),n=At([]),i=At("regular"),o=At(!1),l=At(localStorage.getItem("token")||""),r=At(""),c=At(""),u=Wo(),d=wr(),h=pi((()=>d.isConnected)),p=pi((()=>d.messages)),f=At(!1);function m(e){i.value=e,v()}function g(e){if(!e)return"未設定";const t=new Date(1e3*e);return`${t.getFullYear()}/${String(t.getMonth()+1).padStart(2,"0")}/${String(t.getDate()).padStart(2,"0")}`}async function v(){if(f.value=!1,o.value=!1,"tournament"===i.value)return o.value=!0,void async function(){f.value=!1;const e=Ho("/api/v1/tournaments");try{const a=await fetch(e,{method:"GET",headers:{Authorization:`Bearer ${l.value}`}});if(401===a.status)return console.error("認證失敗，跳轉到登入頁面"),void t.push("/login_line");const s=await a.json();console.log("錦標賽資料:",s),n.value=s.data.tournaments;let i=[];n.value.forEach((e=>{i.push(e.base.id)})),c.value=i.join(","),d.resubscribeToTournamentShow(c.value),f.value=!0}catch(a){console.error("獲取錦標賽資料失敗:",a),f.value=!0}}();const e=Ho(`/api/v1/tables?type=${i.value}`);try{const n=await fetch(e,{method:"GET",headers:{Authorization:`Bearer ${l.value}`}});if(401===n.status)return console.error("認證失敗，跳轉到登入頁面"),void t.push("/login_line");const i=await n.json();s.value=i.data.tables.sort(((e,t)=>e.number-t.number)),console.log("牌桌資料:",s.value);let o=[];s.value.forEach((e=>{o.push(e.id)})),r.value=o.join(","),d.resubscribeToTableShow(r.value),await(a=y,Promise.all(a.map((e=>new Promise((t=>{const a=new Image;a.src=e,a.onload=t,a.onerror=t})))))),f.value=!0}catch(u){console.error("獲取牌桌資料失敗:",u),f.value=!0}var a}function b(e){if("-"==e)return"-";const t="number"==typeof e?e:parseFloat(e)||0;return Math.abs(t)<.001?"0":t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}dn(h,(e=>{e&&(console.log("WebSocket 已連線，開始訂閱"),l.value?d.resubscribeToTableShow(r.value):console.warn("沒有可用的 token，無法訂閱"))}),{immediate:!0}),dn(p,(e=>{if(e)try{const t=e;if("table_show_update"===t.event){const e=s.value.findIndex((e=>e.id===t.table_id));-1!==e&&(s.value[e].current_players=t.current_players)}if("base_info"===t.event){const e=n.value.findIndex((e=>e.base.id===t.tournament_id));-1!==e&&(n.value[e].base.status=t.status,n.value[e].base.register_start_time=t.register_start_time,n.value[e].base.pot_fee=t.pot_fee)}if("stats"===t.event){const e=n.value.findIndex((e=>e.base.id===t.tournament_id));-1!==e&&(n.value[e].stats.current_players=t.stats.current_players,n.value[e].stats.total_pot=t.stats.total_pot)}}catch(Sm){console.error("解析 WebSocket 訊息時發生錯誤:",Sm)}}));const y=["/Work-Results/assets/bg_select-BDe7jqR6.png","/Work-Results/assets/select-bg-Q3Fa5iQS.png","/Work-Results/assets/jackpot-bg-cJ80du9v.png",Tk,"/Work-Results/assets/btn-enterfast-DfycdQUm.png","/Work-Results/assets/btn-create-room-CdnzVXYR.png",VC,"/Work-Results/assets/%E6%A1%86-%E6%80%A5%E9%80%9F-C_0bpLWV.png","/Work-Results/assets/%E6%A1%86-%E7%9F%AD%E7%89%8C-Dvz8ay90.png","/Work-Results/assets/%E6%A1%86-%E5%A5%A7%E9%A6%AC%E5%93%88-Brgp7SiK.png","/Work-Results/assets/%E6%A1%86-%E7%A9%8D%E5%88%86%E8%B3%BD-DP2VhaOP.png","/Work-Results/assets/%E5%BF%99%E6%B3%A8-DNCj7m_N.png","/Work-Results/assets/%E4%BA%BA%E6%95%B8-BsLph1No.png"];return Xa((async()=>{console.log("選桌開始"),v(),f.value=!0})),es((()=>{d.unsubscribeFromTableShow(r.value)})),(e,t)=>{const l=os("router-link");return En(),$n("div",HC,[Vn(Bi,{name:"fade",mode:"out-in"},{default:ua((()=>[zn("div",{class:"mBgSelect",style:W({backgroundImage:`url(${Ot(dC).bgSelectImage})`})},[zn("div",FC,[zn("div",WC,[Vn(Ax)]),t[15]||(t[15]=zn("div",{class:"header-spacer"},null,-1)),Vn(zC),zn("div",UC,[zn("img",{src:Ot(dC).btnChatBg,class:"mTitleBgImage"},null,8,GC),zn("div",qC,[zn("div",{onClick:t[0]||(t[0]=e=>m("regular")),class:Y(["tab-button",{active:"regular"===i.value}])},["regular"===i.value?(En(),$n("img",{key:0,class:"buttonImg",src:Ot(dC).CategorySelectImage},null,8,KC)):(En(),$n("img",{key:1,class:"buttonImg",src:Ot(dC).CategoryNoSelectImage},null,8,YC)),t[5]||(t[5]=zn("span",{class:"buttonText"},"一般桌",-1))],2),zn("div",{onClick:t[1]||(t[1]=e=>m("turbo")),class:Y(["tab-button",{active:"turbo"===i.value}])},["turbo"===i.value?(En(),$n("img",{key:0,class:"buttonImg",src:Ot(dC).CategorySelectImage},null,8,XC)):(En(),$n("img",{key:1,class:"buttonImg",src:Ot(dC).CategoryNoSelectImage},null,8,QC)),t[6]||(t[6]=zn("span",{class:"buttonText"},"極速桌",-1))],2),zn("div",{onClick:t[2]||(t[2]=e=>m("short_deck")),class:Y(["tab-button",{active:"short_deck"===i.value}])},["short_deck"===i.value?(En(),$n("img",{key:0,class:"buttonImg",src:Ot(dC).CategorySelectImage},null,8,JC)):(En(),$n("img",{key:1,class:"buttonImg",src:Ot(dC).CategoryNoSelectImage},null,8,ZC)),t[7]||(t[7]=zn("span",{class:"buttonText"},"短牌桌",-1))],2),zn("div",{onClick:t[3]||(t[3]=e=>m("omaha")),class:Y(["tab-button",{active:"omaha"===i.value}])},["omaha"===i.value?(En(),$n("img",{key:0,class:"buttonImg",src:Ot(dC).CategorySelectImage},null,8,eT)):(En(),$n("img",{key:1,class:"buttonImg",src:Ot(dC).CategoryNoSelectImage},null,8,tT)),t[8]||(t[8]=zn("span",{class:"buttonText"},"奧瑪哈",-1))],2),zn("div",{onClick:t[4]||(t[4]=e=>m("tournament")),class:Y(["tab-button",{active:"tournament"===i.value}])},["tournament"===i.value?(En(),$n("img",{key:0,class:"buttonImg",src:Ot(dC).CategorySelectImage},null,8,aT)):(En(),$n("img",{key:1,class:"buttonImg",src:Ot(dC).CategoryNoSelectImage},null,8,sT)),t[9]||(t[9]=zn("span",{class:"buttonText"},"錦標賽",-1))],2)])]),zn("div",nT,[Vn(l,{to:"/hall",class:"backBtn"},{default:ua((()=>[zn("img",{src:Ot(dC).btnBackImage},null,8,iT)])),_:1})]),zn("div",oT,[zn("img",{class:"jackpotBgImage",src:Ot(dC).jackpotBgImage},null,8,lT),zn("div",rT,[zn("div",null,ae(b(a.value)),1)]),zn("div",cT,[zn("div",uT,[zn("img",{src:Ot(dC).btnEnterfastImage},null,8,dT)]),zn("div",hT,[zn("img",{src:Ot(dC).btnCreateRoomImage},null,8,pT)])])]),o.value?(En(),$n("div",fT,[(En(!0),$n(kn,null,ds(n.value,(e=>(En(),Mn(l,{key:e.base.id,to:{name:"tournament",query:{id:e.base.id}},class:"routerLink"},{default:ua((()=>{return[zn("div",null,[zn("div",mT,[zn("img",{src:Ot(dC).frameRegularImage,alt:"框"},null,8,gT),zn("div",vT,ae(e.base.name),1),zn("div",bT,[zn("div",yT,[zn("div",null,ae((a=e.base.status,{draft:"創立中",entry:"報名中",ready:"準備中",run_with_entry:"延遲報名",run:"比賽進行中",complete:"已完成",paid:"已派發",cancel:"已取消"}[a]||a)),1),zn("div",null,ae(g(e.base.register_start_time)),1)]),zn("div",_T,[zn("div",wT,[zn("img",{src:Ot(dC).CategoryNoSelectImage},null,8,xT),t[10]||(t[10]=zn("span",{class:"tournament"},"手續費",-1))]),zn("div",ST,ae(e.base.pot_fee),1),zn("div",kT,[zn("img",{src:Ot(dC).CategoryNoSelectImage},null,8,CT),t[11]||(t[11]=zn("span",{class:"tournament"},"報名人數",-1))]),zn("div",TT,ae(e.stats.current_players),1)])]),zn("div",BT,[zn("div",AT,ae(e.stats.total_pot),1)])])])];var a})),_:2},1032,["to"])))),128))])):(En(),$n("div",IT,[(En(!0),$n(kn,null,ds(s.value,(e=>(En(),Mn(l,{key:e.id,to:{name:"game"},class:"routerLink"},{default:ua((()=>[zn("div",{class:Y("tableItem "),onClick:t=>{return a=e.id,u.setTableId(a),void setTimeout((()=>{}),100);var a}},[zn("img",{src:Ot(dC).frameRegularImage,alt:"框"},null,8,PT),zn("div",OT,ae(e.name),1),zn("div",DT,[zn("div",$T,[zn("img",{src:Ot(dC).CategoryNoSelectImage},null,8,MT),t[12]||(t[12]=zn("span",{class:"player-count"},"大盲",-1))]),zn("div",null,[zn("span",LT,ae(e.big_blind),1)]),zn("div",NT,[zn("img",{src:Ot(dC).CategoryNoSelectImage},null,8,RT),t[13]||(t[13]=zn("span",{class:"player-count"},"小盲",-1))]),zn("div",null,[zn("span",jT,ae(e.small_blind),1)]),zn("div",zT,[zn("img",{src:Ot(dC).CategoryNoSelectImage},null,8,VT),t[14]||(t[14]=zn("span",{class:"player-count"},"人數",-1))]),"turbo"===e.type?(En(),$n("div",HT,[zn("span",FT,ae(e.max_players)+"/"+ae(e.current_players),1)])):(En(),$n("div",WT,[zn("span",UT,ae(e.current_players)+"/"+ae(e.max_players),1)]))])],8,ET)])),_:2},1024)))),128)),zn("div",GT,[(En(!0),$n(kn,null,ds(p.value,((e,t)=>(En(),$n("div",{key:t,class:Y(`message ${e.type}`)},[zn("span",{innerHTML:e.text},null,8,qT)],2)))),128))])]))])],4)])),_:1}),f.value?Gn("",!0):(En(),$n("div",KT,t[16]||(t[16]=[zn("div",{class:"spinner"},null,-1),zn("p",null,"Loading...",-1)])))])}}}),XT="/Work-Results/assets/F0_Official_bag%202-Bc1CLW7g.png",QT={class:"tournament-container p-3"},JT={class:"back-button mb-3"},ZT={class:"headerBG"},eB={class:"tournament-status"},tB={class:"statusBox"},aB={key:0,class:"tournament-time"},sB={class:"tournament-name"},nB={class:"tournament-entry"},iB={class:"entry-amount"},oB={class:"tournament-info-row space"},lB={class:"info-label"},rB={class:"info-icem"},cB={class:"player-count"},uB={class:"info-label"},dB={class:"info-icem"},hB={class:"tournament-info-row space"},pB={class:"tournament-info-row"},fB={class:"info-label w-100"},mB={key:0,class:"info-label"},gB={key:1,class:"info-label"},vB={key:0,class:"tournament-action"},bB={class:"actionText"},yB={key:1,class:"tournament-action"},_B=Ra({__name:"TournamentMainView",props:{tournamentData:Object},emits:["view-details","view-players","view-prizes","register","view-blind","view-rank"],setup(e){const t=e;function a(e){return{draft:"尚未開放",entry:"立即報名",ready:"準備開始中",run_with_entry:"延遲報名",run:"比賽進行中",complete:"已結束",cancel:"已取消",paid:"已派發"}[e]||"報名"}function s(){if(!t.tournamentData||!t.tournamentData.tournament.blind_state)return"";const{current_level:e,small_blind:a,big_blind:s}=t.tournamentData.tournament.blind_state;return`Lv${e} ${a}/${s}`}return pi((()=>t.tournamentData?`${((t.tournamentData.current_players||0)/(t.tournamentData.max_players||1)*100).toFixed(0)}%`:"0%")),(t,n)=>{var i,o,l,r,c,u,d,h,p,f,m,g;const v=os("router-link");return En(),$n("div",QT,[zn("div",JT,[Vn(v,{to:"/select"},{default:ua((()=>n[6]||(n[6]=[zn("img",{class:"backImg",src:Tk},null,-1)]))),_:1})]),zn("div",ZT,[n[8]||(n[8]=zn("img",{src:VC},null,-1)),zn("div",{class:Y(`tournament-header ${null==(i=e.tournamentData)?void 0:i.tournament.base.status}`)},[zn("div",eB,[zn("div",tB,[zn("div",{class:Y(`status-dot ${null==(o=e.tournamentData)?void 0:o.tournament.base.status}`)},null,2),zn("span",null,ae((b=null==(l=e.tournamentData)?void 0:l.tournament.base.status,{draft:"創立中",entry:"報名中",ready:"準備中",run_with_entry:"延遲報名",run:"比賽進行中",complete:"已完成",cancel:"已取消",paid:"已派發"}[b]||b)),1)]),(null==(r=e.tournamentData)?void 0:r.tournament.base.remaining_time)?(En(),$n("span",aB,ae(e.tournamentData.tournament.base.remaining_time),1)):Gn("",!0)]),zn("div",sB,ae(null==(c=e.tournamentData)?void 0:c.tournament.base.name),1),zn("div",nB,[n[7]||(n[7]=Un('<span class="entry-label">購入</span><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-coin" viewBox="0 0 16 16"><path d="M5.5 9.511c.076.954.83 1.697 2.182 1.785V12h.6v-.709c1.4-.098 2.218-.846 2.218-1.932 0-.987-.626-1.496-1.745-1.76l-.473-.112V5.57c.6.068.982.396 1.074.85h1.052c-.076-.919-.864-1.638-2.126-1.716V4h-.6v.719c-1.195.117-2.01.836-2.01 1.853 0 .9.606 1.472 1.613 1.707l.397.098v2.034c-.615-.093-1.022-.43-1.114-.9H5.5zm2.177-2.166c-.59-.137-.91-.416-.91-.836 0-.47.345-.822.915-.925v1.76h-.005zm.692 1.193c.717.166 1.048.435 1.048.91 0 .542-.412.914-1.135.982V8.518l.087.02z"></path><path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"></path><path d="M8 13.5a5.5 5.5 0 1 1 0-11 5.5 5.5 0 0 1 0 11zm0 .5A6 6 0 1 0 8 2a6 6 0 0 0 0 12z"></path></svg>',2)),zn("span",iB,"$"+ae(null==(u=e.tournamentData)?void 0:u.tournament.base.pot_fee),1)])],2)]),zn("div",oB,[zn("div",{class:"info-item",onClick:n[0]||(n[0]=e=>t.$emit("view-players"))},[n[11]||(n[11]=zn("div",{class:"info-bg"},[zn("img",{src:XT})],-1)),zn("div",lB,[n[10]||(n[10]=zn("span",{class:"info-icem"},"參賽者",-1)),zn("div",rB,[n[9]||(n[9]=zn("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-person-fill",viewBox:"0 0 16 16"},[zn("path",{d:"M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"})],-1)),zn("span",cB,ae(null==(d=e.tournamentData)?void 0:d.tournament.stats.current_players)+"/"+ae(null==(h=e.tournamentData)?void 0:h.tournament.base.max_players),1)])])]),zn("div",{class:"info-item",onClick:n[1]||(n[1]=e=>t.$emit("view-prizes"))},[n[13]||(n[13]=zn("div",{class:"info-bg"},[zn("img",{src:XT})],-1)),zn("div",uB,[n[12]||(n[12]=zn("span",{class:"info-icem"},"獎池",-1)),zn("span",dB,"$"+ae(null==(p=e.tournamentData)?void 0:p.tournament.stats.total_pot),1)])])]),zn("div",hB,[zn("div",{class:"info-item",onClick:n[2]||(n[2]=e=>t.$emit("view-rank"))},n[14]||(n[14]=[Un('<div class="info-bg"><img src="'+XT+'"></div><div class="info-label"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-trophy" viewBox="0 0 16 16"><path d="M2.5.5A.5.5 0 0 1 3 0h10a.5.5 0 0 1 .5.5q0 .807-.034 1.536a3 3 0 1 1-1.133 5.89c-.79 1.865-1.878 2.777-2.833 3.011v2.173l1.425.356c.194.048.377.135.537.255L13.3 15.1a.5.5 0 0 1-.3.9H3a.5.5 0 0 1-.3-.9l1.838-1.379c.16-.12.343-.207.537-.255L6.5 13.11v-2.173c-.955-.234-2.043-1.146-2.833-3.012a3 3 0 1 1-1.132-5.89A33 33 0 0 1 2.5.5m.099 2.54a2 2 0 0 0 .72 3.935c-.333-1.05-.588-2.346-.72-3.935m10.083 3.935a2 2 0 0 0 .72-3.935c-.133 1.59-.388 2.885-.72 3.935M3.504 1q.01.775.056 1.469c.13 2.028.457 3.546.87 4.667C5.294 9.48 6.484 10 7 10a.5.5 0 0 1 .5.5v2.61a1 1 0 0 1-.757.97l-1.426.356a.5.5 0 0 0-.179.085L4.5 15h7l-.638-.479a.5.5 0 0 0-.18-.085l-1.425-.356a1 1 0 0 1-.757-.97V10.5A.5.5 0 0 1 9 10c.516 0 1.706-.52 2.57-2.864.413-1.12.74-2.64.87-4.667q.045-.694.056-1.469z"></path></svg><div class="player-count">排行榜</div></div>',2)])),zn("div",{class:"info-item",onClick:n[3]||(n[3]=e=>t.$emit("view-details"))},n[15]||(n[15]=[Un('<div class="info-bg"><img src="'+XT+'"></div><div class="info-label"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-question-circle" viewBox="0 0 16 16"><path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"></path><path d="M5.255 5.786a.237.237 0 0 0 .241.247h.825c.138 0 .248-.113.266-.25.09-.656.54-1.134 1.342-1.134.686 0 1.314.343 1.314 1.168 0 .635-.374.927-.965 1.371-.673.489-1.206 1.06-1.168 1.987l.003.217a.25.25 0 0 0 .25.246h.811a.25.25 0 0 0 .25-.25v-.105c0-.718.273-.927 1.01-1.486.609-.463 1.244-.977 1.244-2.056 0-1.511-1.276-2.241-2.673-2.241-1.267 0-2.655.59-2.75 2.286zm1.557 5.763c0 .533.425.927 1.01.927.609 0 1.028-.394 1.028-.927 0-.552-.42-.94-1.029-.94-.584 0-1.009.388-1.009.94z"></path></svg><div class="player-count">細節</div></div>',2)]))]),zn("div",pB,[zn("div",{class:"info-item bg80",onClick:n[4]||(n[4]=e=>t.$emit("view-blind"))},[n[17]||(n[17]=zn("div",{class:"info-bg bg80"},[zn("img",{src:"/Work-Results/assets/F1_Official_bag%201-CORvOpnl.png"})],-1)),zn("div",fB,["0"===(null==(f=e.tournamentData)?void 0:f.tournament.blind_state.big_blind)?(En(),$n("div",mB,n[16]||(n[16]=[zn("span",{class:"info-label"},"當前盲注",-1),zn("span",{class:"text-danger"},"未開始",-1)]))):(En(),$n("div",gB,"當前盲注 "+ae(s()),1))])])]),!1===(null==(m=e.tournamentData)?void 0:m.user_info.is_registered)?(En(),$n("div",vB,[zn("div",{class:"actionBg",onClick:n[5]||(n[5]=e=>t.$emit("register"))},n[18]||(n[18]=[zn("img",{src:"/Work-Results/assets/on_enter-DIBxwtKs.png"},null,-1)])),zn("div",bB,ae(a(null==(g=e.tournamentData)?void 0:g.tournament.base.status)),1)])):(En(),$n("div",yB,n[19]||(n[19]=[zn("div",{class:"actionBg"},[zn("img",{src:"/Work-Results/assets/n_enter-BT5G2CYB.png"})],-1),zn("div",{class:"actionText"},ae("已經報名"),-1)])))]);var b}}}),wB={class:"tournament-container p-2"},xB={class:"players-count"},SB={key:0,class:"players-list"},kB={class:"player-avatar"},CB=["src"],TB={class:"player-info"},BB={class:"player-name"},AB={key:0,class:"player-chips"},IB={key:1},EB=["onClick"],PB={key:1,class:"no-players"},OB=Ra({__name:"TournamentPlayersView",props:{tournamentData:Object},emits:["back-to-main"],setup(e){const t=Wo(),a=e,s=pi((()=>{var e,t;if(!(null==(t=null==(e=a.tournamentData)?void 0:e.tournament)?void 0:t.players))return[];try{return Object.entries(a.tournamentData.tournament.players).map((([e,t])=>{const a="object"==typeof t&&null!==t?t:{};return{id:e,username:a.username||"",avatar:a.avatar||"",status:a.status||"",chips:a.chips||0,...a}})).sort(((e,t)=>{const a="string"==typeof e.chips?Number(e.chips):e.chips||0;return("string"==typeof t.chips?Number(t.chips):t.chips||0)-a}))}catch(s){return console.error("處理玩家數據時出錯:",s),[]}}));return console.log(a.tournamentData),(a,n)=>{var i,o,l;const r=os("router-link");return En(),$n("div",wB,[zn("div",{class:"back-button mb-3",onClick:n[0]||(n[0]=e=>a.$emit("back-to-main"))},n[1]||(n[1]=[zn("img",{class:"backImg",src:Tk},null,-1)])),n[3]||(n[3]=zn("div",{class:"view-title"},"參賽者列表",-1)),zn("div",xB,[zn("span",null,ae((null==(i=e.tournamentData)?void 0:i.tournament.stats.current_players)||0)+"/"+ae((null==(o=e.tournamentData)?void 0:o.tournament.base.max_players)||0)+" 位參賽者",1)]),(null==(l=e.tournamentData)?void 0:l.tournament.players)?(En(),$n("div",SB,[(En(!0),$n(kn,null,ds(s.value,((e,a)=>{return En(),$n("div",{class:"player-item",key:e.id||a},[zn("div",kB,[zn("img",{src:e.avatar||"default-avatar.png"},null,8,CB)]),zn("div",TB,[zn("div",BB,ae(e.nickname||`玩家 ${a}`),1),zn("div",{class:Y(["player-status",e.status])},ae((s=e.status||"",{active:"活躍",eliminated:"已淘汰",registered:"已報名",waiting:"等待中"}[s]||s)),3)]),void 0!==e.chips?(En(),$n("div",AB,ae(e.chips)+" 籌碼 ",1)):Gn("",!0),e.table_id?(En(),$n("div",IB,[Vn(r,{to:{name:"game"}},{default:ua((()=>[zn("div",{onClick:a=>{return s=e.table_id,void t.setTableId(s);var s}},n[2]||(n[2]=[zn("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-caret-right-fill",viewBox:"0 0 16 16"},[zn("path",{d:"m12.14 8.753-5.482 4.796c-.646.566-1.658.106-1.658-.753V3.204a1 1 0 0 1 1.659-.753l5.48 4.796a1 1 0 0 1 0 1.506z"})],-1)]),8,EB)])),_:2},1024)])):Gn("",!0)]);var s})),128))])):(En(),$n("div",PB," 目前尚無參賽者 "))])}}}),DB=Ir(OB,[["__scopeId","data-v-83211b8e"]]),$B={class:"tournament-container p-2"},MB={class:"details-content"},LB={class:"detail-item"},NB={class:"detail-value"},RB={class:"detail-item"},jB={class:"detail-value"},zB={class:"detail-item"},VB={class:"detail-value"},HB={class:"detail-item"},FB={class:"detail-value"},WB={class:"detail-item"},UB={class:"detail-value"},GB={class:"detail-item"},qB={class:"detail-value"},KB={class:"detail-item"},YB={class:"detail-value"},XB={class:"detail-item"},QB={class:"detail-value"},JB={class:"detail-item"},ZB={class:"detail-value"},eA={class:"detail-item"},tA={class:"detail-value"},aA={class:"detail-item"},sA={class:"detail-value"},nA={class:"detail-item"},iA={class:"detail-value"},oA={key:0,class:"detail-item"},lA={class:"detail-value"},rA=Ra({__name:"TournamentDetailsView",props:{tournamentData:Object},emits:["back-to-main"],setup(e){function t(e){if(!e)return"未設定";try{return new Date(1e3*e).toLocaleString("zh-TW",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}catch(Sm){return"時間格式錯誤"}}return(a,s)=>{var n,i,o,l,r,c,u,d,h,p,f,m,g,v,b,y;return En(),$n("div",$B,[zn("div",{class:"back-button mb-3",onClick:s[0]||(s[0]=e=>a.$emit("back-to-main"))},s[1]||(s[1]=[zn("img",{class:"backImg",src:Tk},null,-1)])),s[15]||(s[15]=zn("div",{class:"view-title"},"錦標賽詳情",-1)),zn("div",MB,[zn("div",LB,[s[2]||(s[2]=zn("div",{class:"detail-label"},"錦標賽名稱",-1)),zn("div",NB,ae(null==(n=e.tournamentData)?void 0:n.tournament.base.name),1)]),zn("div",RB,[s[3]||(s[3]=zn("div",{class:"detail-label"},"狀態",-1)),zn("div",jB,ae((y=null==(i=e.tournamentData)?void 0:i.tournament.base.status,{draft:"創立中",entry:"報名中",ready:"準備中",run_with_entry:"延遲報名",run:"比賽進行中",complete:"已完成",paid:"已派發",cancel:"已取消"}[y]||y)),1)]),zn("div",zB,[s[4]||(s[4]=zn("div",{class:"detail-label"},"入池費",-1)),zn("div",VB,"$"+ae(null==(o=e.tournamentData)?void 0:o.tournament.base.pot_fee),1)]),zn("div",HB,[s[5]||(s[5]=zn("div",{class:"detail-label"},"賽事開始時間",-1)),zn("div",FB,ae(t(null==(l=e.tournamentData)?void 0:l.tournament.base.start_time)),1)]),zn("div",WB,[s[6]||(s[6]=zn("div",{class:"detail-label"},"賽事結束時間",-1)),zn("div",UB,ae(t(null==(r=e.tournamentData)?void 0:r.tournament.base.end_time)),1)]),zn("div",GB,[s[7]||(s[7]=zn("div",{class:"detail-label"},"報名開始時間",-1)),zn("div",qB,ae(t(null==(c=e.tournamentData)?void 0:c.tournament.base.register_start_time)),1)]),zn("div",KB,[s[8]||(s[8]=zn("div",{class:"detail-label"},"報名結束時間",-1)),zn("div",YB,ae(t(null==(u=e.tournamentData)?void 0:u.tournament.base.register_end_time)),1)]),zn("div",XB,[s[9]||(s[9]=zn("div",{class:"detail-label"},"最大參賽人數",-1)),zn("div",QB,ae(null==(d=e.tournamentData)?void 0:d.tournament.base.max_players),1)]),zn("div",JB,[s[10]||(s[10]=zn("div",{class:"detail-label"},"買入",-1)),zn("div",ZB,"$"+ae(null==(h=e.tournamentData)?void 0:h.tournament.base.pot_fee)+" + "+ae(null==(p=e.tournamentData)?void 0:p.tournament.base.service_fee),1)]),zn("div",eA,[s[11]||(s[11]=zn("div",{class:"detail-label"},"起始籌碼",-1)),zn("div",tA,ae(null==(f=e.tournamentData)?void 0:f.tournament.base.starting_chips),1)]),zn("div",aA,[s[12]||(s[12]=zn("div",{class:"detail-label"},"當前參賽人數",-1)),zn("div",sA,ae(null==(m=e.tournamentData)?void 0:m.tournament.stats.current_players),1)]),zn("div",nA,[s[13]||(s[13]=zn("div",{class:"detail-label"},"總獎池",-1)),zn("div",iA,"$"+ae(null==(g=e.tournamentData)?void 0:g.tournament.stats.total_pot),1)]),(null==(v=e.tournamentData)?void 0:v.description)?(En(),$n("div",oA,[s[14]||(s[14]=zn("div",{class:"detail-label"},"描述",-1)),zn("div",lA,ae(null==(b=e.tournamentData)?void 0:b.description),1)])):Gn("",!0)])])}}}),cA=Ir(rA,[["__scopeId","data-v-bbc2fb22"]]),uA={class:"tournament-container p-2"},dA={class:"total-prize"},hA={class:"prize-amount"},pA={key:0,class:"prizes-list"},fA={class:"prize-position"},mA={class:"position-number"},gA={class:"position-text"},vA={class:"prize-value"},bA={key:1,class:"no-prizes"},yA=Ra({__name:"TournamentPrizesView",props:{tournamentData:Object},emits:["back-to-main"],setup(e){const t=e;return console.log("獎池分配",t.tournamentData),(t,a)=>{var s,n;return En(),$n("div",uA,[zn("div",{class:"back-button mb-3",onClick:a[0]||(a[0]=e=>t.$emit("back-to-main"))},a[1]||(a[1]=[zn("img",{class:"backImg",src:Tk},null,-1)])),a[4]||(a[4]=zn("div",{class:"view-title"},"獎池分配",-1)),zn("div",dA,[a[2]||(a[2]=zn("div",{class:"prize-label"},"總獎池",-1)),zn("div",hA,"$"+ae((null==(s=e.tournamentData)?void 0:s.tournament.stats.total_pot)||0),1)]),(null==(n=e.tournamentData)?void 0:n.tournament.prize_info.prize_details)&&e.tournamentData.tournament.prize_info.prize_details.length>0?(En(),$n("div",pA,[a[3]||(a[3]=Un('<div class="prize-item" data-v-ee083399><div class="prize-position" data-v-ee083399><span class="position-number title" data-v-ee083399>名次</span><span class="position-text" data-v-ee083399>百分比</span></div><div class="prize-value" data-v-ee083399>預期獎金</div></div>',1)),(En(!0),$n(kn,null,ds(e.tournamentData.tournament.prize_info.prize_details,((e,t)=>(En(),$n("div",{class:"prize-item",key:t},[zn("div",fA,[zn("span",mA,ae(e.rank),1),zn("span",gA,ae(e.prize_ratio),1)]),zn("div",vA,"$"+ae(e.expected_prize||0),1)])))),128))])):(En(),$n("div",bA," 尚未設定獎金分配 "))])}}}),_A=Ir(yA,[["__scopeId","data-v-ee083399"]]),wA={class:"tournament-container p-2"},xA={key:0,class:"prizes-list"},SA={class:"prize-position"},kA={class:"position-number"},CA={class:"position-text"},TA={key:0,class:"current-level-tag"},BA={class:"prize-value"},AA=Ra({__name:"TournamentBlindView",props:{tournamentData:Object},setup(e){At(0);const t=e;return Xa((async()=>{})),console.log("盲注級別",t.tournamentData),(t,a)=>{var s;return En(),$n("div",wA,[zn("div",{class:"back-button mb-3",onClick:a[0]||(a[0]=e=>t.$emit("back-to-main"))},a[1]||(a[1]=[zn("img",{class:"backImg",src:Tk},null,-1)])),(null==(s=e.tournamentData)?void 0:s.tournament.base.blind_levels)&&e.tournamentData.tournament.base.blind_levels.length>0?(En(),$n("div",xA,[a[2]||(a[2]=Un('<div class="prize-item" data-v-18e5db39><div class="prize-position" data-v-18e5db39><span class="position-number title" data-v-18e5db39>級別</span><span class="position-text" data-v-18e5db39>盲注</span></div><div class="prize-value" data-v-18e5db39>時間</div></div>',1)),(En(!0),$n(kn,null,ds(e.tournamentData.tournament.base.blind_levels,((t,a)=>(En(),$n("div",{class:"prize-item",key:a},[zn("div",SA,[zn("span",kA,ae(t.level),1),zn("span",CA,ae(t.small_blind)+"/"+ae(t.big_blind),1),e.tournamentData.tournament.blind_state.current_level===t.level?(En(),$n("span",TA,"當前級別")):Gn("",!0)]),zn("div",BA,ae(t.duration||0)+"分鐘",1)])))),128))])):Gn("",!0)])}}}),IA=Ir(AA,[["__scopeId","data-v-18e5db39"]]),EA={class:"rank-container"},PA={key:0,class:"last-updated"},OA={key:1,class:"rank-list"},DA={class:"rank-position"},$A={key:0,class:"rank-medal"},MA={key:1},LA={class:"rank-username"},NA={class:"rank-chips"},RA={class:"rank-prize"},jA={key:2,class:"no-data"},zA=Ir(Ra({__name:"TournamentRankView",props:{tournamentData:Object},emits:["back-to-main"],setup:e=>(t,a)=>{var s,n,i;return En(),$n("div",EA,[zn("div",{class:"back-button mb-3",onClick:a[0]||(a[0]=e=>t.$emit("back-to-main"))},a[1]||(a[1]=[zn("img",{class:"backImg",src:Tk},null,-1)])),a[3]||(a[3]=zn("div",{class:"rank-header mt-3"},[zn("h2",{class:"rank-title"},"排行榜")],-1)),(null==(s=e.tournamentData)?void 0:s.tournament.leaderboard.last_updated)?(En(),$n("div",PA," 最後更新時間: "+ae((i=e.tournamentData.tournament.leaderboard.last_updated,i?new Date(1e3*i).toLocaleString():"")),1)):Gn("",!0),(null==(n=e.tournamentData)?void 0:n.tournament.leaderboard.rankings)&&e.tournamentData.tournament.leaderboard.rankings.length>0?(En(),$n("div",OA,[a[2]||(a[2]=Un('<div class="rank-item header" data-v-c5dba6dd><div class="rank-position" data-v-c5dba6dd>排名</div><div class="rank-username" data-v-c5dba6dd>用戶名</div><div class="rank-chips" data-v-c5dba6dd>積分</div><div class="rank-prize" data-v-c5dba6dd>獎金</div></div>',1)),(En(!0),$n(kn,null,ds(e.tournamentData.tournament.leaderboard.rankings,(e=>{return En(),$n("div",{key:e.rank,class:Y(["rank-item",{"rank-first":1===e.rank,"rank-second":2===e.rank,"rank-third":3===e.rank}])},[zn("div",DA,[e.rank<=3?(En(),$n("div",$A,ae(e.rank),1)):(En(),$n("span",MA,ae(e.rank),1))]),zn("div",LA,ae(e.nickname),1),zn("div",NA,ae((t=e.rank_chips,t?Number(t).toLocaleString():"0")),1),zn("div",RA,"$"+ae(e.prize),1)],2);var t})),128))])):(En(),$n("div",jA," 暫無排行榜數據 "))])}}),[["__scopeId","data-v-c5dba6dd"]]),VA={class:"tournamentBg"},HA=Ra({__name:"TournamentView",setup(e){const t=_r();yr();const a=wr(),s=At(localStorage.getItem("token")||""),n=t.query.id,i=At(null),o=At(!0),l=At(null),r=pi((()=>a.isConnected)),c=pi((()=>a.messages));dn(r,(e=>{e&&(console.log("WebSocket 已連線，開始訂閱錦標賽"),s.value?a.resubscribeToTournamentShow(n):console.warn("沒有可用的 token，無法訂閱"))}),{immediate:!0}),dn(c,(e=>{if(e)try{const t=e;"base_info"===t.event&&(i.value.tournament.base.status=t.status,i.value.tournament.base.register_start_time=t.register_start_time,i.value.tournament.base.pot_fee=t.pot_fee,i.value.tournament.base.max_players=t.max_players,i.value.tournament.base.register_start_time=t.register_start_time,i.value.tournament.base.register_end_time=t.register_end_time,i.value.tournament.base.service_fee=t.service_fee,i.value.tournament.base.starting_chips=t.starting_chips,i.value.tournament.base.blind_levels=t.blind_levels),"stats"===t.event&&(i.value.tournament.stats.current_players=t.stats.current_players,i.value.tournament.stats.total_pot=t.stats.total_pot),"blind_level"===t.event&&(i.value.tournament.blind_state.big_blind=t.big_blind,i.value.tournament.blind_state.small_blind=t.small_blind)}catch(t){console.error("解析 WebSocket 消息時出錯:",t)}}));const u=It(kt(_B));function d(){u.value=kt(_B)}function h(){u.value=kt(cA)}function p(){u.value=kt(DB)}function f(){u.value=kt(IA)}function m(){u.value=kt(_A)}function g(){u.value=kt(zA)}async function v(){try{const e=Ho(`/api/v1/tournaments/${n}/register`),t=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s.value}`}});if(!t.ok)throw new Error(`API 請求失敗: ${t.status}`);const a=await t.json();console.log("報名成功:",a),alert("報名成功！"),await b()}catch(e){console.error("報名時出錯:",e),l.value=e instanceof Error?e.message:"未知錯誤"}}async function b(){o.value=!0;try{const e=Ho(`/api/v1/tournaments/${n}`),t=await fetch(e,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s.value}`}});if(!t.ok)throw new Error(`API 請求失敗: ${t.status}`);const a=await t.json();i.value=a.data,console.log("錦標賽資料:",a)}catch(e){console.error("獲取錦標賽資料時出錯:",e),l.value=e instanceof Error?e.message:"未知錯誤"}finally{o.value=!1}}return Xa((async()=>{await b()})),es((()=>{a.unsubscribeFromTournamentShow(n)})),(e,t)=>(En(),$n("div",VA,[Vn(Ax),(En(),Mn(rs(u.value),{tournamentData:i.value,onViewDetails:h,onViewPlayers:p,onViewPrizes:m,onViewBlind:f,onViewRank:g,onBackToMain:d,onRegister:v},null,40,["tournamentData"]))]))}}),FA="/Work-Results/assets/IF_frame-DPuGLBlb.png",WA={class:"mUserBg"},UA={class:"userBackBtnBox"},GA={class:"userSpace p-1"},qA={class:"avatar-container"},KA=["src"],YA={class:"balance-container"},XA={class:"balance-text"},QA={class:"dataList-container"},JA={__name:"UserView",setup(e){const t=wr(),a=At(localStorage.getItem("token")||""),s=At(localStorage.getItem("member")||""),n=yr(),i=At(null),o=At("mAboutView"),l=At(50),r=At(0),c=pi((()=>t.isConnected)),u=pi((()=>t.messages));dn(c,(e=>{e&&(console.log("WebSocket 個人頁面已連線，開始訂閱"),a.value?t.resubscribeToUser(a.value):console.warn("沒有可用的 token，無法訂閱"))}),{immediate:!0}),dn(u,(e=>{if(e)try{const t=e;"user_balance_update"===t.event&&(r.value=t.balance,localStorage.setItem("balance",r.value))}catch(Sm){console.error("解析 WebSocket 訊息時發生錯誤:",Sm)}}));const d=e=>{n.push(e)};return Xa((async()=>{(async()=>{const e=Fo("/api/v1/game/user/profile");try{const t=await fetch(e,{method:"GET",headers:{Authorization:`Bearer ${s.value}`}});if(401===t.status&&(console.error("認證失敗，跳轉到登入頁面"),localStorage.setItem("token",""),n.push("/login_line")),t.ok){const e=await t.json();i.value=e.data.avatar,o.value=e.data.nickname,l.value=e.data.level,r.value=e.data.balance}else console.error("獲取個人資料失敗:",t.statusText)}catch(t){return console.error("獲取個人資料時發生錯誤:",t),null}})()})),(e,t)=>(En(),$n("div",WA,[zn("div",UA,[zn("img",{onClick:t[0]||(t[0]=e=>{n.push("/hall")}),src:Tk})]),zn("div",GA,[zn("div",qA,[t[3]||(t[3]=zn("img",{src:"/Work-Results/assets/Player_frame-BdYRVnHy.png",class:"avatar-frame"},null,-1)),zn("img",{src:i.value,class:"avatar-image rounded-circle",width:"100"},null,8,KA)]),zn("div",YA,[t[5]||(t[5]=zn("img",{src:FA,class:"balance-image"},null,-1)),zn("span",XA,[zn("div",null,"名稱:"+ae(o.value),1),zn("div",null,"金幣:"+ae(r.value),1),zn("div",null,"等級:"+ae(l.value),1),t[4]||(t[4]=zn("div",null,"屬性:"+ae("??"),-1))])]),zn("div",QA,[zn("div",{class:"userButtonBg",onClick:t[1]||(t[1]=e=>d("/play_log"))},t[6]||(t[6]=[zn("img",{class:"userButtonImg",src:xk},null,-1),zn("div",{class:"userButtonText"},"紀錄",-1)])),zn("div",{class:"userButtonBg",onClick:t[2]||(t[2]=e=>d("/guild"))},t[7]||(t[7]=[zn("img",{class:"userButtonImg",src:xk},null,-1),zn("div",{class:"userButtonText"},"公會",-1)]))])])]))}},ZA="/Work-Results/assets/store-background-DUAhfAML.png",eI={class:"mPlayLogBg"},tI={class:"backLogBtnBox"},aI={class:"mLogBg"},sI={class:"playLogTable"},nI=["onClick"],iI={class:"modal-container"},oI={class:"modal-header"},lI={class:"modal-body"},rI={class:"modal-info"},cI={class:"records-container"},uI={class:"record-header"},dI={class:"record-type"},hI={class:"record-amount"},pI={class:"record-cards"},fI={key:0,class:"hole-cards"},mI={class:"cards-display"},gI=["src"],vI={key:1,class:"community-cards"},bI={class:"cards-display"},yI=["src"],_I={key:0,class:"record-best-rank"},wI=Ra({__name:"PlayLogView",setup(e){const t=At(localStorage.getItem("token")||""),a=At([]);At({total_bets:"0",total_wins:"0",net_profit:"0",winning_hands:0,win_rate:0}),At(null);const s=At(!1),n=At(null),i=()=>{s.value=!1,n.value=null};function o(e){return e&&"**"!==e.trim()?new URL(Object.assign({"../assets/picture/POKER/2C.png":"/Work-Results/assets/2C-JK9Mzk3w.png","../assets/picture/POKER/2D.png":"/Work-Results/assets/2D-BYeNkgYg.png","../assets/picture/POKER/2H.png":"/Work-Results/assets/2H-HHxVDamx.png","../assets/picture/POKER/2S.png":"/Work-Results/assets/2S-CtbhmiMl.png","../assets/picture/POKER/3C.png":"/Work-Results/assets/3C-Dhm6MHEl.png","../assets/picture/POKER/3D.png":"/Work-Results/assets/3D-Dle8fnSr.png","../assets/picture/POKER/3H.png":"/Work-Results/assets/3H-C01Mm9lW.png","../assets/picture/POKER/3S.png":"/Work-Results/assets/3S-BLFliom7.png","../assets/picture/POKER/4C.png":"/Work-Results/assets/4C-DVocAiLQ.png","../assets/picture/POKER/4D.png":"/Work-Results/assets/4D-CbnSHWNi.png","../assets/picture/POKER/4H.png":"/Work-Results/assets/4H-DDqsQfaq.png","../assets/picture/POKER/4S.png":"/Work-Results/assets/4S-CylbUsnD.png","../assets/picture/POKER/5C.png":"/Work-Results/assets/5C-B5uFrE7H.png","../assets/picture/POKER/5D.png":"/Work-Results/assets/5D-7mKUVXEe.png","../assets/picture/POKER/5H.png":"/Work-Results/assets/5H-Cd-8sjW3.png","../assets/picture/POKER/5S.png":"/Work-Results/assets/5S-C_NspCgz.png","../assets/picture/POKER/6C.png":"/Work-Results/assets/6C-De_mBgA6.png","../assets/picture/POKER/6D.png":"/Work-Results/assets/6D-CgFUd9a8.png","../assets/picture/POKER/6H.png":"/Work-Results/assets/6H-CuDeJG9m.png","../assets/picture/POKER/6S.png":"/Work-Results/assets/6S-CA_Osvpa.png","../assets/picture/POKER/7C.png":"/Work-Results/assets/7C-Dkf2_bEA.png","../assets/picture/POKER/7D.png":"/Work-Results/assets/7D-DQJePtG4.png","../assets/picture/POKER/7H.png":"/Work-Results/assets/7H-CfyB_ZE2.png","../assets/picture/POKER/7S.png":"/Work-Results/assets/7S-BK2izkOP.png","../assets/picture/POKER/8C.png":"/Work-Results/assets/8C-DyL06501.png","../assets/picture/POKER/8D.png":"/Work-Results/assets/8D-C5OAQUWb.png","../assets/picture/POKER/8H.png":"/Work-Results/assets/8H-Djv-k9tk.png","../assets/picture/POKER/8S.png":"/Work-Results/assets/8S-CwCq7FhP.png","../assets/picture/POKER/9C.png":"/Work-Results/assets/9C-DheBgzXQ.png","../assets/picture/POKER/9D.png":"/Work-Results/assets/9D-Yt3qEdpo.png","../assets/picture/POKER/9H.png":"/Work-Results/assets/9H-DL12EWmJ.png","../assets/picture/POKER/9S.png":"/Work-Results/assets/9S-Duziwq--.png","../assets/picture/POKER/AC.png":"/Work-Results/assets/AC-DWiCGwDa.png","../assets/picture/POKER/AD.png":"/Work-Results/assets/AD-BbnE1873.png","../assets/picture/POKER/AH.png":"/Work-Results/assets/AH-1fYT2iEh.png","../assets/picture/POKER/AS.png":"/Work-Results/assets/AS-DCDyTcnK.png","../assets/picture/POKER/JC.png":"/Work-Results/assets/JC-Coa7Zo3W.png","../assets/picture/POKER/JD.png":"/Work-Results/assets/JD-CUkVcdmn.png","../assets/picture/POKER/JH.png":"/Work-Results/assets/JH-DrlpWMEL.png","../assets/picture/POKER/JS.png":"/Work-Results/assets/JS-iKuuqWP3.png","../assets/picture/POKER/KC.png":"/Work-Results/assets/KC-owULGJdH.png","../assets/picture/POKER/KD.png":"/Work-Results/assets/KD-3HwFZj9M.png","../assets/picture/POKER/KH.png":"/Work-Results/assets/KH-fF8xvGfy.png","../assets/picture/POKER/KS.png":"/Work-Results/assets/KS-B_8qiveE.png","../assets/picture/POKER/QC.png":"/Work-Results/assets/QC-DmCV8Bwa.png","../assets/picture/POKER/QD.png":"/Work-Results/assets/QD-9jugrI0E.png","../assets/picture/POKER/QH.png":"/Work-Results/assets/QH-DU-iizQ0.png","../assets/picture/POKER/QS.png":"/Work-Results/assets/QS-BAdWurZk.png","../assets/picture/POKER/TC.png":"/Work-Results/assets/TC-DBi2jzp0.png","../assets/picture/POKER/TD.png":"/Work-Results/assets/TD-raSDOVwr.png","../assets/picture/POKER/TH.png":"/Work-Results/assets/TH-CqVhlfLJ.png","../assets/picture/POKER/TS.png":"/Work-Results/assets/TS-Cokk1-XM.png"})[`../assets/picture/POKER/${e}.png`],import.meta.url).href:new URL("/Work-Results/assets/XX-DI4pPydD.jpg",import.meta.url).href}function l(e){if(!e)return"無效時間";const t=new Date(1e3*e);return`${String(t.getMonth()+1).padStart(2,"0")}/${String(t.getDate()).padStart(2,"0")} ${String(t.getHours()).padStart(2,"0")}:${String(t.getMinutes()).padStart(2,"0")}`}return Xa((async()=>{!async function(){try{const e=Ho("/api/v1/bet-histories"),s=await fetch(e,{method:"GET",headers:{Authorization:`Bearer ${t.value}`,"Content-Type":"application/json"}});if(s.ok){const e=await s.json();a.value=e.data.histories,console.log("遊戲紀錄資料",e)}else console.error("無法取得遊戲紀錄")}catch(e){console.error("無法取得遊戲紀錄",e)}}()})),(e,t)=>{var r,c,u;const d=os("router-link");return En(),$n("div",eI,[zn("div",tI,[Vn(d,{to:"/select",class:"backBtn"},{default:ua((()=>t[0]||(t[0]=[zn("img",{src:Tk},null,-1)]))),_:1})]),zn("div",aI,[t[1]||(t[1]=zn("div",{class:"playLogTitle"},"遊戲紀錄",-1)),t[2]||(t[2]=zn("div",{class:"straight-line"},null,-1)),zn("div",sI,[(En(!0),$n(kn,null,ds(a.value,(e=>(En(),$n("div",{key:e.hand_id},[zn("div",{class:"logRaw",onClick:t=>(e=>{n.value=e,s.value=!0})(e)},[zn("div",null,ae(e.hand_name),1),zn("div",null,ae(l(e.hand_start_time)),1)],8,nI)])))),128))])]),s.value?(En(),$n("div",{key:0,class:"modal-overlay",onClick:_o(i,["self"])},[zn("div",iI,[zn("div",oI,[zn("h3",null,ae(null==(r=n.value)?void 0:r.table_name)+" ("+ae(null==(c=n.value)?void 0:c.hand_name)+")",1),zn("span",{class:"close-button",onClick:i},"×")]),zn("div",lI,[zn("div",rI,[zn("p",null,"牌局時間: "+ae(n.value?l(n.value.hand_start_time):""),1)]),zn("div",cI,[(En(!0),$n(kn,null,ds(null==(u=n.value)?void 0:u.records,(e=>{return En(),$n("div",{class:"record-item",key:e.id},[zn("div",uI,[zn("span",dI,ae((a=e.type,{starting_chips:"入座買入",small_blind:"小盲",big_blind:"大盲",blind_bet:"下盲注",bet:"下注",call:"跟注",raise:"加注","all-in":"全下",check:"過牌",fold:"棄牌",leave:"離開",win:"贏"}[a]||"未知")),1),zn("span",hI,ae(e.amount),1)]),zn("div",pI,[e.hole_cards&&e.hole_cards.length>0?(En(),$n("div",fI,[t[3]||(t[3]=zn("p",null,"手牌:",-1)),zn("div",mI,[(En(!0),$n(kn,null,ds(e.hole_cards,(e=>(En(),$n("img",{key:e,src:o(e),class:"card-image"},null,8,gI)))),128))])])):Gn("",!0),e.community_cards&&e.community_cards.length>0?(En(),$n("div",vI,[t[4]||(t[4]=zn("p",null,"公牌:",-1)),zn("div",bI,[(En(!0),$n(kn,null,ds(e.community_cards,(e=>(En(),$n("img",{key:e,src:o(e),class:"card-image"},null,8,yI)))),128))])])):Gn("",!0)]),e.best_rank?(En(),$n("div",_I,[zn("p",null,"玩家: "+ae(e.nickname),1)])):Gn("",!0)]);var a})),128))])])])])):Gn("",!0),t[5]||(t[5]=zn("img",{class:"mPlayLogBackground",src:ZA},null,-1)),t[6]||(t[6]=zn("img",{class:"mPlayLogBackground",src:"/Work-Results/assets/frame-N9rCRt2z.png"},null,-1))])}}}),xI="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAH4AAAAnCAYAAADJovy3AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAA6VSURBVHgB7VxbrF5FFV4z/z7nQEsLtNgARUFEjQkhaFHEW6oh0BgeTAiJxqAxvPBkfPDBhKiYEB5I9EElMYR4eeEFQ0xM0L5I1UQwYgIakoY2sVSo3KzUnp7e/j3LPbPWmrVm9vz/OYVSU9Ihp3vvuc/6vvWttXdPccBlO0C3C2B6z903bV1/yYbvXbjpgh0O/eXowAFCs2B9h622agyWPXDOAIyVsyaqh2BjzjdRXH3nWm3VGDej1Y3nm9O1uqnGrFaqfQ52PnJk5eizK4dXvn/vA088dgfA5FGAvui+ffsA+i6YPvzgl37TLUx2LB9awQMvve6GQRCGLj529DTAOzppvPhU59PB44+P9T7eO/rhPnEGqqc+NM6lubynwXRx6ZmWcDyvS2PAAfehOtoL9QGuk3EJen6WU840HnMLzb2wMyBq+3CfHvOVfkJ6Rr5Sewhl/xAShema+g71pk7WSnV5bpqz2AevJ1tE2hiEeLgApj7AwuICbLnsYrjs8k0w6SbT559/4br7HvjDbiTToNvOnv7zn9y5vw8nr/jLk7th394DbmlpEQYSZECcAaYAicGjesf1A71Snad7GTdx5t6neSYydviZTBwTwxX1MnesiwTSdcz6aU9eiQAlSZybBXo0NpGlNjoWgNE1MJC9reNne23W9yGBHufoe5p/GujaB1kT8hq6nu4p3ieyMIHitY+7TOOYcHHPw1rHjp2A89edB5+95frpps0buxf3v3TTPfc98efBJunE8PCDX9w5WObm3/7qSXf82Em3uLSQPTsZ1HiheOvEWzJEMHwGhcCCDJi9Enh038kcFmhHBLAkE5IU5HJCAlUYUhfan5P7rAQN3NnNk/2yx7BHCimCPofB6uJ1Akx87iuQYr/eAprbIQFO/YgE2CvomWDxvlcVKdpYNWjPSI4uBBUFMPIVxxw8uAyf/8KN08Wlk921275ywS233Lky+cbdH79q67sv+dFTf3wODv572S0sdWK6bDgykCsjTnGJ1kfqYfRV4vmsuIZYJQWufISqXQ5sxyKaNmOo7L3WqIGAKYBC69EEmnhVH4xH91gA3uc+CmoCS+Y1/ZN3C0Fq0IswAerhoB6tIUBzGJSwxKCL7OceyEQYyvp1i/Dc3/b5G268Fg/se+b6mz7z5Ue6Sy+9+NuHDx0Ne3e/6DdedAFwDEhMGrAEH7gibiRFa0zeRZtwQx2mHCDK5XCcob8fYg5STI7tAQnPuJGhfpIIEX+GmRxtbhINEr0ZyZNDlPzAqhGifGPaQlYLpxIvYSjHe4AUYhx7sneZhw3mgTEkGulXzwZDJI3RVuY1PpdhQAEfSTcTsi+UQ+cSIgKa/mhzDPXmTAI0+S0C2GQ3kvS88xfhmaf34Pvev/nmxx//4VK3YcO6W/+57xW3sLhIoxMYBDDae6D0PlAHNjgm4weOMWkpH4gY8Z7b47Se7xNJE6A9SXckgCeSTZgciQAR1DgOMEt8YCLmZM9LAuk4rkv4SbTNoEuct6oit1k2Qd0oGCKUSZvxzARSKJK5FuA2N+iz6rTiORT5hE0KZ6qZvQdLXCWElK7r4IV/vOq3feyDS3//0y+v7gabXP7GoRXnO5dlMwIasrTH5IHAD2wsuUZP73sxPJEhbjZ6ajr8cBM353wkkcsbj8AikyMIASJBAnt0JlaZuHmvnp3fHDxo/mEyfHHyDHp5gYxz2nptrBkZfAjj7NwCV4QOkwNgBXg1juYJWQnIS0sPH3s9lPIvHo5Gwew5h/+OHz8JJ06chIWNF27pko4HskDcVDIUg5+yXTaMvNalOJISqShVLnlyOrR53VITh9TXJaAjEZDu42GH+yjnCdwYFAJ7dhCQSd6pT1xvoF9vXxdrEtBrI732IXu6gkwqhGZvmBSlUkUmJ9DejXEtYJi9M5j2iiDZw8noGchgQ4Wohk3MVAmwAjspUVCg0RC2jOu5xrA8swBdP3Fd7QcifS4QqMgWdHw4el+OyQu92yfpH3bqnWNp9ymxIeMLMOLxFB6S1CdZJ3AmnFJ7ieFRY7LHa4zP3wESN11WAJSx0TScSXpDwMRl5Nc7YxYrh1IvxgQojS5GtbJL4BtvRY3VpSKoh5M3JwT51a4E3CoKWunmBTWWYynxlacXXo8F/skyXcINVDo0HGKK7wk/LzGeW5CMjkmSqSWIN0cSDFbv+VCxfeKJPIFBiF4cWDUkPCSg2etTGBEZD6heHafxnpVlqJ+CfrzJ7++q6T6jTITTMzR8AjlNMcYGY+CA0seAUsRgKGOyeC1AzspF0sXb44TyRqD9asArz0YsQ1IonFm2nAlhjlcoQMc2ShtKqRSCvJ3R4OTQ7P3Jc8jj+8AGR5LWFJ+deoZ+ZWNCARTJYCJH0I8x4tWSAGrM1g9GkMaF4qOMN/d09dUzzCxGFcHaiVSPjRiMkcEqgr52Ccj0CmtjsvxUcs4saydqOFKe/FqHur9cb0kKM0CvxmXgaTy/ohVeoocO3EcIwH+kSWLyF0MBeSRwHZGHsWNgNY9IXs6hokjS4utbmgfzWPkgk0jSI3szSTzlCJyLpL4B9HOCer9DMOeBKtobAznMH3PE+8XIhUcJEFkFbEhABlgB00+zNajm9QwsAaBcK28QoJZ1C3CWfoDioEplA3xelMEijDGBy7le/iMC6jlWp4U45hMIUa6pnwU7CYcj0lhPdDxPHO+Cy8CltqCgeyd4aqwHUPkH85wfreybPqOSjYTFs3yngGx0KORXDa0ejZUHBvNxJZNGkjwHZaJmpV3Wy0BbDy89uiBABTifQNuDHruTiQumZDcwLBEjM8MzmGIYbyUdKJ4igU/DkUkCIF/5tE2lXr7+pTjPQbrnPuLVDmU/5MYue7jMpwe0iV2rYKUEAMb4gBURMJ8xgyCggCpA4dFBJy7+0ieIOpTzjNY2z7VatZI3mSOrg+1vbNBpb4LZgVM2OaMAzB+2eV4hg8IeCQx6bIuqHwQUBko9Fk2sRgO4JnO9SeziIfMHGS9/V0x7Uq/ne09NI6zLzM4eHUo76A0WTZpMkSfVKmDAE491pRLUiiEzB0UTQiZjCbbxx5HX63zj+tZBc4xHKDefV9E0H4xJkon5NZ/iNo+RJI+5QPuQcICQgZRJs7faEMDPGuPZq4Qo/BkYhSh5L6JEMELdlUfIaxV1Dc+XkCbPFsR0xqCKoSCFlATnMCFjxR4GmQwgWiVGzvpztyJcFMewILfabamBd602FGOpV4lUOLNhkW/1P5W8nJiJPoIenpP0UfatJCilH0D0BlTmJQEFLM6QuYpW4h0UpAY50NhEBfhQenfdp/xyZts0ITPpAoABOta1MnOo16v2I1PUrj3Pw+vSzeuUQQKsbKQoOcRKDiEndOIx9KIoHWwyaAxWAK9pmeQBXJ1XsUrgWoGcDeuKCrMWjuvQumfOGlAHYGkm9fAWcBUaQfHOf4b2XDUWdqulWswoM4hgn7sk1bJw3XOs8qoC2XiWBHKIUnLSBx5U2a5lir4HoBKh+mKI5csZlBm7gK/38U+v048UzRkSz3YKfV8HfsNRlWuf1S4SqtnbHg3NjdT2yf1afRpjxzpm2MfW6LQBDbupODtaSO9gtDtdzABU9DNy6KSnJHYA+p5qlkL1dqvMgi86LDcG9OVQFu0LCakKrvKcyWmTAAMi2y9Y/heJXGPa1Tyab8oxOJ6nOWerGhvd1RidmhbNMFcMddBsLvrQuc3HHfZcB66IEC4fxpIB8jt5ShTRVR9bZpxQjuPoI06f06OS8+ntgq+VUBTHGi/Cm6vCGe2T7osVCxthJojUWdONCNJ0pDml2r/2nz3K+kCn8lkLonavDz2uMKOQtu7Mvch9MqCboQo2AwZNiOq1yt/y4f7I3xagpiwV+dXSKTfJtHb51uklrBXbkLUywUtz522PGcVjQeQsh4kWyAjj8fOIgC0Px9nPObnTb9Ja3AhlgHKrrgwHtp8bb8yZ1VE6cbwMrozh0smNNo4tmufHYMfPKAUm4tSyXi3XOe+AEYiZFAgahkDVoF6kAGfWqxfO3u/Y41YHuyjGLt2cbnmS8VevGZuuutTDsDUPGtuYamEE5ndI0wRmbmwOG+3Lenk9B44ANfXY6FN05wFYEarRc97j7HGzWgwG88CeUbq1dGpN3FIDbtFxde2sDbpx/xEjsCHHI8+v4nErFxnNwUzh+4LSlVO1iLOqzWUQgD3KKgPmtDZU6c2UNQE/awNSSkVo+dr849QeOkupsQ7OoyVX96rGrKc03rzir8n4IzUbt7bXmDfnWwQ9ljcNvC01CXKmTq2rj6eR1fO4uMptWxwoB8BszW/1BVgbWbB5u8qA+QvMDqtvTzktwNtis9m5Xj4nb6h65naEscvPNTyusW5efbPj2lmivcdf91okPB3evJaS/1r2TJfWG4RlvcSyRlSGU0CpKvUL3ClF68Y++KlxFlt/ikr/9hWTraYPOPS3WWcefKj3VN2vlY/1p3qbAJUglCSy3/7XkjStNanC/68p5xbHv4Icf4/i5Q0b18N0GuBsLZYoNWlsXWtca8xq65ytZXGhg4WFRdfD8iF/ZHnl91e9dwseP3YCzpV3bomOfcWV78Ll5f/0F2/5yF6//8VX7t20eYO7+ppLcTrt4Vx555UYopYPr8CNn/gQnjg2fequux447H/80F939z0+e/OOD4f4b6r7c+C/s8oA+sHXl+HW226Ynjh+yH/6k1+7PVXfcQdMHn0U+kd+9tXllZXj5+389dN+//7X3Lr1SzCZeDhXzt5y7OjJBPyO27ZN33Pllu7Vf712+ze/s/Ox2JbyWvlfofzioTuf9R6ue+XlN8LePQf8f99Ygfirw+5MfVU4V05Lib/Bu3jeAmzdegle84HL4j+Rdnv2vPy5796/84n4T+fy/xEjFvH8b339U9s2bb7o/g0bzv+on8BFZ+5b0rlyOssA8PGjR07sO7y88tPfPXnyB7t27ZIYfpa/m5wrb6n8D6Ojk5G+P2HyAAAAAElFTkSuQmCC",SI={class:"mGuildBg"},kI={class:"mGuildBackBtnBox"},CI={class:"mGuildList p-3"},TI={class:"dataList"},BI={key:0,class:"guild-table"},AI={key:1,class:"no-data"},II={class:"pagination"},EI={class:"mGuildButtonSpace"},PI={key:0,class:"guildButton"},OI={key:1,class:"guildButton"},DI={key:0,class:"guild-modal create-guild-modal"},$I={class:"guild-modal-content"},MI={class:"guild-modal-body"},LI={class:"create-guild-form"},NI={class:"form-group"},RI={key:0,class:"error-message"},jI={class:"guild-modal-footer"},zI=["disabled"],VI={key:1},HI=Ra({__name:"GuildView",setup(e){const t=wr(),a=At(localStorage.getItem("token")||""),s=At(localStorage.getItem("member")||""),n=At(localStorage.getItem("name")||"");console.log("name:",n.value);const i=yr(),o=At(0),l=At(""),r=At([]),c=At(1),u=At({id:0,name:"",guild_note:"",guild_members:[{}],president:[{}]}),d=At(!1),h=At(""),p=At(""),f=At(!1),m=pi((()=>h.value.length>=2&&h.value.length<=20));At(!1);const g=()=>{d.value=!1},v=pi((()=>Math.ceil(r.value.length/5)));console.log("總頁數:",v.value);const b=pi((()=>{const e=5*(c.value-1),t=e+5;return r.value.slice(e,t)})),y=()=>{c.value>1&&c.value--},_=()=>{c.value<v.value&&c.value++},w=pi((()=>t.isConnected)),x=pi((()=>t.messages));dn(w,(e=>{e&&(console.log("WebSocket 個人頁面已連線，開始訂閱"),a.value?t.resubscribeToUser(a.value):console.warn("沒有可用的 token，無法訂閱"))}),{immediate:!0}),dn(x,(e=>{if(e)try{e.event}catch(Sm){console.error("解析 WebSocket 訊息時發生錯誤:",Sm)}}));const S=async()=>{const e=Fo("/api/v1/game/guild/whether_member_have_guild");try{const t=await fetch(e,{method:"POST",headers:{Authorization:`Bearer ${s.value}`}});if(401===t.status)return console.error("認證失敗，跳轉到登入頁面"),i.push("/login_line"),null;if(!t.ok)throw new Error(`HTTP 錯誤: ${t.status}`);const a=await t.json();o.value=a.data.guild_id||0,l.value=a.data.guild_name||"",console.log(`我的公會ID: ${o.value}`),console.log(`我的公會名稱: ${l.value}`),k(o.value)}catch(t){return console.error("獲取公會訊息時發生錯誤:",t),null}},k=async e=>{const t=Fo("/api/v1/game/guild/get_guild_info_by_guild_id");try{const a=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({guild_id:e})});if(401===a.status)return console.error("認證失敗，跳轉到登入頁面"),i.push("/login_line"),null;if(!a.ok)throw new Error(`HTTP 錯誤: ${a.status}`);const s=await a.json(),n={id:s.data.id,name:s.data.name,guild_note:s.data.guild_note,guild_members:s.data.guild_members,president:s.data.president};u.value=n,console.log("獲取公會訊息成功:",s)}catch(a){return console.error("獲取公會訊息時發生錯誤:",a),null}};function C(){const e=Fo("/api/v1/game/guild/get_guild_list");fetch(e,{method:"GET"}).then((e=>{if(401===e.status)console.error("認證失敗，跳轉到登入頁面"),i.push("/login_line");else if(!e.ok)throw new Error(`HTTP 錯誤: ${e.status}`);return e.json()})).then((e=>{e?(r.value=e.data,console.log("獲取公會列表成功:",e)):console.error("API返回的數據中沒有公會列表")})).catch((e=>{console.error("獲取公會列表失敗:",e)}))}const T=async e=>{const t=Fo("/api/v1/game/guild/create_guild");fetch(t,{method:"POST",headers:{Authorization:`Bearer ${s.value}`,"Content-Type":"application/json"},body:JSON.stringify({guild_name:e,guild_rebate:"2.1"})}).then((e=>{if(!e.ok)throw new Error(`HTTP 錯誤: ${e.status}`);return e.json()})).then((e=>{e?console.log("創立公會成功:",e):console.error("API返回的數據中沒有創立公會成功的訊息")}))};return Xa((async()=>{S(),C(),console.log("我的member資料:",s.value)})),(e,t)=>{const a=os("router-link");return En(),$n(kn,null,[zn("div",SI,[t[13]||(t[13]=zn("img",{class:"mGuild-list-bg",src:"/Work-Results/assets/guild-list-bg-BtshtQ1C.png"},null,-1)),zn("div",kI,[zn("img",{onClick:t[0]||(t[0]=e=>{i.push("/hall")}),src:Tk})]),zn("div",CI,[zn("div",TI,[r.value.length>0?(En(),$n("table",BI,[t[8]||(t[8]=zn("thead",null,[zn("tr",null,[zn("th",{class:"name-column"},"名稱"),zn("th",{class:"president-column"},"會長"),zn("th",{class:"members-column"},"人數"),zn("th",{class:"action-column"},"操作")])],-1)),zn("tbody",null,[(En(!0),$n(kn,null,ds(b.value,((e,s)=>(En(),$n("tr",{key:s},[zn("td",null,ae(e.name),1),zn("td",null,ae(e.president&&e.president[0]?e.president[0].nickname:"無會長"),1),zn("td",null,ae(e.guild_members_count),1),zn("td",null,[Vn(a,{to:{name:"guild_details",query:{guild_id:e.id}}},{default:ua((()=>t[7]||(t[7]=[zn("div",{class:"join-btn"},[zn("img",{src:xk,alt:"按鈕圖示"}),zn("div",{class:"btn-text"},"查看")],-1)]))),_:2},1032,["to"])])])))),128))])])):(En(),$n("div",AI,"暫無公會資料")),zn("div",II,[zn("div",{class:Y({disabled:1===c.value}),onClick:y},t[9]||(t[9]=[zn("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-caret-left-fill",viewBox:"0 0 16 16"},[zn("path",{d:"m3.86 8.753 5.482 4.796c.646.566 1.658.106 1.658-.753V3.204a1 1 0 0 0-1.659-.753l-5.48 4.796a1 1 0 0 0 0 1.506z"})],-1)]),2),zn("span",null,ae(c.value)+" / "+ae(v.value||1),1),zn("div",{class:Y({disabled:c.value===v.value||0===v.value}),onClick:_},t[10]||(t[10]=[zn("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-caret-right-fill",viewBox:"0 0 16 16"},[zn("path",{d:"m12.14 8.753-5.482 4.796c-.646.566-1.658.106-1.658-.753V3.204a1 1 0 0 1 1.659-.753l5.48 4.796a1 1 0 0 1 0 1.506z"})],-1)]),2)])])]),zn("div",EI,[0===o.value?(En(),$n("div",PI,[t[11]||(t[11]=zn("img",{src:xI,alt:"按鈕圖示"},null,-1)),zn("button",{onClick:t[1]||(t[1]=e=>{o.value>0?alert("您已經是公會成員，無法創建新公會"):(d.value=!0,h.value="",p.value="")})},"創立公會")])):(En(),$n("div",OI,[t[12]||(t[12]=zn("img",{src:xI,alt:"按鈕圖示"},null,-1)),zn("button",{onClick:t[2]||(t[2]=e=>{0!==o.value?i.push({name:"guild_details",query:{guild_id:o.value}}):console.warn("沒有公會")})},"我的公會")]))])]),d.value?(En(),$n("div",DI,[zn("div",$I,[zn("div",{class:"guild-modal-header"},[t[14]||(t[14]=zn("div",null,null,-1)),t[15]||(t[15]=zn("h3",null,"創立新公會",-1)),zn("button",{class:"close-button",onClick:g},"×")]),zn("div",MI,[zn("div",LI,[zn("div",NI,[t[16]||(t[16]=zn("label",{for:"guildName"},null,-1)),da(zn("input",{type:"text",id:"guildName","onUpdate:modelValue":t[3]||(t[3]=e=>h.value=e),placeholder:"請輸入公會名稱",maxlength:"20",style:{color:"black"}},null,512),[[co,h.value]]),t[17]||(t[17]=zn("div",{class:"input-hint"},null,-1))]),p.value?(En(),$n("div",RI,ae(p.value),1)):Gn("",!0)])]),zn("div",jI,[zn("button",{onClick:t[4]||(t[4]=e=>(async()=>{if(m.value)try{f.value=!0,await T(h.value),g(),await S(),await C()}catch(e){console.error("創建公會失敗:",e),p.value="創建公會失敗，請稍後再試"}finally{f.value=!1}else p.value="公會名稱長度必須在2-20個字符之間"})()),disabled:!m.value||f.value,class:Y({loading:f.value})},ae(f.value?"創建中...":"創立公會"),11,zI)])])])):Gn("",!0),d.value?(En(),$n("div",VI,[zn("div",null,[da(zn("input",{type:"text","onUpdate:modelValue":t[5]||(t[5]=e=>u.value.name=e),placeholder:"輸入公會名稱"},null,512),[[co,u.value.name]])]),zn("div",null,[zn("button",{onClick:t[6]||(t[6]=e=>T(u.value.name))},"創立公會"),zn("button",{onClick:g},"關閉")])])):Gn("",!0)],64)}}}),FI="/Work-Results/assets/guild-details-CwgY5L3Y.png",WI={class:"mGuildBg"},UI={class:"mGuildBackBtnBox"},GI={class:"mGuildDetailsList p-3"},qI={class:"DetailsTitle"},KI={class:"board"},YI={class:"boardText"},XI={class:"playerDataList p-3"},QI={class:"playerRaw"},JI={key:0},ZI=["onClick"],eE={key:1},tE={class:"pagination"},aE={class:"mGuildButtonSpace"},sE={key:0,class:"guildButton"},nE={key:1,class:"guildButton"},iE={key:2,class:"guildButton"},oE={key:0,class:"guild-modal"},lE={class:"guild-modal-content"},rE={class:"guild-modal-body"},cE={class:"edit-note-container"},uE={class:"character-count"},dE={key:1,class:"guild-modal"},hE={class:"guild-modal-content"},pE={class:"guild-modal-body text-white"},fE={class:"member-info"},mE={class:"member-info position-row"},gE={key:0,class:"position-buttons"},vE=["disabled"],bE=["disabled"],yE={class:"member-info"},_E={class:"member-info"},wE={key:0,class:"guild-modal-footer"},xE={key:2,class:"guild-modal"},SE=Ra({__name:"GuildDetailsView",setup(e){const t=wr(),a=At(localStorage.getItem("token")||""),s=At(localStorage.getItem("member")||""),n=At(localStorage.getItem("name")||"");console.log("name:",n.value);const i=yr(),o=At(_r().query.guild_id);console.log("公會ID",o);const l=At(0),r=At(""),c=At(0);At([]);const u=At(1),d=e=>e===l.value&&1===c.value;At({id:0,name:"",guild_note:"",guild_members:[{}],president:[{}]});const h=At({id:0,name:"",guild_note:"",guild_members:[{}],president:[{}]}),p=At({id:0,guild_id:0,nickname:"",position:0,created_at:"",grand_rakeback:""});At(!1);const f=At("");At(""),At(!1),pi((()=>f.value.length>=2&&f.value.length<=20));const m=At(!1),g=At(!1),v=At(!1),b=At(""),y=()=>{m.value=!1},_=()=>{g.value=!1},w=()=>{v.value=!1},x=()=>{M(),h.value.guild_note=b.value,y()},S=async()=>{await O("promote")},k=async()=>{await O("demote")},C=e=>{switch(e){case 0:return"申請中";case 1:return"會長";case 2:return"副會長";case 3:return"長老";case 4:default:return"成員";case 5:return"萌新"}},T=pi((()=>Math.ceil(h.value.guild_members.length/4))),B=pi((()=>{const e=4*(u.value-1),t=e+4;return h.value.guild_members.slice(e,t)})),A=()=>{u.value>1&&u.value--},I=()=>{u.value<T.value&&u.value++},E=pi((()=>t.isConnected)),P=pi((()=>t.messages));dn(E,(e=>{e&&(console.log("WebSocket 個人頁面已連線，開始訂閱"),a.value?t.resubscribeToUser(a.value):console.warn("沒有可用的 token，無法訂閱"))}),{immediate:!0}),dn(P,(e=>{if(e)try{e.event}catch(Sm){console.error("解析 WebSocket 訊息時發生錯誤:",Sm)}}));const O=async e=>{let t;const a=String(p.value.id);"promote"===e?t=String(p.value.position-1):"demote"===e&&(t=String(p.value.position+1));const n=Fo("/api/v1/game/guild/update_guild_position");try{const e=await fetch(n,{method:"POST",headers:{Authorization:`Bearer ${s.value}`,"Content-Type":"application/json"},body:JSON.stringify({guild_member_id:a,position:t,next_president_guild_member_id:"0"})});if(!e.ok)throw new Error(`HTTP 錯誤: ${e.status}`);const i=await e.json();console.log("提升成功:",i),await $(p.value.guild_id),p.value.position=Number(i.data.position)}catch(i){console.error("提升失敗:",i)}},D=async()=>{const e=Fo("/api/v1/game/guild/guild_kick_out");try{const t=await fetch(e,{method:"POST",headers:{Authorization:`Bearer ${s.value}`,"Content-Type":"application/json"},body:JSON.stringify({guild_member_id:p.value.id})});if(!t.ok)throw new Error(`HTTP 錯誤: ${t.status}`);const a=await t.json();console.log("踢出成功:",a),await $(p.value.guild_id),_()}catch(t){console.error("踢出失敗:",t)}},$=async e=>{const t=Fo("/api/v1/game/guild/get_guild_info_by_guild_id");try{const a=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({guild_id:e})});if(401===a.status)return console.error("認證失敗，跳轉到登入頁面"),i.push("/login_line"),null;if(!a.ok)throw new Error(`HTTP 錯誤: ${a.status}`);const s=await a.json(),n={id:s.data.id,name:s.data.name,guild_note:s.data.guild_note,guild_members:s.data.guild_members,president:s.data.president};h.value=n,console.log("獲取公會訊息成功:",s)}catch(a){return console.error("獲取公會訊息時發生錯誤:",a),null}},M=async()=>{try{if(b.value.length>200)return void alert("佈告欄內容不能超過200字");const e=String(o.value),t=Fo("/api/v1/game/guild/update_guild_note"),a=await fetch(t,{method:"POST",headers:{Authorization:`Bearer ${s.value}`,"Content-Type":"application/json"},body:JSON.stringify({username:n.value,guild_id:e,guild_note:b.value})});if(!a.ok)throw new Error(`HTTP 錯誤: ${a.status}`);const i=await a.json();console.log("更新佈告欄成功:",i),alert("佈告欄內容已更新")}catch(e){console.error("更新佈告欄失敗:",e),alert("更新佈告欄失敗，請稍後再試")}};return Xa((async()=>{(async()=>{const e=Fo("/api/v1/game/guild/whether_member_have_guild");try{const t=await fetch(e,{method:"POST",headers:{Authorization:`Bearer ${s.value}`}});if(401===t.status)return console.error("認證失敗，跳轉到登入頁面"),i.push("/login_line"),null;if(!t.ok)throw new Error(`HTTP 錯誤: ${t.status}`);const a=await t.json();l.value=a.data.guild_id||0,r.value=a.data.guild_name||"",c.value=a.data.guild_position||0,console.log(`我的公會ID: ${l.value}`),console.log(`我的公會名稱: ${r.value}`),console.log("我的公會等級:",c.value)}catch(t){return console.error("獲取公會訊息時發生錯誤:",t),null}})(),$(Number(o.value)),console.log("公會詳細資料:",h.value)})),(e,t)=>{return En(),$n(kn,null,[zn("div",WI,[t[12]||(t[12]=zn("img",{class:"mGuild-list-bg",src:FI},null,-1)),zn("div",UI,[zn("img",{onClick:t[0]||(t[0]=e=>{i.push("/guild")}),src:Tk})]),zn("div",GI,[zn("div",qI,ae(h.value.name),1),t[9]||(t[9]=zn("div",{class:"straight-line"},null,-1)),zn("div",KI,[t[6]||(t[6]=zn("img",{class:"boardImg",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMoAAABXCAYAAABFndo1AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAtbSURBVHgB7Z17jBVXHcd/59x79+7jdnfvQtlCgfIoGCi1xUoqkaKAVaON/1iMjza1WhuMJDb+YaIxdY020hijxj9II8Qm2MQUH9RgYyyatU8KWAiWglgoLM8VdoG7yz7u7szxnJlz5py5d+4yxLSBvd9Pwt6Zc37zmzMzv+/5nXPm7sJIs5Yos5XIe/xbq9YU2pq/U7iheZkg0UpJCLoqRGyLUZUDkbg5ocNqn+G2qLCbyIm4os0ErmoUXOWt+b9gCVvu5gRFtX2yKxzB7BNkNeyu5KKqmiXV2ud6Ne1Pe0CiCWOlgdLQ7tLQ5R898WR399q1UhNbyYvsu7qIj/SuaFt819yjnue3//fMBdF7up+Nlsv6ohmFt0XITRadiclrYdx5XMzcaHuJjIfbTPtQBylPapczFoQrV+U8tGHmWLnNwwP18eYc5ljjnwX3lHPTTGtv2mqOMf4VXNep4yjWVha7DqrwFbZZlzn1Udg47bQO9DkpLuuJMOfwRbijtoXQRwunSxBWoqpaOEr19U7wIayQhfbpqw99AlMe/nNtRWBj3Pp+eJ6gGXLb172N79s2hHYUPGvha59BnYjaa85j6shpe1BuGqBbZ+6DaUnltQrhnD+yU8/Kj/Veyo+6/7p5gR3Tx+cbG2j6zVNE5/Qiy2R4X/drby/cvPm1i8qcdcnnN7T+wzfdvnT+qUsXBrzuv+7jUlUs39RAGe4EViZ8QCYYeBSEOgC5CSQdMsqGsyjguBOsYXBasUTHcmNn6zi3AcilgRGJ8WfKjF+mBca0H9enaQ/TouBaOOraXIGEdnExh371dbnXKB2ZzsDcj+i+kL1HVZ0+YxMKxgSpCYLg4ZoN4TxwP3To+74TWGFAm2OD4NbBqHyoKqHrzb7vOfu+FYevgzkUiBWjJ88nfNtOX4tGyMKwKVo85nzBp/znGdFo377tANQ1ROc05YGgrQCM+D1fxPYjW0cwwXl8iu5D1CUIu28qg/PKezAyXKbWYjOt+cRdfnFKgb+488CMp57a0xs8qy2bHvT7+0r+n559JaOMmO0WiVf05KpBNssI27MHQcYde4oCN6rXGUDphPF4L63krQKUax+BeFSZDqgMD/tjJj+59qEqMpHIkgRjg504xfaNABm3GcgKxGSzsM1GIMwRKJlrICsec516KyYa48uIbsLUYup0wBk7EywmoMnplU2Z6YmjHptsgNle3A1eHcy+7bkjkfgiJpCYD2nvaV8istNZSp83Vq7tTJAL55wmyxj/yomnfvhGVFJEOuJ9Hfgmg4UdQpDeyDf3zrRD34iwLeYehulZPQOTaaN7RtbnpUuX6f7PrxzPNzFa981tObbh+59+/MbOG7p+90w3yzfmdeBS1DWa3nx0pEwZ2fMWO1qpUWabyI5MMOhAdsYkzBUIs8M2N/uExzI7PDM9tr4YM+7gTr07jGKObTRkElYsUUbTJ4wLm6qGeXpX2vNAqNYHc4Zb4fUQs2X6tOEw0ozgTYBTuixSiXB+usOQaF8HRFQtnE9hh0uumNzhTtgLs6jnFc7wTbjDmKjntn5Mj15ZZwRisoTJJGbbHdq5WS/YFzar2SBmTvvdIVkoIFcMkS9hBRjdKrMtzzl4eYQu9JVkPGeoIZ+tGMbZaxwdGaP7v7RCFDvm/SB7Q3vj1w4fPGXHmMSiRqmHOjbuB593r1hCbcUcXR7op0wuHz7wyLlFVO6JpPK4sZjYibMrKt1WHWtupJdY78cPFDVPmdzUKxlpSxE76N3BToGuLD2WQp0sqaDiHDGZOx1ppvIQFneU6Dtpl03QtgrHrKZhbVR368uxn6BxamlZRD3v9NEbuw/L7UaKxrQOcr5OR/7TK6Z1Dnw925DNdva808sa8zk9FpYPWvd8o6NjNK2zSB/6yPuo79x5uuej62nh4pXU0NB05VYBcE0iaGDgPL3x+h+pr+9p+twDq2nb1ldkdiE9tbCWjc0NdOxIL5+/YGlHVqa17OXhkaphgSczSceUVvrg8jlUKMyhR9f/PvTCIBBwfVMszqA1n/wGrVzzVfrZE/fRZ7+wgp79zT9kAshGNuFiCaOhoRE19MvxYG7uDHDNsGt0dJTuWXM7NbfMpC9++adByoJIwGQim22gb3ftoDOneujjn1pGgwPDQXk4siK9LfScVQ/NopUJuVseHafb7riVes8ep4ce3RiIhPMMATCZUAtQSghfWbdJ7pToxs62aEFB4cw2w8Wg+HRDBHOTmbOLdMfSz+jlVogETE5Utpg+c5GM8Ra6dcFMKo+MB+XRqpnWSiAU9+WL2g7HaqO0aMlqAmByE2aJefPvlqu6TTTuedHLS5cwo1RUsODlni+XzdoJgHqg0DqVeEZE73YMwn0P52YTEXu38C6+CADgGkLYN7Lxd3T6jW7WlAg91WfRC0cA6hcRexnOKibzwlEWAHWIqPy2CAu3uCmt+uoJAHWI/V6Y/ca1gttaek++owTANY1wxODoIJijuAJRs3yfAKhjqleHzaqXsL9DgGwC6hVR9aYkIlr1ImcDYgF1Cav9Kx/cfAvffC+SnN9FAaCuqZyjVJbrX0gDAGiyiaUQCahHBMVWu0ziUHII/0YD5iQARNSczItatQDUGaLi02xFQonpBC9SQF3jqkH/xSBbIRLNAKgvKr7MpXezyUaQCqhvjEDMn9zlNcwIS1+g7mHmT7TWEgo0AuqU2C8vCiuFbFWlNgAAWDgBACw1RlMQCgApgFAASAGEAkAKIBQAUgChAJACCAWAFEAoAKQAQgEgBRAKACmAUABIAYQCQAogFABSAKEAkAIIBYAUQCgApABCASAFEAoAKYBQAEgBhAJACiAUAFIAoQCQAggFgBRAKACkAEIBIAUQCgApgFAASAGEAkAKIBQAUgChAJACCAWAFEAoAKQAQgEgBRAKACmAUABIAYQCQAogFABSAKEAkAIIBYAUQCgApABCASAFNYSi/ld6IX8yAqAeYEzHukiuTxSK8MMqzx8nAOqB8fEyBQmiRm5IFMpoeUwqLEdnTv+bAKgHzp4+RMPDHmV4slJqZBRBAyWPdr38W11QIx8BcJ0j5PDJ88p0qmcfnew5Rw35hkS7RKE0t+Rp754jMh3109G3dxNkAiYjQiYAxjht/8MGmjptBh08cIKy2eRpe2KpmticOdNPg4N52rJ5HZUunY0cAzAZUJlExfn+vX+hI4f/RjtfPULZXKbaTn/yWvOX1tZm2r5tJ02ZMpd+8eR9MsNstysDAFzneN4Ybdv6Q3rh+R9Tby/RwTd7KJfLVtkF679SLbKGjzUXGnMDpaGYEFT2aGtvoWee3kGr7r2Tdr60kV74809o7vzl1DF1lnFBAFwvqGHWuJyPnD11WM5J/klTO2+mt/51iQ691UOtbc1VIya1Xyg0kjxsLOv5Xt+8+dM7X3/1EGtqbqgyVGJ5qftNampqoMVLbpFK3Ee5Y/sIgOsTJle3xunk8TI9v/1FymUzVGhtSpxWDA+X6c4PzPMHBwZ6s/3nSxtve/+srl07DyW6Vcc3N+eD7f17j1C57JGPuQq4juGcUz6fk3GtE0NCOKvBFZdLxQsXzWDFjjm/CsZaWzY9ONbfV6Itv/57tqNYCK0AqFNUHrh4YZAeeHiNl8/7fN1jz3E1e+EHjx6bvWjeLacffuReb/tzuzIXpFGjHGpl5OAMuQPUAyo1+L4fDLeKHQV66JGPjbe1F7KHDpycKYdl4WvIri7iJ04sb1+1YsFhb8yfcuZ0vzh5/Bwbkgcht4DJjkkGaig2a/ZUcdOMDpbJZi7u2d8zt/3n3aUuqaFIB2uJMlvlqtn3Hlu5utDe8t3WtsIyWdmKlS0w+QlXcOXrx1Lp0uDui30DGzb88uUdslC9WPGUxf8AXgtvdGfdPnwAAAAASUVORK5CYII="},null,-1)),zn("div",YI,ae(h.value.guild_note),1),d(Number(o.value))?(En(),$n("div",{key:0,onClick:t[1]||(t[1]=e=>(b.value=h.value.guild_note,void(m.value=!0))),class:"boardButtonContainer"},t[5]||(t[5]=[zn("img",{class:"boardButton",src:xI},null,-1),zn("div",{class:"editText"},"編輯",-1)]))):Gn("",!0)]),zn("div",XI,[zn("div",null,[(En(!0),$n(kn,null,ds(B.value,(e=>{return En(),$n("div",{key:h.value.id,class:""},[zn("div",QI,[zn("div",null,ae(C(e.position)),1),zn("div",null,ae(e.nickname),1),(t=Number(o.value),t===l.value&&c.value<=2?(En(),$n("div",JI,[zn("button",{onClick:t=>{return a=e,p.value=a,void(g.value=!0);var a}},"詳細資料",8,ZI)])):(En(),$n("div",eE)))])]);var t})),128))]),zn("div",tE,[zn("div",{class:Y({disabled:1===u.value}),onClick:A},t[7]||(t[7]=[zn("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-caret-left-fill",viewBox:"0 0 16 16"},[zn("path",{d:"m3.86 8.753 5.482 4.796c.646.566 1.658.106 1.658-.753V3.204a1 1 0 0 0-1.659-.753l-5.48 4.796a1 1 0 0 0 0 1.506z"})],-1)]),2),zn("span",null,ae(u.value)+" / "+ae(T.value||1),1),zn("div",{class:Y({disabled:u.value===T.value||0===T.value}),onClick:I},t[8]||(t[8]=[zn("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-caret-right-fill",viewBox:"0 0 16 16"},[zn("path",{d:"m12.14 8.753-5.482 4.796c-.646.566-1.658.106-1.658-.753V3.204a1 1 0 0 1 1.659-.753l5.48 4.796a1 1 0 0 1 0 1.506z"})],-1)]),2)])])]),zn("div",aE,[l.value===Number(o.value)?(En(),$n("div",sE,[t[10]||(t[10]=zn("img",{src:xI,alt:"按鈕圖示"},null,-1)),zn("button",{onClick:t[2]||(t[2]=e=>(async()=>{const e=Fo("/api/v1/game/guild/leave_guild");fetch(e,{method:"POST",headers:{Authorization:`Bearer ${s.value}`,"Content-Type":"application/json"},body:JSON.stringify({username:n.value})}).then((e=>{if(!e.ok)throw new Error(`HTTP 錯誤: ${e.status}`);return e.json()})).then((e=>{e?(console.log("退出公會成功:",e),l.value=0,r.value="",i.push("guild")):console.error("API返回的數據中沒有公會邀請碼")}))})())},"退出公會")])):0===l.value?(En(),$n("div",nE,[t[11]||(t[11]=zn("img",{src:xI,alt:"按鈕圖示"},null,-1)),zn("button",{onClick:t[3]||(t[3]=e=>(async e=>{console.log(`加入公會 ID: ${e}`);const t=await async function(e){const t=Fo(`/api/v1/game/guild/get_invite_code?guild_id=${e}`);try{const e=await fetch(t,{method:"GET",headers:{Authorization:`Bearer ${s.value}`,"Content-Type":"application/json"}});if(401===e.status)return console.error("認證失敗，跳轉到登入頁面"),i.push("/login_line"),null;if(!e.ok)throw new Error(`HTTP 錯誤: ${e.status}`);const a=await e.json();return a&&a.data&&a.data.invite_code?(console.log("獲取公會邀請碼成功:",a),a.data.invite_code):(console.error("API返回的數據中沒有公會邀請碼"),null)}catch(a){return console.error("獲取公會邀請碼失敗:",a),null}}(e);if(t){const e=Fo("/api/v1/game/guild/apply_join_guild");fetch(e,{method:"POST",headers:{Authorization:`Bearer ${s.value}`,"Content-Type":"application/json"},body:JSON.stringify({invite_code:t})}).then((e=>{if(!e.ok)throw new Error(`HTTP 錯誤: ${e.status}`);return e.json()})).then((e=>{e?(console.log("加入公會成功:",e),i.push("guild")):console.error("API返回的數據中沒有公會邀請碼")}))}})(h.value.id))},"加入公會")])):(En(),$n("div",iE))])]),m.value?(En(),$n("div",oE,[zn("div",lE,[zn("div",{class:"guild-modal-header"},[t[13]||(t[13]=zn("h3",null,"修改公會佈告欄",-1)),zn("button",{class:"close-button",onClick:y},"×")]),zn("div",rE,[zn("div",cE,[t[14]||(t[14]=zn("label",{for:"guild-note"},"佈告欄內容：",-1)),da(zn("textarea",{id:"guild-note","onUpdate:modelValue":t[4]||(t[4]=e=>b.value=e),class:"guild-note-textarea",placeholder:"請輸入公會佈告欄內容...",rows:"6"},null,512),[[co,b.value]]),zn("div",uE,ae(b.value.length)+"/200 字 ",1)])]),zn("div",{class:"guild-modal-footer"},[zn("button",{class:"cancel-btn",onClick:y},"取消"),zn("button",{class:"save-btn",onClick:x},"儲存")])])])):Gn("",!0),g.value?(En(),$n("div",dE,[zn("div",hE,[zn("div",{class:"guild-modal-header"},[t[15]||(t[15]=zn("h3",null,"成員資料",-1)),zn("button",{class:"close-button",onClick:_},"×")]),zn("div",pE,[zn("div",fE," 名稱："+ae(p.value.nickname),1),zn("div",mE,[Wn(" 職位："+ae(C(p.value.position))+" ",1),d(Number(o.value))&&1!==p.value.position?(En(),$n("div",gE,[zn("button",{class:"position-btn promote-btn",onClick:S,disabled:p.value.position<=2},"提升",8,vE),zn("button",{class:"position-btn demote-btn",onClick:k,disabled:p.value.position>=5},"降低",8,bE)])):Gn("",!0)]),zn("div",yE," 返水值："+ae(p.value.grand_rakeback),1),zn("div",_E," 加入時間："+ae(p.value.created_at),1)]),(a=p.value.guild_id,f=p.value.position,console.log("我的公會ID:",l.value,"當前公會ID:",a,"我的職位:",c.value,"當前職位:",f),a===l.value&&c.value<f?(En(),$n("div",wE,[zn("button",{class:"cancel-btn",onClick:D},"踢出")])):Gn("",!0))])])):Gn("",!0),v.value?(En(),$n("div",xE,[zn("div",{class:"guild-modal-content"},[zn("div",{class:"guild-modal-header"},[t[16]||(t[16]=zn("h3",null,"成員資料",-1)),zn("button",{class:"close-button",onClick:w},"×")]),t[17]||(t[17]=zn("div",{class:"guild-modal-body text-white"},null,-1)),zn("div",{class:"guild-modal-footer"},[zn("button",{class:"cancel-btn",onClick:w},"關閉")])])])):Gn("",!0)],64);var a,f}}}),kE={class:"friend-page"},CE={class:"friendBackBtnBox"},TE={class:"friend-actions"},BE={class:"search-section"},AE={class:"input-group custom-input-group"},IE={key:0,class:"modal-overlay"},EE={class:"modal-container"},PE={class:"modal-content"},OE={class:"modal-body"},DE={key:0,class:"friend-list"},$E={class:"friend-avatar"},ME=["src"],LE={class:"friend-info"},NE={class:""},RE=["onClick"],jE={key:1,class:"empty-search-results"},zE={class:"friend-list-section"},VE={class:"section-header"},HE={key:0,class:"loading-indicator"},FE={key:1,class:"empty-list"},WE={key:2,class:"friend-list-container"},UE={class:"friend-list"},GE={class:"box"},qE={class:"friend-avatar"},KE=["src"],YE={class:"friend-info"},XE={class:""},QE=["onClick"],JE={class:"modal fade",id:"removeFriendModal",tabindex:"-1",role:"dialog","aria-labelledby":"removeFriendModalLabel","aria-hidden":"true"},ZE={class:"modal-dialog",role:"document"},eP={class:"modal-content"},tP={key:0,class:"modal-body"},aP=Ir(Ra({__name:"friendView",setup(e){const t=yr();At(localStorage.getItem("token")||"");const a=At(localStorage.getItem("member")||"");At(localStorage.getItem("name")||"");const s=At(!1),n=At([]),i=At([]),o=At("");At("");const l=At(!1),r=At(null),c=()=>{s.value=!1},u=()=>{console.log("搜尋好友:",o.value),l.value=!0,setTimeout((()=>{l.value=!1,async function(){if(o.value)try{const e=Fo(`/api/v1/game/user/search?q=${o.value}`),t=await fetch(e,{method:"GET",headers:{Authorization:`Bearer ${a.value}`,"Content-Type":"application/json"}});if(t.ok){const e=await t.json();i.value=e.data.users,console.log("搜尋結果",e)}else console.error("搜尋好友失敗:",t.statusText)}catch(e){console.error("搜尋好友時出錯:",e)}else alert("請輸入搜尋關鍵字")}(),s.value=!0}),500)},d=()=>{r.value&&(console.log("移除好友:",r.value.nickname),async function(e){try{const t=Fo(`/api/v1/game/user/friends/${e}`),s=await fetch(t,{method:"DELETE",headers:{Authorization:`Bearer ${a.value}`,"Content-Type":"application/json"}});if(s.ok){const e=await s.json();console.log("刪除好友成功",e),p()}else console.error("刪除好友失敗:",s.statusText)}catch(t){console.error("刪除好友時出錯:",t)}}(r.value.friendsId),r.value=null)},h=()=>{console.log("刷新好友列表"),l.value=!0,setTimeout((()=>{p(),l.value=!1}),500)};async function p(){try{const e=Fo("/api/v1/game/user/friends"),t=await fetch(e,{method:"GET",headers:{Authorization:`Bearer ${a.value}`}});if(t.ok){const e=await t.json();n.value=e.data,console.log("好友列表資料",n.value)}else console.error("獲取好友列表失敗:",t.statusText)}catch(e){console.error("獲取好友列表時出錯:",e)}}return Xa((()=>{p(),l.value=!0,setTimeout((()=>{l.value=!1}),500)})),(e,f)=>(En(),$n("div",kE,[f[15]||(f[15]=zn("img",{class:"friend-background",src:ZA},null,-1)),f[16]||(f[16]=zn("img",{class:"friend-background second",src:"/Work-Results/assets/friend-bg-DCnUaQkl.png"},null,-1)),zn("div",CE,[zn("img",{onClick:f[0]||(f[0]=e=>{t.push("/hall")}),src:Tk})]),zn("div",TE,[zn("div",BE,[zn("div",AE,[da(zn("input",{type:"text","onUpdate:modelValue":f[1]||(f[1]=e=>o.value=e),placeholder:"人名輸入",class:"form-control",onKeyup:xo(u,["enter"])},null,544),[[co,o.value]])]),zn("div",{class:"input-group-append"},[zn("button",{class:"btn custom-search-btn",onClick:u},f[3]||(f[3]=[zn("i",{class:"fas fa-search"},null,-1),Wn(" 搜尋 ")]))])])]),s.value?(En(),$n("div",IE,[zn("div",EE,[zn("div",PE,[zn("div",{class:"modal-header"},[f[4]||(f[4]=zn("h2",null,"搜尋結果",-1)),zn("button",{class:"modal-close-btn",onClick:c},"×")]),zn("div",OE,[i.value.length>0?(En(),$n("div",DE,[(En(!0),$n(kn,null,ds(i.value,((e,t)=>(En(),$n("div",{key:t,class:"friend-card select"},[zn("div",$E,[zn("img",{src:e.avatar,alt:""},null,8,ME)]),zn("div",LE,[zn("p",null,ae(e.nickname),1),zn("p",null,"ID: "+ae(e.username),1)]),zn("div",NE,[zn("button",{class:"btn myColor",onClick:t=>{return n=e.username,console.log("通過ID新增好友:",n),async function(e){try{const t=Fo("/api/v1/game/user/friends"),s=await fetch(t,{method:"POST",headers:{Authorization:`Bearer ${a.value}`,"Content-Type":"application/json"},body:JSON.stringify({username:e,"auto-join":1})});if(s.ok){const e=await s.json();console.log("新增好友成功",e),p()}else console.error("新增好友失敗:",s.statusText)}catch(t){console.error("新增好友時出錯:",t)}}(n),void(s.value=!1);var n}},ae("加入"),8,RE)])])))),128))])):(En(),$n("div",jE,f[5]||(f[5]=[zn("div",{class:"empty-icon"},[zn("i",{class:"fas fa-search"})],-1),zn("p",null,"沒有找到符合條件的用戶",-1)])))])])])])):Gn("",!0),zn("div",zE,[zn("div",VE,[zn("h2",null,"我的好友 ("+ae(n.value.length)+")",1),zn("div",{class:"list-actions"},[zn("button",{class:"btn btn-outline-primary",onClick:h},f[6]||(f[6]=[zn("i",{class:"fas fa-sync-alt"},null,-1),Wn(" 刷新 ")]))])]),l.value?(En(),$n("div",HE,f[7]||(f[7]=[zn("div",{class:"spinner-border text-primary",role:"status"},[zn("span",{class:"sr-only"})],-1),zn("p",null,"載入中...",-1)]))):0===n.value.length?(En(),$n("div",FE,f[8]||(f[8]=[zn("div",{class:"empty-icon"},[zn("i",{class:"fas fa-user-friends"})],-1),zn("p",null,"您目前沒有好友",-1),zn("p",{class:"empty-tip"},"使用上方的搜尋功能來尋找並添加好友",-1)]))):(En(),$n("div",WE,[zn("div",UE,[(En(!0),$n(kn,null,ds(n.value,(e=>(En(),$n("div",{key:e.friendsId,class:"friend-card"},[zn("div",GE,[zn("div",qE,[zn("img",{src:e.avatar,alt:"頭像"},null,8,KE)]),zn("div",YE,[zn("h3",null,ae(e.nickname),1),zn("h4",null,"ID: "+ae(e.username),1)])]),zn("div",XE,[zn("button",{class:"btn smileLeft",onClick:f[2]||(f[2]=()=>{})},f[9]||(f[9]=[zn("i",{class:"fas fa-user-minus"},null,-1),Wn(" 密語 ")])),zn("button",{class:"btn smileRight",onClick:t=>(e=>{r.value=e,console.log("確認移除好友:",e.nickname),d()})(e)},f[10]||(f[10]=[zn("i",{class:"fas fa-user-minus"},null,-1),Wn(" 移除 ")]),8,QE)])])))),128))])]))]),zn("div",JE,[zn("div",ZE,[zn("div",eP,[f[14]||(f[14]=zn("div",{class:"modal-header"},[zn("h5",{class:"modal-title",id:"removeFriendModalLabel"},"確認移除好友"),zn("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[zn("span",{"aria-hidden":"true"},"×")])],-1)),r.value?(En(),$n("div",tP,[zn("p",null,[f[11]||(f[11]=Wn("您確定要移除 ")),zn("strong",null,ae(r.value.nickname),1),f[12]||(f[12]=Wn(" 從您的好友列表嗎？"))])])):Gn("",!0),zn("div",{class:"modal-footer"},[f[13]||(f[13]=zn("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"},"取消",-1)),zn("button",{type:"button",class:"btn btn-danger",onClick:d},"確認移除")])])])])]))}}),[["__scopeId","data-v-397f5c45"]]),sP={class:"bankBg"},nP={class:"mGuildBackBtnBox"},iP={class:"menu-bar"},oP={class:"menu-container"},lP={class:"menu-items"},rP={key:0,class:"bank-bg"},cP={class:"user-card"},uP={class:"user-info"},dP=["src"],hP={class:"user-separately"},pP={class:"nickname"},fP={class:"bank-balance"},mP={class:"point"},gP={class:"form"},vP=["value"],bP={class:"form"},yP={key:1,class:"gift-record"},_P={class:"record-list"},wP={class:"record-date"},xP={class:"record-info"},SP={class:"record-amount"},kP={key:0,class:"no-records"},CP=Ra({__name:"bankView",setup(e){const t=yr();At(localStorage.getItem("token")||"");const a=At(localStorage.getItem("member")||""),s=At([]),n=At(null),i=At(null),o=At(""),l=At("mAboutView"),r=At(50),c=At(0),u=At("魔法師"),d=At("gift"),h=()=>{const e=p(),t=f();n.value&&i.value?(g(e,n.value.username,i.value.toString(),t),console.log(e,n.value.username,i.value)):console.log("請選擇收禮玩家並輸入贈送金幣數量")},p=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){const t=(Date.now()+16*Math.random())%16|0;return("x"===e?t:3&t|8).toString(16)})),f=()=>Math.floor(Date.now()/1e3).toString();At([{name:"禮物1",price:100,image:"https://via.placeholder.com/80"},{name:"禮物2",price:200,image:"https://via.placeholder.com/80"},{name:"禮物3",price:300,image:"https://via.placeholder.com/80"},{name:"禮物4",price:500,image:"https://via.placeholder.com/80"}]);const m=At([{date:"2025-08-28",recipient:"玩家A",amount:1e3,status:"成功"},{date:"2025-08-27",recipient:"玩家B",amount:500,status:"處理中"},{date:"2025-08-26",recipient:"玩家C",amount:2e3,status:"成功"}]),g=async(e,t,s,n)=>{const i=Fo("/api/v1/game/wallet/transfer");try{const o=await fetch(i,{method:"POST",headers:{Authorization:`Bearer ${a.value}`,"Content-Type":"application/json"},body:JSON.stringify({request_id:e,to_username:t,trans_type:"TRANS_TYPE_POINTS_TRANSFER",trans_value:s,timestamp:n,coin:"POINT"})});if(o.ok){const e=await o.json();c.value=e.data.balance,localStorage.setItem("balance",c.value.toString()),console.log("轉移金幣",e)}else console.error("獲取餘額資料失敗:",o.statusText)}catch(o){return console.error("獲取餘額資料時發生錯誤:",o),null}};return Xa((()=>{(async()=>{const e=Fo("/api/v1/game/user/profile");try{const s=await fetch(e,{method:"GET",headers:{Authorization:`Bearer ${a.value}`}});if(401===s.status&&(console.error("認證失敗，跳轉到登入頁面"),localStorage.setItem("token",""),t.push("/login_line")),s.ok){const e=await s.json();o.value=e.data.avatar,l.value=e.data.nickname,r.value=e.data.level,c.value=e.data.balance,u.value=e.data.character}else console.error("獲取個人資料失敗:",s.statusText)}catch(s){return console.error("獲取個人資料時發生錯誤:",s),null}})(),(async()=>{const e=Fo("/api/v1/game/user/friends");try{const t=await fetch(e,{method:"GET",headers:{Authorization:`Bearer ${a.value}`}});if(t.ok){const e=await t.json();s.value=e.data,console.log("好友列表資料",s.value)}else console.error("獲取好友列表失敗:",t.statusText)}catch(t){return console.error("獲取好友訊息時發生錯誤:",t),null}})(),console.log("轉點畫面...")})),(e,a)=>(En(),$n(kn,null,[zn("div",sP,[zn("div",nP,[zn("img",{onClick:a[0]||(a[0]=e=>{t.push("/hall")}),src:Tk})]),a[18]||(a[18]=zn("div",{class:"header"},null,-1)),zn("div",iP,[zn("div",oP,[a[5]||(a[5]=zn("img",{src:_k,alt:"選項"},null,-1)),zn("div",lP,[zn("span",{class:Y({active:"gift"===d.value}),onClick:a[1]||(a[1]=e=>d.value="gift")},"贈禮中心",2),zn("span",{class:Y({active:"giftRecord"===d.value}),onClick:a[2]||(a[2]=e=>d.value="giftRecord")},"贈禮紀錄",2)])])]),"gift"===d.value?(En(),$n("div",rP,[a[12]||(a[12]=zn("img",{class:"bankImage",src:FA},null,-1)),zn("div",cP,[zn("div",uP,[zn("img",{class:"avatar",src:o.value,alt:"avatar"},null,8,dP),zn("div",hP,[zn("p",pP,ae(l.value),1),a[6]||(a[6]=zn("button",{class:"info-btn"},"贈禮說明",-1))])]),zn("p",fP,[zn("span",mP,"$ "+ae(c.value),1)]),a[7]||(a[7]=Un('<div class="gift-info"><div class="giftrow"><div>可送禮數量</div><div>0</div></div><div class="giftrow"><div>今日可送禮額度</div><div>0</div></div><div class="giftrow"><div>今日可贈禮次數</div><div>0</div></div><div class="giftrow"><div class="gifButton"><p>凍結總額</p><button class="detail">明細</button></div><div>0</div></div></div>',1))]),zn("div",gP,[a[9]||(a[9]=zn("label",null,"收禮玩家",-1)),da(zn("select",{"onUpdate:modelValue":a[3]||(a[3]=e=>n.value=e),class:"friend-select"},[a[8]||(a[8]=zn("option",{value:"",disabled:"",selected:""},"請選擇收禮玩家",-1)),(En(!0),$n(kn,null,ds(s.value,(e=>(En(),$n("option",{key:e.friendsId,value:e},ae(e.nickname),9,vP)))),128))],512),[[fo,n.value]])]),zn("div",bP,[a[10]||(a[10]=zn("label",null,"贈送金幣",-1)),da(zn("input",{"onUpdate:modelValue":a[4]||(a[4]=e=>i.value=e),type:"String",placeholder:"請輸入金幣"},null,512),[[co,i.value]])]),a[13]||(a[13]=zn("p",{class:"fee"},"手續費：0.00",-1)),zn("div",{class:"confirm",onClick:h},a[11]||(a[11]=[zn("img",{src:xk,alt:"確認"},null,-1),zn("div",{class:"confirm-text"},"確認",-1)]))])):Gn("",!0),"giftRecord"===d.value?(En(),$n("div",yP,[a[17]||(a[17]=zn("div",{class:"section-title"},[zn("div",null,"全部"),zn("div",null,"送禮"),zn("div",null,"收禮")],-1)),zn("div",_P,[(En(!0),$n(kn,null,ds(m.value,((e,t)=>(En(),$n("div",{class:"record-item",key:t},[zn("div",wP,ae(e.date),1),zn("div",xP,[zn("div",null,"贈送對象："+ae(e.recipient),1),zn("div",null,[a[14]||(a[14]=Wn("贈送金額：")),zn("span",SP,ae(e.amount),1),a[15]||(a[15]=Wn(" 點"))]),zn("div",null,[a[16]||(a[16]=Wn("狀態：")),zn("span",{class:Y("成功"===e.status?"status-success":"status-pending")},ae(e.status),3)])])])))),128)),0===m.value.length?(En(),$n("div",kP," 暫無贈禮紀錄 ")):Gn("",!0)])])):Gn("",!0)]),a[19]||(a[19]=zn("img",{class:"bank-background",src:ZA},null,-1)),a[20]||(a[20]=zn("img",{class:"bank-background second",src:"/Work-Results/assets/bank-bg-CaYX1SxF.png"},null,-1))],64))}}),TP={class:"page-b"},BP={class:"pageCarousel"},AP={class:"pageCarouselBox"},IP=["onClick"],EP=["src"],PP={key:0,class:"character-overlay"},OP={key:1,class:"character-name"},DP=Ra({__name:"chooseView",setup(e){const t=At(0);At(null);const a=At([{id:1,name:"牧師 - 珍妮佛",description:"牧師是神明在人間的代行者，他們以信仰為盾、以聖光為矛。無論是治癒同伴的創傷，還是對抗黑暗的詛咒，牧師總是站在隊伍最堅實的後方，守護著每一位冒險者。",image:mC,stats:{strength:85,speed:60,intelligence:50}},{id:2,name:"法師 - 莫甘娜",description:"精通各種魔法的女巫，可以釋放強大的元素魔法攻擊敵人，也可以使用輔助魔法支援隊友。",image:hC,stats:{strength:40,speed:55,intelligence:95}},{id:3,name:"弓箭手 - 羅賓",description:"來自森林的精靈弓箭手，擁有超凡的視力和精準度，可以遠距離狙擊敵人的弱點。",image:pC,stats:{strength:55,speed:90,intelligence:70}},{id:4,name:"騎士 - 布魯斯",description:"信奉騎士精神的騎士，擁有超強的體魄和耐力，是隊伍中的主要肉盾，可以吸收大量傷害。",image:gC,stats:{strength:95,speed:40,intelligence:45}},{id:5,name:"刺客 - 比利",description:"身手敏捷的暗影刺客，擅長潛行和突襲，可以迅速接近敵人並造成致命一擊。",image:fC,stats:{strength:65,speed:95,intelligence:75}}]),s=pi((()=>{const e=a.value.length,s=[];for(let n=-2;n<=2;n++){let i=(t.value+n+e)%e;s.push({...a.value[i],originalIndex:i})}return s})),n=e=>{const t=Math.abs(e-2);let a=0;return t>0&&(a=80*t*(e>2?1:-1)),{transform:`translateX(${a}px) scale(${0===t?1:Math.max(.6,1-.2*t)})`,opacity:0===t?1:Math.max(.7,1-.2*t),zIndex:5-t}},i=()=>{t.value=(t.value+1)%a.value.length},o=()=>{t.value=(t.value-1+a.value.length)%a.value.length};return(e,a)=>(En(),$n("div",TP,[zn("div",BP,[zn("div",AP,[(En(!0),$n(kn,null,ds(s.value,((e,a)=>(En(),$n("div",{key:e.id,class:Y(["pageCarouselImg",{active:2===a}]),style:W(n(a)),onClick:a=>(e=>{t.value=e})(e.originalIndex)},[zn("img",{src:e.image},null,8,EP),2!==a?(En(),$n("div",PP)):Gn("",!0),2===a?(En(),$n("div",OP,ae(e.name),1)):Gn("",!0)],14,IP)))),128))]),zn("div",{class:"carousel-controls"},[zn("button",{onClick:o,class:"carousel-control prev"},"<"),zn("button",{onClick:i,class:"carousel-control next"},">")])])]))}}),$P={class:"store-container"},MP={class:"mGuildBackBtnBox"},LP={class:"store-balance"},NP={class:"balance-amount"},RP=Ra({__name:"storeView",setup(e){const t=yr(),a=At(localStorage.getItem("balance")||"");return(e,s)=>(En(),$n("div",$P,[s[2]||(s[2]=zn("img",{class:"store-background",src:ZA},null,-1)),s[3]||(s[3]=zn("img",{class:"store-background second",src:"/Work-Results/assets/store-background2-BLb4z_qY.png"},null,-1)),zn("div",MP,[zn("img",{onClick:s[0]||(s[0]=e=>{t.push("/hall")}),src:Tk})]),s[4]||(s[4]=Un('<div class="store-card"><div class="header"><div class="title">快速儲值</div></div><div class="quick-recharge"><div class="recharge-row"><div class="recharge-item"><div class="payment-method">mycard 序號</div><div class="coin-amount"><span class="coin-icon"></span> 5,000</div><button class="recharge-btn">$50</button></div><div class="recharge-item"><div class="payment-method">電信</div><div class="coin-amount"><span class="coin-icon"></span> 10,000</div><button class="recharge-btn">$100</button></div><div class="recharge-item"><div class="payment-method">LINE Pay</div><div class="coin-amount"><span class="coin-icon"></span> 15,300</div><button class="recharge-btn">$150</button></div></div><div class="recharge-row"><div class="recharge-item"><div class="payment-method">mycard 序號</div><div class="coin-amount"><span class="coin-icon"></span> 15,200</div><button class="recharge-btn">$150</button></div><div class="recharge-item"><div class="payment-method">LINE Pay</div><div class="coin-amount"><span class="coin-icon"></span> 30,900</div><button class="recharge-btn">$300</button></div><div class="recharge-item"><div class="payment-method">LINE Pay</div><div class="coin-amount"><span class="coin-icon"></span> 330,300</div><button class="recharge-btn">$3,000</button></div></div></div><div class="header"><div class="title">一般儲值</div></div><div class="normal-recharge"><div class="recharge-row"><div class="normal-item"><div class="normal-icon mycard"></div><div class="normal-text">序號儲值</div></div><div class="normal-item"><div class="normal-icon mycard"></div><div class="normal-text">線上儲值</div></div><div class="normal-item"><div class="normal-icon mycard"></div><div class="normal-text">免費扣抵</div></div></div><div class="recharge-row"><div class="normal-item"><div class="normal-icon apple-pay"></div><div class="normal-text">Apple Pay</div></div><div class="normal-item"><div class="normal-icon mobile"></div><div class="normal-text">行動支付</div></div><div class="normal-item"><div class="normal-icon bank"></div><div class="normal-text">銀行轉帳</div></div><div class="normal-item"><div class="normal-icon credit-card"></div><div class="normal-text">信用卡</div></div></div></div></div>',1)),zn("div",LP,[s[1]||(s[1]=zn("div",{class:"balance-text"},"帳戶金幣",-1)),zn("div",NP,ae(a.value),1)])]))}}),jP={waiting:{tableId:"table-123",maxPlayers:8,currentPlayers:[{id:"player1",name:"玩家1",chips:1e3,position:1,isActive:!0},{id:"player2",name:"玩家2",chips:1500,position:3,isActive:!0}],minBuyIn:"600",maxBuyIn:"2000",gamePhase:"waiting",canDoAction:[]},preflop:{tableId:"table-123",handId:"hand-456",maxPlayers:8,currentPlayers:[{id:"player1",name:"玩家1",chips:900,position:1,isActive:!0,bet:100},{id:"player2",name:"玩家2",chips:1400,position:3,isActive:!0,bet:100}],minBuyIn:"600",maxBuyIn:"2000",gamePhase:"preflop",potAmountBox:"200",myHandCard:[{id:"mycard1",suit:"hearts",value:"A",isVisible:!0},{id:"mycard2",suit:"hearts",value:"K",isVisible:!0}],publicCard:[],canDoAction:["fold","check","raise"],call:"0",mainRaise:"100",maxRaise:"900"},flop:{tableId:"table-123",handId:"hand-456",maxPlayers:8,currentPlayers:[{id:"player1",name:"玩家1",chips:900,position:1,isActive:!0,bet:0},{id:"player2",name:"玩家2",chips:1400,position:3,isActive:!0,bet:0}],minBuyIn:"600",maxBuyIn:"2000",gamePhase:"flop",potAmountBox:"200",myHandCard:[{id:"mycard1",suit:"hearts",value:"A",isVisible:!0},{id:"mycard2",suit:"hearts",value:"K",isVisible:!0}],publicCard:[{id:"card1",suit:"hearts",value:"Q",isVisible:!0},{id:"card2",suit:"hearts",value:"J",isVisible:!0},{id:"card3",suit:"hearts",value:"10",isVisible:!0}],canDoAction:["fold","check","raise"],call:"0",mainRaise:"100",maxRaise:"900"},turn:{tableId:"table-123",handId:"hand-456",maxPlayers:8,currentPlayers:[{id:"player1",name:"玩家1",chips:700,position:1,isActive:!0,bet:200},{id:"player2",name:"玩家2",chips:1200,position:3,isActive:!0,bet:200}],minBuyIn:"600",maxBuyIn:"2000",gamePhase:"turn",potAmountBox:"600",myHandCard:[{id:"mycard1",suit:"hearts",value:"A",isVisible:!0},{id:"mycard2",suit:"hearts",value:"K",isVisible:!0}],publicCard:[{id:"card1",suit:"hearts",value:"Q",isVisible:!0},{id:"card2",suit:"hearts",value:"J",isVisible:!0},{id:"card3",suit:"hearts",value:"10",isVisible:!0},{id:"card4",suit:"diamonds",value:"9",isVisible:!0}],canDoAction:["fold","check","raise"],call:"0",mainRaise:"100",maxRaise:"700"},river:{tableId:"table-123",handId:"hand-456",maxPlayers:8,currentPlayers:[{id:"player1",name:"玩家1",chips:500,position:1,isActive:!0,bet:200},{id:"player2",name:"玩家2",chips:1e3,position:3,isActive:!0,bet:200}],minBuyIn:"600",maxBuyIn:"2000",gamePhase:"river",potAmountBox:"1000",myHandCard:[{id:"mycard1",suit:"hearts",value:"A",isVisible:!0},{id:"mycard2",suit:"hearts",value:"K",isVisible:!0}],publicCard:[{id:"card1",suit:"hearts",value:"Q",isVisible:!0},{id:"card2",suit:"hearts",value:"J",isVisible:!0},{id:"card3",suit:"hearts",value:"10",isVisible:!0},{id:"card4",suit:"diamonds",value:"9",isVisible:!0},{id:"card5",suit:"clubs",value:"8",isVisible:!0}],canDoAction:["fold","check","raise"],call:"0",mainRaise:"100",maxRaise:"500"},showdown:{tableId:"table-123",handId:"hand-456",maxPlayers:8,currentPlayers:[{id:"player1",name:"玩家1",chips:1500,position:1,isActive:!0,bet:0},{id:"player2",name:"玩家2",chips:1e3,position:3,isActive:!0,bet:0}],minBuyIn:"600",maxBuyIn:"2000",gamePhase:"showdown",potAmountBox:"0",myHandCard:[{id:"mycard1",suit:"hearts",value:"A",isVisible:!0},{id:"mycard2",suit:"hearts",value:"K",isVisible:!0}],publicCard:[{id:"card1",suit:"hearts",value:"Q",isVisible:!0},{id:"card2",suit:"hearts",value:"J",isVisible:!0},{id:"card3",suit:"hearts",value:"10",isVisible:!0},{id:"card4",suit:"diamonds",value:"9",isVisible:!0},{id:"card5",suit:"clubs",value:"8",isVisible:!0}],canDoAction:[],potWinner:{winners:[{name:"玩家1",seatNumber:1}],amount:"1000"}}},zP={fold:{action:"fold",playerId:"player1",tableId:"table-123",handId:"hand-456"},check:{action:"check",playerId:"player1",tableId:"table-123",handId:"hand-456"},call:{action:"call",playerId:"player1",tableId:"table-123",handId:"hand-456",amount:"100"},raise:{action:"raise",playerId:"player1",tableId:"table-123",handId:"hand-456",amount:"200"},allIn:{action:"all_in",playerId:"player1",tableId:"table-123",handId:"hand-456",amount:"900"}},VP={playerJoined:{event:"player-joined",data:{playerId:"player3",name:"新玩家",chips:1200,position:5,isActive:!0}},playerLeft:{event:"player-left",data:{playerId:"player2",position:3}},handCompleted:{event:"hand-completed",data:{handId:"hand-456",winners:[{playerId:"player1",amount:"1000",hand:"Royal Flush"}]}},tableShutdown:{event:"table-shutdown",data:{tableId:"table-123",reason:"牌桌維護"}}},HP={authError:{event:"error",data:{code:401,message:"認證失敗，請重新登入"}},actionError:{event:"error",data:{code:400,message:"無效的操作，不是您的回合"}},connectionError:{event:"error",data:{code:500,message:"連接服務器失敗，請稍後再試"}}},FP={class:"websocket-tester"},WP={class:"connection-controls"},UP=["disabled"],GP=["disabled"],qP={class:"test-section"},KP={class:"button-group"},YP={class:"test-section"},XP={class:"button-group"},QP={class:"test-section"},JP={class:"button-group"},ZP={class:"test-section"},eO={class:"button-group"},tO={class:"log-section"},aO={class:"log-container"},sO={class:"log-time"},nO={class:"log-type"},iO={class:"log-message"},oO=Ir({name:"WebSocketTester",setup(){const e=At(!1),t=At([]),a=(e,a)=>{const s=(new Date).toLocaleTimeString();t.value.unshift({type:e,message:a,time:s}),t.value.length>100&&t.value.pop()},s=()=>{e.value=!1,a("info","已斷開 WebSocket 連接")};return Xa((()=>{Ix.on("table-state-updated",(e=>{a("received","接收到牌桌狀態更新")})),Ix.on("player-action",(e=>{a("received",`接收到玩家動作: ${e.action}`)})),Ix.on("error",(e=>{a("error",`接收到錯誤: ${e.message}`)}))})),es((()=>{Ix.off("table-state-updated"),Ix.off("player-action"),Ix.off("error"),e.value&&s()})),{isConnected:e,eventLogs:t,connectWebSocket:()=>{try{e.value=!0,a("info","已連接到模擬 WebSocket")}catch(t){a("error",`連接失敗: ${t.message}`)}},disconnectWebSocket:s,sendTableState:t=>{if(!e.value)return void a("warning","未連接 WebSocket，無法發送數據");const s=jP[t];s&&(Ix.emit("table-state-updated",s),a("sent",`發送牌桌狀態: ${t}`),window.gameStateManager&&window.gameStateManager.updateTableState(s))},sendPlayerAction:t=>{if(!e.value)return void a("warning","未連接 WebSocket，無法發送數據");const s=zP[t];s&&(Ix.emit("player-action",s),a("sent",`發送玩家動作: ${t}`))},sendSpecialEvent:t=>{if(!e.value)return void a("warning","未連接 WebSocket，無法發送數據");const s=VP[t];s&&(Ix.emit(s.event,s.data),a("sent",`發送特殊事件: ${t}`))},sendErrorEvent:t=>{if(!e.value)return void a("warning","未連接 WebSocket，無法發送數據");const s=HP[t];s&&(Ix.emit(s.event,s.data),a("sent",`發送錯誤事件: ${t}`))},clearLogs:()=>{t.value=[]}}}},[["render",function(e,t,a,s,n,i){return En(),$n("div",FP,[t[26]||(t[26]=zn("h2",null,"WebSocket 測試工具",-1)),zn("div",WP,[zn("div",{class:Y(["status",{connected:s.isConnected}])}," 狀態: "+ae(s.isConnected?"已連接":"未連接"),3),zn("button",{onClick:t[0]||(t[0]=(...e)=>s.connectWebSocket&&s.connectWebSocket(...e)),disabled:s.isConnected},"連接 WebSocket",8,UP),zn("button",{onClick:t[1]||(t[1]=(...e)=>s.disconnectWebSocket&&s.disconnectWebSocket(...e)),disabled:!s.isConnected},"斷開 WebSocket",8,GP)]),zn("div",qP,[t[21]||(t[21]=zn("h3",null,"牌桌狀態測試",-1)),zn("div",KP,[zn("button",{onClick:t[2]||(t[2]=e=>s.sendTableState("waiting"))},"等待狀態"),zn("button",{onClick:t[3]||(t[3]=e=>s.sendTableState("preflop"))},"翻牌前"),zn("button",{onClick:t[4]||(t[4]=e=>s.sendTableState("flop"))},"翻牌"),zn("button",{onClick:t[5]||(t[5]=e=>s.sendTableState("turn"))},"轉牌"),zn("button",{onClick:t[6]||(t[6]=e=>s.sendTableState("river"))},"河牌"),zn("button",{onClick:t[7]||(t[7]=e=>s.sendTableState("showdown"))},"攤牌")])]),zn("div",YP,[t[22]||(t[22]=zn("h3",null,"玩家動作測試",-1)),zn("div",XP,[zn("button",{onClick:t[8]||(t[8]=e=>s.sendPlayerAction("fold"))},"棄牌"),zn("button",{onClick:t[9]||(t[9]=e=>s.sendPlayerAction("check"))},"過牌"),zn("button",{onClick:t[10]||(t[10]=e=>s.sendPlayerAction("call"))},"跟注"),zn("button",{onClick:t[11]||(t[11]=e=>s.sendPlayerAction("raise"))},"加注"),zn("button",{onClick:t[12]||(t[12]=e=>s.sendPlayerAction("allIn"))},"全下")])]),zn("div",QP,[t[23]||(t[23]=zn("h3",null,"特殊事件測試",-1)),zn("div",JP,[zn("button",{onClick:t[13]||(t[13]=e=>s.sendSpecialEvent("playerJoined"))},"玩家加入"),zn("button",{onClick:t[14]||(t[14]=e=>s.sendSpecialEvent("playerLeft"))},"玩家離開"),zn("button",{onClick:t[15]||(t[15]=e=>s.sendSpecialEvent("handCompleted"))},"牌局結束"),zn("button",{onClick:t[16]||(t[16]=e=>s.sendSpecialEvent("tableShutdown"))},"牌桌關閉")])]),zn("div",ZP,[t[24]||(t[24]=zn("h3",null,"錯誤測試",-1)),zn("div",eO,[zn("button",{onClick:t[17]||(t[17]=e=>s.sendErrorEvent("authError"))},"認證錯誤"),zn("button",{onClick:t[18]||(t[18]=e=>s.sendErrorEvent("actionError"))},"動作錯誤"),zn("button",{onClick:t[19]||(t[19]=e=>s.sendErrorEvent("connectionError"))},"連接錯誤")])]),zn("div",tO,[t[25]||(t[25]=zn("h3",null,"事件日誌",-1)),zn("div",aO,[(En(!0),$n(kn,null,ds(s.eventLogs,((e,t)=>(En(),$n("div",{key:t,class:Y(["log-entry",e.type])},[zn("span",sO,ae(e.time),1),zn("span",nO,"["+ae(e.type)+"]",1),zn("span",iO,ae(e.message),1)],2)))),128))]),zn("button",{onClick:t[20]||(t[20]=(...e)=>s.clearLogs&&s.clearLogs(...e)),class:"clear-button"},"清除日誌")])])}],["__scopeId","data-v-6811ff81"]]),lO={class:"login-test-container"},rO={class:"input-group"},cO=Ir(Ra({__name:"LoginTestView",setup(e){At(localStorage.getItem("token")||""),At(localStorage.getItem("member")||"");const t=At(""),a=Fo("/api/v1/game/guild/get_player_member_token"),s=async()=>{console.log("名字",t.value);try{const e=await fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t.value})});if(!e.ok)throw new Error(`API請求失敗: ${e.status} ${e.statusText}`);const s=await e.json();console.log("資料已成功存儲到本地",s),localStorage.setItem("token",s.token),localStorage.setItem("member",s.member_token)}catch(e){console.error("抓取資料時出錯:",e)}};return(e,a)=>(En(),$n("div",lO,[zn("div",rO,[da(zn("input",{"onUpdate:modelValue":a[0]||(a[0]=e=>t.value=e),type:"text",placeholder:"請輸入測試名稱",class:"api-input"},null,512),[[co,t.value]]),zn("button",{onClick:s,class:"fetch-button"})])]))}}),[["__scopeId","data-v-645287ee"]]),uO={class:"page-a"},dO={class:"character-carousel"},hO={class:"character-images"},pO=["src","alt"],fO={class:"character-info-container"},mO=Ir(Ra({__name:"pageA",setup(e){yr(),At(!1),At(0);const t=At([{id:1,name:"牧師 - 珍妮佛",description:"牧師是神明在人間的代行者，他們以信仰為盾、以聖光為矛。無論是治癒同伴的創傷，還是對抗黑暗的詛咒，牧師總是站在隊伍最堅實的後方，守護著每一位冒險者。",image:mC,stats:{strength:85,speed:60,intelligence:50}},{id:2,name:"法師 - 莫甘娜",description:"精通各種魔法的女巫，可以釋放強大的元素魔法攻擊敵人，也可以使用輔助魔法支援隊友。",image:hC,stats:{strength:40,speed:55,intelligence:95}},{id:3,name:"弓箭手 - 羅賓",description:"來自森林的精靈弓箭手，擁有超凡的視力和精準度，可以遠距離狙擊敵人的弱點。",image:pC,stats:{strength:55,speed:90,intelligence:70}},{id:4,name:"騎士 - 布魯斯",description:"信奉騎士精神的騎士，擁有超強的體魄和耐力，是隊伍中的主要肉盾，可以吸收大量傷害。",image:gC,stats:{strength:95,speed:40,intelligence:45}},{id:5,name:"刺客 - 比利",description:"身手敏捷的暗影刺客，擅長潛行和突襲，可以迅速接近敵人並造成致命一擊。",image:fC,stats:{strength:65,speed:95,intelligence:75}}]),a=At(0),s=At(null),n=At("next"),i=e=>{const s=t.value.length,i=360/s;let o=(e-a.value)*i;return o>180?o-=360:o<-180&&(o+=360),Math.abs(o)===(s-1)*i&&("next"===n.value&&o<0?o=360+o:"prev"===n.value&&o>0&&(o-=360)),o},o=e=>e===a.value?1:.5,l=()=>{n.value="next",a.value=(a.value+1)%t.value.length},r=()=>{n.value="prev",a.value=(a.value-1+t.value.length)%t.value.length},c=()=>{null!==s.value&&(clearInterval(s.value),s.value=null)};return Xa((()=>{c()})),es((()=>{c()})),(e,s)=>(En(),$n("div",uO,[zn("div",dO,[zn("div",hO,[(En(!0),$n(kn,null,ds(t.value,((e,t)=>(En(),$n("div",{key:t,class:Y(["character-image-container",{active:a.value===t}]),style:W({transform:`rotateY(${i(t)}deg) translateZ(150px)`,opacity:o(t)})},[zn("img",{src:e.image,alt:e.name,class:"character-image"},null,8,pO)],6)))),128))]),zn("div",fO,[Vn(Bi,{name:"fade",mode:"out-in"},{default:ua((()=>[(En(),$n("div",{key:a.value,class:"character-info"},[zn("h3",null,ae(t.value[a.value].name),1),zn("p",null,ae(t.value[a.value].description),1)]))])),_:1})]),zn("div",{class:"carousel-controls"},[zn("button",{onClick:r,class:"carousel-control prev"},"<"),s[0]||(s[0]=zn("div",{class:"carousel-indicators"},null,-1)),zn("button",{onClick:l,class:"carousel-control next"},">")])])]))}}),[["__scopeId","data-v-9ede9c6b"]]),gO=[{path:"/",name:"home",component:kr.isMobile?Ur:Lr},{path:"/gameHome",name:"gameHome",component:(kr.isMobile,Er)},{path:"/login",name:"login",component:(kr.isMobile,mk)},{path:"/testAA",name:"test",component:(kr.isMobile,cO)},{path:"/choose",name:"choose",component:(kr.isMobile,DP)},{path:"/pageA",name:"pageA",component:(kr.isMobile,mO)},{path:"/pageB",name:"pageB",component:(kr.isMobile,()=>function(e,t,a){let s=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),a=(null==e?void 0:e.nonce)||(null==e?void 0:e.getAttribute("nonce"));s=Promise.allSettled(t.map((e=>{if((e=function(e){return"/Work-Results/"+e}(e))in Sr)return;Sr[e]=!0;const t=e.endsWith(".css"),s=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${s}`))return;const n=document.createElement("link");return n.rel=t?"stylesheet":"modulepreload",t||(n.as="script"),n.crossOrigin="",n.href=e,a&&n.setAttribute("nonce",a),document.head.appendChild(n),t?new Promise(((t,a)=>{n.addEventListener("load",t),n.addEventListener("error",(()=>a(new Error(`Unable to preload CSS for ${e}`))))})):void 0})))}function n(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return s.then((e=>{for(const t of e||[])"rejected"===t.status&&n(t.reason);return import("./pageB-CF8DLiui.js").catch(n)}))}(0,__vite__mapDeps([0,1,2])))},{path:"/login_line",name:"login_line",component:(kr.isMobile,vk)},{path:"/callback",name:"login_line_callback",component:(kr.isMobile,yk)},{path:"/hall",name:"hall",component:(kr.isMobile,PC)},{path:"/user",name:"user",component:(kr.isMobile,JA)},{path:"/guild",name:"guild",component:(kr.isMobile,HI)},{path:"/guild_details",name:"guild_details",component:(kr.isMobile,SE)},{path:"/friend",name:"friend",component:(kr.isMobile,aP)},{path:"/bank",name:"bank",component:(kr.isMobile,CP)},{path:"/store",name:"store",component:(kr.isMobile,RP)},{path:"/play_log",name:"play_log",component:(kr.isMobile,wI)},{path:"/select",name:"select",component:(kr.isMobile,YT)},{path:"/tournament",name:"tournament",component:(kr.isMobile,HA)},{path:"/game",name:"game",component:(kr.isMobile,bS),meta:{requiresAuth:!0}},{path:"/game2",name:"game2",component:(kr.isMobile,jS)},{path:"/game3",name:"game3",component:(kr.isMobile,lk)},{path:"/gameTurbo",name:"gameTurbo",component:(kr.isMobile,uk),meta:{requiresAuth:!0}},{path:"/websocket-tester",name:"WebSocketTester",component:(kr.isMobile,oO)}],vO=function(e){const t=function(e,t){const a=[],s=new Map;function n(e,a,s){const l=!s,r=Xl(e);r.aliasOf=s&&s.record;const c=er(t,e),u=[r];if("alias"in e){const t="string"==typeof e.alias?[e.alias]:e.alias;for(const e of t)u.push(Xl(qo({},r,{components:s?s.record.components:r.components,path:e,aliasOf:s?s.record:r})))}let d,h;for(const t of u){const{path:u}=t;if(a&&"/"!==u[0]){const e=a.record.path,s="/"===e[e.length-1]?"":"/";t.path=a.record.path+(u&&s+u)}if(d=Kl(t,a,c),s?s.alias.push(d):(h=h||d,h!==d&&h.alias.push(d),l&&e.name&&!Jl(d)&&i(e.name)),tr(d)&&o(d),r.children){const e=r.children;for(let t=0;t<e.length;t++)n(e[t],d,s&&s.children[t])}s=s||d}return h?()=>{i(h)}:Yo}function i(e){if($l(e)){const t=s.get(e);t&&(s.delete(e),a.splice(a.indexOf(t),1),t.children.forEach(i),t.alias.forEach(i))}else{const t=a.indexOf(e);t>-1&&(a.splice(t,1),e.record.name&&s.delete(e.record.name),e.children.forEach(i),e.alias.forEach(i))}}function o(e){const t=function(e,t){let a=0,s=t.length;for(;a!==s;){const n=a+s>>1;Wl(e,t[n])<0?s=n:a=n+1}const n=function(e){let t=e;for(;t=t.parent;)if(tr(t)&&0===Wl(e,t))return t}(e);return n&&(s=t.lastIndexOf(n,s-1)),s}(e,a);a.splice(t,0,e),e.record.name&&!Jl(e)&&s.set(e.record.name,e)}return t=er({strict:!1,end:!0,sensitive:!1},t),e.forEach((e=>n(e))),{addRoute:n,resolve:function(e,t){let n,i,o,l={};if("name"in e&&e.name){if(n=s.get(e.name),!n)throw Rl(1,{location:e});o=n.record.name,l=qo(Yl(t.params,n.keys.filter((e=>!e.optional)).concat(n.parent?n.parent.keys.filter((e=>e.optional)):[]).map((e=>e.name))),e.params&&Yl(e.params,n.keys.map((e=>e.name)))),i=n.stringify(l)}else if(null!=e.path)i=e.path,n=a.find((e=>e.re.test(i))),n&&(l=n.parse(i),o=n.record.name);else{if(n=t.name?s.get(t.name):a.find((e=>e.re.test(t.path))),!n)throw Rl(1,{location:e,currentLocation:t});o=n.record.name,l=qo({},t.params,e.params),i=n.stringify(l)}const r=[];let c=n;for(;c;)r.unshift(c.record),c=c.parent;return{name:o,path:i,params:l,matched:r,meta:Zl(r)}},removeRoute:i,clearRoutes:function(){a.length=0,s.clear()},getRoutes:function(){return a},getRecordMatcher:function(e){return s.get(e)}}}(e.routes,e),a=e.parseQuery||ar,s=e.stringifyQuery||sr,n=e.history,i=ur(),o=ur(),l=ur(),r=It(xl);let c=xl;Uo&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=Ko.bind(null,(e=>""+e)),d=Ko.bind(null,pl),h=Ko.bind(null,fl);function p(e,i){if(i=qo({},i||r.value),"string"==typeof e){const s=gl(a,e,i.path),o=t.resolve({path:s.path},i),l=n.createHref(s.fullPath);return qo(s,o,{params:h(o.params),hash:fl(s.hash),redirectedFrom:void 0,href:l})}let o;if(null!=e.path)o=qo({},e,{path:gl(a,e.path,i.path).path});else{const t=qo({},e.params);for(const e in t)null==t[e]&&delete t[e];o=qo({},e,{params:d(t)}),i.params=d(i.params)}const l=t.resolve(o,i),c=e.hash||"";l.params=u(h(l.params));const p=function(e,t){const a=t.query?e(t.query):"";return t.path+(a&&"?")+a+(t.hash||"")}(s,qo({},e,{hash:(f=c,dl(f).replace(ll,"{").replace(cl,"}").replace(il,"^")),path:l.path}));var f;const m=n.createHref(p);return qo({fullPath:p,hash:c,query:s===sr?nr(e.query):e.query||{}},l,{redirectedFrom:void 0,href:m})}function f(e){return"string"==typeof e?gl(a,e,r.value.path):qo({},e)}function m(e,t){if(c!==e)return Rl(8,{from:t,to:e})}function g(e){return b(e)}function v(e){const t=e.matched[e.matched.length-1];if(t&&t.redirect){const{redirect:a}=t;let s="function"==typeof a?a(e):a;return"string"==typeof s&&(s=s.includes("?")||s.includes("#")?s=f(s):{path:s},s.params={}),qo({query:e.query,hash:e.hash,params:null!=s.path?{}:e.params},s)}}function b(e,t){const a=c=p(e),n=r.value,i=e.state,o=e.force,l=!0===e.replace,u=v(a);if(u)return b(qo(f(u),{state:"object"==typeof u?qo({},i,u.state):i,force:o,replace:l}),t||a);const d=a;let h;return d.redirectedFrom=t,!o&&function(e,t,a){const s=t.matched.length-1,n=a.matched.length-1;return s>-1&&s===n&&bl(t.matched[s],a.matched[n])&&yl(t.params,a.params)&&e(t.query)===e(a.query)&&t.hash===a.hash}(s,n,a)&&(h=Rl(16,{to:d,from:n}),E(n,n,!0,!1)),(h?Promise.resolve(h):w(d,n)).catch((e=>jl(e)?jl(e,2)?e:I(e):A(e,d,n))).then((e=>{if(e){if(jl(e,2))return b(qo({replace:l},f(e.to),{state:"object"==typeof e.to?qo({},i,e.to.state):i,force:o}),t||d)}else e=S(d,n,!0,l,i);return x(d,n,e),e}))}function y(e,t){const a=m(e,t);return a?Promise.reject(a):Promise.resolve()}function _(e){const t=D.values().next().value;return t&&"function"==typeof t.runWithContext?t.runWithContext(e):e()}function w(e,t){let a;const[s,n,l]=function(e,t){const a=[],s=[],n=[],i=Math.max(t.matched.length,e.matched.length);for(let o=0;o<i;o++){const i=t.matched[o];i&&(e.matched.find((e=>bl(e,i)))?s.push(i):a.push(i));const l=e.matched[o];l&&(t.matched.find((e=>bl(e,l)))||n.push(l))}return[a,s,n]}(e,t);a=hr(s.reverse(),"beforeRouteLeave",e,t);for(const i of s)i.leaveGuards.forEach((s=>{a.push(dr(s,e,t))}));const r=y.bind(null,e,t);return a.push(r),M(a).then((()=>{a=[];for(const s of i.list())a.push(dr(s,e,t));return a.push(r),M(a)})).then((()=>{a=hr(n,"beforeRouteUpdate",e,t);for(const s of n)s.updateGuards.forEach((s=>{a.push(dr(s,e,t))}));return a.push(r),M(a)})).then((()=>{a=[];for(const s of l)if(s.beforeEnter)if(Xo(s.beforeEnter))for(const n of s.beforeEnter)a.push(dr(n,e,t));else a.push(dr(s.beforeEnter,e,t));return a.push(r),M(a)})).then((()=>(e.matched.forEach((e=>e.enterCallbacks={})),a=hr(l,"beforeRouteEnter",e,t,_),a.push(r),M(a)))).then((()=>{a=[];for(const s of o.list())a.push(dr(s,e,t));return a.push(r),M(a)})).catch((e=>jl(e,8)?e:Promise.reject(e)))}function x(e,t,a){l.list().forEach((s=>_((()=>s(e,t,a)))))}function S(e,t,a,s,i){const o=m(e,t);if(o)return o;const l=t===xl,c=Uo?history.state:{};a&&(s||l?n.replace(e.fullPath,qo({scroll:l&&c&&c.scroll},i)):n.push(e.fullPath,i)),r.value=e,E(e,t,a,l),I()}let k;let C,T=ur(),B=ur();function A(e,t,a){I(e);const s=B.list();return s.length?s.forEach((s=>s(e,t,a))):console.error(e),Promise.reject(e)}function I(e){return C||(C=!e,k||(k=n.listen(((e,t,a)=>{if(!$.listening)return;const s=p(e),i=v(s);if(i)return void b(qo(i,{replace:!0,force:!0}),s).catch(Yo);c=s;const o=r.value;var l,u;Uo&&(l=El(o.fullPath,a.delta),u=Il(),Pl.set(l,u)),w(s,o).catch((e=>jl(e,12)?e:jl(e,2)?(b(qo(f(e.to),{force:!0}),s).then((e=>{jl(e,20)&&!a.delta&&a.type===Sl.pop&&n.go(-1,!1)})).catch(Yo),Promise.reject()):(a.delta&&n.go(-a.delta,!1),A(e,s,o)))).then((e=>{(e=e||S(s,o,!1))&&(a.delta&&!jl(e,8)?n.go(-a.delta,!1):a.type===Sl.pop&&jl(e,20)&&n.go(-1,!1)),x(s,o,e)})).catch(Yo)}))),T.list().forEach((([t,a])=>e?a(e):t())),T.reset()),e}function E(t,a,s,n){const{scrollBehavior:i}=e;if(!Uo||!i)return Promise.resolve();const o=!s&&function(e){const t=Pl.get(e);return Pl.delete(e),t}(El(t.fullPath,0))||(n||!s)&&history.state&&history.state.scroll||null;return ea().then((()=>i(t,a,o))).then((e=>e&&function(e){let t;if("el"in e){const a=e.el,s="string"==typeof a&&a.startsWith("#"),n="string"==typeof a?s?document.getElementById(a.slice(1)):document.querySelector(a):a;if(!n)return;t=function(e,t){const a=document.documentElement.getBoundingClientRect(),s=e.getBoundingClientRect();return{behavior:t.behavior,left:s.left-a.left-(t.left||0),top:s.top-a.top-(t.top||0)}}(n,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(null!=t.left?t.left:window.scrollX,null!=t.top?t.top:window.scrollY)}(e))).catch((e=>A(e,t,a)))}const P=e=>n.go(e);let O;const D=new Set,$={currentRoute:r,listening:!0,addRoute:function(e,a){let s,n;return $l(e)?(s=t.getRecordMatcher(e),n=a):n=e,t.addRoute(n,s)},removeRoute:function(e){const a=t.getRecordMatcher(e);a&&t.removeRoute(a)},clearRoutes:t.clearRoutes,hasRoute:function(e){return!!t.getRecordMatcher(e)},getRoutes:function(){return t.getRoutes().map((e=>e.record))},resolve:p,options:e,push:g,replace:function(e){return g(qo(f(e),{replace:!0}))},go:P,back:()=>P(-1),forward:()=>P(1),beforeEach:i.add,beforeResolve:o.add,afterEach:l.add,onError:B.add,isReady:function(){return C&&r.value!==xl?Promise.resolve():new Promise(((e,t)=>{T.add([e,t])}))},install(e){e.component("RouterLink",fr),e.component("RouterView",br),e.config.globalProperties.$router=this,Object.defineProperty(e.config.globalProperties,"$route",{enumerable:!0,get:()=>Ot(r)}),Uo&&!O&&r.value===xl&&(O=!0,g(n.location).catch((e=>{})));const t={};for(const s in xl)Object.defineProperty(t,s,{get:()=>r.value[s],enumerable:!0});e.provide(lr,this),e.provide(rr,gt(t)),e.provide(cr,r);const a=e.unmount;D.add(e),e.unmount=function(){D.delete(e),D.size<1&&(c=xl,k&&k(),k=null,r.value=xl,O=!1,C=!1),a()}}};function M(e){return e.reduce(((e,t)=>e.then((()=>_(t)))),Promise.resolve())}return $}({history:function(e){const t=function(e){const{history:t,location:a}=window,s={value:Ol(e,a)},n={value:t.state};function i(s,i,o){const l=e.indexOf("#"),r=l>-1?(a.host&&document.querySelector("base")?e:e.slice(l))+s:location.protocol+"//"+location.host+e+s;try{t[o?"replaceState":"pushState"](i,"",r),n.value=i}catch(c){console.error(c),a[o?"replace":"assign"](r)}}return n.value||i(s.value,{back:null,current:s.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0),{location:s,state:n,push:function(e,a){const o=qo({},n.value,t.state,{forward:e,scroll:Il()});i(o.current,o,!0),i(e,qo({},Dl(s.value,e,null),{position:o.position+1},a),!1),s.value=e},replace:function(e,a){i(e,qo({},t.state,Dl(n.value.back,e,n.value.forward,!0),a,{position:n.value.position}),!0),s.value=e}}}(e=function(e){if(!e)if(Uo){const t=document.querySelector("base");e=(e=t&&t.getAttribute("href")||"/").replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return"/"!==e[0]&&"#"!==e[0]&&(e="/"+e),e.replace(ml,"")}(e)),a=function(e,t,a,s){let n=[],i=[],o=null;const l=({state:i})=>{const l=Ol(e,location),r=a.value,c=t.value;let u=0;if(i){if(a.value=l,t.value=i,o&&o===r)return void(o=null);u=c?i.position-c.position:0}else s(l);n.forEach((e=>{e(a.value,r,{delta:u,type:Sl.pop,direction:u?u>0?Cl.forward:Cl.back:Cl.unknown})}))};function r(){const{history:e}=window;e.state&&e.replaceState(qo({},e.state,{scroll:Il()}),"")}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",r,{passive:!0}),{pauseListeners:function(){o=a.value},listen:function(e){n.push(e);const t=()=>{const t=n.indexOf(e);t>-1&&n.splice(t,1)};return i.push(t),t},destroy:function(){for(const e of i)e();i=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",r)}}}(e,t.state,t.location,t.replace),s=qo({location:"",base:e,go:function(e,t=!0){t||a.pauseListeners(),history.go(e)},createHref:Al.bind(null,e)},t,a);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>t.state.value}),s}("/Work-Results/"),routes:gO}),bO=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,yO=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,_O=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function wO(e,t){if(!("__proto__"===e||"constructor"===e&&t&&"object"==typeof t&&"prototype"in t))return t;!function(e){console.warn(`[destr] Dropping "${e}" key to prevent prototype pollution.`)}(e)}function xO(e,t){if(null==e)return;let a=e;for(let s=0;s<t.length;s++){if(null==a||null==a[t[s]])return;a=a[t[s]]}return a}function SO(e,t,a){if(0===a.length)return t;const s=a[0];return a.length>1&&(t=SO("object"==typeof e&&null!==e&&Object.prototype.hasOwnProperty.call(e,s)?e[s]:Number.isInteger(Number(a[1]))?[]:{},t,Array.prototype.slice.call(a,1))),Number.isInteger(Number(s))&&Array.isArray(e)?e.slice()[s]:Object.assign({},e,{[s]:t})}function kO(e,t){if(null==e||0===t.length)return e;if(1===t.length){if(null==e)return e;if(Number.isInteger(t[0])&&Array.isArray(e))return Array.prototype.slice.call(e,0).splice(t[0],1);const a={};for(const t in e)a[t]=e[t];return delete a[t[0]],a}if(null==e[t[0]]){if(Number.isInteger(t[0])&&Array.isArray(e))return Array.prototype.concat.call([],e);const a={};for(const t in e)a[t]=e[t];return a}return SO(e,kO(e[t[0]],Array.prototype.slice.call(t,1)),[t[0]])}function CO(e,t){return t.map((e=>e.split("."))).map((t=>[t,xO(e,t)])).filter((e=>void 0!==e[1])).reduce(((e,t)=>SO(e,t[1],t[0])),{})}function TO(e,t){return t.map((e=>e.split("."))).reduce(((e,t)=>kO(e,t)),e)}function BO(e,{storage:t,serializer:a,key:s,debug:n,pick:i,omit:o,beforeHydrate:l,afterHydrate:r},c,u=!0){try{u&&(null==l||l(c));const n=t.getItem(s);if(n){const t=a.deserialize(n),s=i?CO(t,i):t,l=o?TO(s,o):s;e.$patch(l)}u&&(null==r||r(c))}catch(d){n&&console.error("[pinia-plugin-persistedstate]",d)}}function AO(e,{storage:t,serializer:a,key:s,debug:n,pick:i,omit:o}){try{const n=i?CO(e,i):e,l=o?TO(n,o):n,r=a.serialize(l);t.setItem(s,r)}catch(l){n&&console.error("[pinia-plugin-persistedstate]",l)}}var IO=function(e={}){return function(t){!function(e,t,a){const{pinia:s,store:n,options:{persist:i=a}}=e;if(!i)return;if(!(n.$id in s.state.value)){const e=s._s.get(n.$id.replace("__hot:",""));return void(e&&Promise.resolve().then((()=>e.$persist())))}const o=(Array.isArray(i)?i:!0===i?[{}]:[i]).map(t);n.$hydrate=({runHooks:t=!0}={})=>{o.forEach((a=>{BO(n,a,e,t)}))},n.$persist=()=>{o.forEach((e=>{AO(n.$state,e)}))},o.forEach((t=>{BO(n,t,e),n.$subscribe(((e,a)=>AO(a,t)),{detached:!0})}))}(t,(a=>({key:(e.key?e.key:e=>e)(a.key??t.store.$id),debug:a.debug??e.debug??!1,serializer:a.serializer??e.serializer??{serialize:e=>JSON.stringify(e),deserialize:e=>function(e,t={}){if("string"!=typeof e)return e;if('"'===e[0]&&'"'===e[e.length-1]&&-1===e.indexOf("\\"))return e.slice(1,-1);const a=e.trim();if(a.length<=9)switch(a.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!_O.test(e)){if(t.strict)throw new SyntaxError("[destr] Invalid JSON");return e}try{if(bO.test(e)||yO.test(e)){if(t.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(e,wO)}return JSON.parse(e)}catch(s){if(t.strict)throw s;return e}}(e)},storage:a.storage??e.storage??window.localStorage,beforeHydrate:a.beforeHydrate,afterHydrate:a.afterHydrate,pick:a.pick,omit:a.omit})),e.auto??!1)}}();!function(){const e=new Map,t={set(t,a,s){e.has(t)||e.set(t,new Map);const n=e.get(t);n.has(a)||0===n.size?n.set(a,s):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(n.keys())[0]}.`)},get:(t,a)=>e.has(t)&&e.get(t).get(a)||null,remove(t,a){if(!e.has(t))return;const s=e.get(t);s.delete(a),0===s.size&&e.delete(t)}},a="transitionend",s=e=>(e&&window.CSS&&window.CSS.escape&&(e=e.replace(/#([^\s"#']+)/g,((e,t)=>`#${CSS.escape(t)}`))),e),n=e=>{e.dispatchEvent(new Event(a))},i=e=>!(!e||"object"!=typeof e)&&(void 0!==e.jquery&&(e=e[0]),void 0!==e.nodeType),o=e=>i(e)?e.jquery?e[0]:e:"string"==typeof e&&e.length>0?document.querySelector(s(e)):null,l=e=>{if(!i(e)||0===e.getClientRects().length)return!1;const t="visible"===getComputedStyle(e).getPropertyValue("visibility"),a=e.closest("details:not([open])");if(!a)return t;if(a!==e){const t=e.closest("summary");if(t&&t.parentNode!==a)return!1;if(null===t)return!1}return t},r=e=>!e||e.nodeType!==Node.ELEMENT_NODE||!!e.classList.contains("disabled")||(void 0!==e.disabled?e.disabled:e.hasAttribute("disabled")&&"false"!==e.getAttribute("disabled")),c=e=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof e.getRootNode){const t=e.getRootNode();return t instanceof ShadowRoot?t:null}return e instanceof ShadowRoot?e:e.parentNode?c(e.parentNode):null},u=()=>{},d=e=>{e.offsetHeight},h=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,p=[],f=()=>"rtl"===document.documentElement.dir,m=e=>{var t;t=()=>{const t=h();if(t){const a=e.NAME,s=t.fn[a];t.fn[a]=e.jQueryInterface,t.fn[a].Constructor=e,t.fn[a].noConflict=()=>(t.fn[a]=s,e.jQueryInterface)}},"loading"===document.readyState?(p.length||document.addEventListener("DOMContentLoaded",(()=>{for(const e of p)e()})),p.push(t)):t()},g=(e,t=[],a=e)=>"function"==typeof e?e.call(...t):a,v=(e,t,s=!0)=>{if(!s)return void g(e);const i=(e=>{if(!e)return 0;let{transitionDuration:t,transitionDelay:a}=window.getComputedStyle(e);const s=Number.parseFloat(t),n=Number.parseFloat(a);return s||n?(t=t.split(",")[0],a=a.split(",")[0],1e3*(Number.parseFloat(t)+Number.parseFloat(a))):0})(t)+5;let o=!1;const l=({target:s})=>{s===t&&(o=!0,t.removeEventListener(a,l),g(e))};t.addEventListener(a,l),setTimeout((()=>{o||n(t)}),i)},b=(e,t,a,s)=>{const n=e.length;let i=e.indexOf(t);return-1===i?!a&&s?e[n-1]:e[0]:(i+=a?1:-1,s&&(i=(i+n)%n),e[Math.max(0,Math.min(i,n-1))])},y=/[^.]*(?=\..*)\.|.*/,_=/\..*/,w=/::\d+$/,x={};let S=1;const k={mouseenter:"mouseover",mouseleave:"mouseout"},C=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function T(e,t){return t&&`${t}::${S++}`||e.uidEvent||S++}function B(e){const t=T(e);return e.uidEvent=t,x[t]=x[t]||{},x[t]}function A(e,t,a=null){return Object.values(e).find((e=>e.callable===t&&e.delegationSelector===a))}function I(e,t,a){const s="string"==typeof t,n=s?a:t||a;let i=D(e);return C.has(i)||(i=e),[s,n,i]}function E(e,t,a,s,n){if("string"!=typeof t||!e)return;let[i,o,l]=I(t,a,s);var r;t in k&&(r=o,o=function(e){if(!e.relatedTarget||e.relatedTarget!==e.delegateTarget&&!e.delegateTarget.contains(e.relatedTarget))return r.call(this,e)});const c=B(e),u=c[l]||(c[l]={}),d=A(u,o,i?a:null);if(d)return void(d.oneOff=d.oneOff&&n);const h=T(o,t.replace(y,"")),p=i?function(e,t,a){return function s(n){const i=e.querySelectorAll(t);for(let{target:o}=n;o&&o!==this;o=o.parentNode)for(const l of i)if(l===o)return M(n,{delegateTarget:o}),s.oneOff&&$.off(e,n.type,t,a),a.apply(o,[n])}}(e,a,o):function(e,t){return function a(s){return M(s,{delegateTarget:e}),a.oneOff&&$.off(e,s.type,t),t.apply(e,[s])}}(e,o);p.delegationSelector=i?a:null,p.callable=o,p.oneOff=n,p.uidEvent=h,u[h]=p,e.addEventListener(l,p,i)}function P(e,t,a,s,n){const i=A(t[a],s,n);i&&(e.removeEventListener(a,i,Boolean(n)),delete t[a][i.uidEvent])}function O(e,t,a,s){const n=t[a]||{};for(const[i,o]of Object.entries(n))i.includes(s)&&P(e,t,a,o.callable,o.delegationSelector)}function D(e){return e=e.replace(_,""),k[e]||e}const $={on(e,t,a,s){E(e,t,a,s,!1)},one(e,t,a,s){E(e,t,a,s,!0)},off(e,t,a,s){if("string"!=typeof t||!e)return;const[n,i,o]=I(t,a,s),l=o!==t,r=B(e),c=r[o]||{},u=t.startsWith(".");if(void 0===i){if(u)for(const a of Object.keys(r))O(e,r,a,t.slice(1));for(const[a,s]of Object.entries(c)){const n=a.replace(w,"");l&&!t.includes(n)||P(e,r,o,s.callable,s.delegationSelector)}}else{if(!Object.keys(c).length)return;P(e,r,o,i,n?a:null)}},trigger(e,t,a){if("string"!=typeof t||!e)return null;const s=h();let n=null,i=!0,o=!0,l=!1;t!==D(t)&&s&&(n=s.Event(t,a),s(e).trigger(n),i=!n.isPropagationStopped(),o=!n.isImmediatePropagationStopped(),l=n.isDefaultPrevented());const r=M(new Event(t,{bubbles:i,cancelable:!0}),a);return l&&r.preventDefault(),o&&e.dispatchEvent(r),r.defaultPrevented&&n&&n.preventDefault(),r}};function M(e,t={}){for(const[s,n]of Object.entries(t))try{e[s]=n}catch(a){Object.defineProperty(e,s,{configurable:!0,get:()=>n})}return e}function L(e){if("true"===e)return!0;if("false"===e)return!1;if(e===Number(e).toString())return Number(e);if(""===e||"null"===e)return null;if("string"!=typeof e)return e;try{return JSON.parse(decodeURIComponent(e))}catch(t){return e}}function N(e){return e.replace(/[A-Z]/g,(e=>`-${e.toLowerCase()}`))}const R={setDataAttribute(e,t,a){e.setAttribute(`data-bs-${N(t)}`,a)},removeDataAttribute(e,t){e.removeAttribute(`data-bs-${N(t)}`)},getDataAttributes(e){if(!e)return{};const t={},a=Object.keys(e.dataset).filter((e=>e.startsWith("bs")&&!e.startsWith("bsConfig")));for(const s of a){let a=s.replace(/^bs/,"");a=a.charAt(0).toLowerCase()+a.slice(1),t[a]=L(e.dataset[s])}return t},getDataAttribute:(e,t)=>L(e.getAttribute(`data-bs-${N(t)}`))};class j{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,t){const a=i(t)?R.getDataAttribute(t,"config"):{};return{...this.constructor.Default,..."object"==typeof a?a:{},...i(t)?R.getDataAttributes(t):{},..."object"==typeof e?e:{}}}_typeCheckConfig(e,t=this.constructor.DefaultType){for(const[s,n]of Object.entries(t)){const t=e[s],o=i(t)?"element":null==(a=t)?`${a}`:Object.prototype.toString.call(a).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(n).test(o))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${s}" provided type "${o}" but expected type "${n}".`)}var a}}class z extends j{constructor(e,a){super(),(e=o(e))&&(this._element=e,this._config=this._getConfig(a),t.set(this._element,this.constructor.DATA_KEY,this))}dispose(){t.remove(this._element,this.constructor.DATA_KEY),$.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,t,a=!0){v(e,t,a)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return t.get(o(e),this.DATA_KEY)}static getOrCreateInstance(e,t={}){return this.getInstance(e)||new this(e,"object"==typeof t?t:null)}static get VERSION(){return"5.3.5"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}const V=e=>{let t=e.getAttribute("data-bs-target");if(!t||"#"===t){let a=e.getAttribute("href");if(!a||!a.includes("#")&&!a.startsWith("."))return null;a.includes("#")&&!a.startsWith("#")&&(a=`#${a.split("#")[1]}`),t=a&&"#"!==a?a.trim():null}return t?t.split(",").map((e=>s(e))).join(","):null},H={find:(e,t=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(t,e)),findOne:(e,t=document.documentElement)=>Element.prototype.querySelector.call(t,e),children:(e,t)=>[].concat(...e.children).filter((e=>e.matches(t))),parents(e,t){const a=[];let s=e.parentNode.closest(t);for(;s;)a.push(s),s=s.parentNode.closest(t);return a},prev(e,t){let a=e.previousElementSibling;for(;a;){if(a.matches(t))return[a];a=a.previousElementSibling}return[]},next(e,t){let a=e.nextElementSibling;for(;a;){if(a.matches(t))return[a];a=a.nextElementSibling}return[]},focusableChildren(e){const t=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map((e=>`${e}:not([tabindex^="-"])`)).join(",");return this.find(t,e).filter((e=>!r(e)&&l(e)))},getSelectorFromElement(e){const t=V(e);return t&&H.findOne(t)?t:null},getElementFromSelector(e){const t=V(e);return t?H.findOne(t):null},getMultipleElementsFromSelector(e){const t=V(e);return t?H.find(t):[]}},F=(e,t="hide")=>{const a=`click.dismiss${e.EVENT_KEY}`,s=e.NAME;$.on(document,a,`[data-bs-dismiss="${s}"]`,(function(a){if(["A","AREA"].includes(this.tagName)&&a.preventDefault(),r(this))return;const n=H.getElementFromSelector(this)||this.closest(`.${s}`);e.getOrCreateInstance(n)[t]()}))},W=".bs.alert",U=`close${W}`,G=`closed${W}`;class q extends z{static get NAME(){return"alert"}close(){if($.trigger(this._element,U).defaultPrevented)return;this._element.classList.remove("show");const e=this._element.classList.contains("fade");this._queueCallback((()=>this._destroyElement()),this._element,e)}_destroyElement(){this._element.remove(),$.trigger(this._element,G),this.dispose()}static jQueryInterface(e){return this.each((function(){const t=q.getOrCreateInstance(this);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e](this)}}))}}F(q,"close"),m(q);const K='[data-bs-toggle="button"]';class Y extends z{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(e){return this.each((function(){const t=Y.getOrCreateInstance(this);"toggle"===e&&t[e]()}))}}$.on(document,"click.bs.button.data-api",K,(e=>{e.preventDefault();const t=e.target.closest(K);Y.getOrCreateInstance(t).toggle()})),m(Y);const X=".bs.swipe",Q=`touchstart${X}`,J=`touchmove${X}`,Z=`touchend${X}`,ee=`pointerdown${X}`,te=`pointerup${X}`,ae={endCallback:null,leftCallback:null,rightCallback:null},se={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class ne extends j{constructor(e,t){super(),this._element=e,e&&ne.isSupported()&&(this._config=this._getConfig(t),this._deltaX=0,this._supportPointerEvents=Boolean(window.PointerEvent),this._initEvents())}static get Default(){return ae}static get DefaultType(){return se}static get NAME(){return"swipe"}dispose(){$.off(this._element,X)}_start(e){this._supportPointerEvents?this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX):this._deltaX=e.touches[0].clientX}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),g(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){const e=Math.abs(this._deltaX);if(e<=40)return;const t=e/this._deltaX;this._deltaX=0,t&&g(t>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?($.on(this._element,ee,(e=>this._start(e))),$.on(this._element,te,(e=>this._end(e))),this._element.classList.add("pointer-event")):($.on(this._element,Q,(e=>this._start(e))),$.on(this._element,J,(e=>this._move(e))),$.on(this._element,Z,(e=>this._end(e))))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&("pen"===e.pointerType||"touch"===e.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const ie=".bs.carousel",oe=".data-api",le="ArrowLeft",re="ArrowRight",ce="next",ue="prev",de="left",he="right",pe=`slide${ie}`,fe=`slid${ie}`,me=`keydown${ie}`,ge=`mouseenter${ie}`,ve=`mouseleave${ie}`,be=`dragstart${ie}`,ye=`load${ie}${oe}`,_e=`click${ie}${oe}`,we="carousel",xe="active",Se=".active",ke=".carousel-item",Ce=Se+ke,Te={[le]:he,[re]:de},Be={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Ae={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Ie extends z{constructor(e,t){super(e,t),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=H.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===we&&this.cycle()}static get Default(){return Be}static get DefaultType(){return Ae}static get NAME(){return"carousel"}next(){this._slide(ce)}nextWhenVisible(){!document.hidden&&l(this._element)&&this.next()}prev(){this._slide(ue)}pause(){this._isSliding&&n(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval((()=>this.nextWhenVisible()),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?$.one(this._element,fe,(()=>this.cycle())):this.cycle())}to(e){const t=this._getItems();if(e>t.length-1||e<0)return;if(this._isSliding)return void $.one(this._element,fe,(()=>this.to(e)));const a=this._getItemIndex(this._getActive());if(a===e)return;const s=e>a?ce:ue;this._slide(s,t[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&$.on(this._element,me,(e=>this._keydown(e))),"hover"===this._config.pause&&($.on(this._element,ge,(()=>this.pause())),$.on(this._element,ve,(()=>this._maybeEnableCycle()))),this._config.touch&&ne.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const t of H.find(".carousel-item img",this._element))$.on(t,be,(e=>e.preventDefault()));const e={leftCallback:()=>this._slide(this._directionToOrder(de)),rightCallback:()=>this._slide(this._directionToOrder(he)),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout((()=>this._maybeEnableCycle()),500+this._config.interval))}};this._swipeHelper=new ne(this._element,e)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const t=Te[e.key];t&&(e.preventDefault(),this._slide(this._directionToOrder(t)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;const t=H.findOne(Se,this._indicatorsElement);t.classList.remove(xe),t.removeAttribute("aria-current");const a=H.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);a&&(a.classList.add(xe),a.setAttribute("aria-current","true"))}_updateInterval(){const e=this._activeElement||this._getActive();if(!e)return;const t=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=t||this._config.defaultInterval}_slide(e,t=null){if(this._isSliding)return;const a=this._getActive(),s=e===ce,n=t||b(this._getItems(),a,s,this._config.wrap);if(n===a)return;const i=this._getItemIndex(n),o=t=>$.trigger(this._element,t,{relatedTarget:n,direction:this._orderToDirection(e),from:this._getItemIndex(a),to:i});if(o(pe).defaultPrevented)return;if(!a||!n)return;const l=Boolean(this._interval);this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(i),this._activeElement=n;const r=s?"carousel-item-start":"carousel-item-end",c=s?"carousel-item-next":"carousel-item-prev";n.classList.add(c),d(n),a.classList.add(r),n.classList.add(r),this._queueCallback((()=>{n.classList.remove(r,c),n.classList.add(xe),a.classList.remove(xe,c,r),this._isSliding=!1,o(fe)}),a,this._isAnimated()),l&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return H.findOne(Ce,this._element)}_getItems(){return H.find(ke,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return f()?e===de?ue:ce:e===de?ce:ue}_orderToDirection(e){return f()?e===ue?de:he:e===ue?he:de}static jQueryInterface(e){return this.each((function(){const t=Ie.getOrCreateInstance(this,e);if("number"!=typeof e){if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e]()}}else t.to(e)}))}}$.on(document,_e,"[data-bs-slide], [data-bs-slide-to]",(function(e){const t=H.getElementFromSelector(this);if(!t||!t.classList.contains(we))return;e.preventDefault();const a=Ie.getOrCreateInstance(t),s=this.getAttribute("data-bs-slide-to");return s?(a.to(s),void a._maybeEnableCycle()):"next"===R.getDataAttribute(this,"slide")?(a.next(),void a._maybeEnableCycle()):(a.prev(),void a._maybeEnableCycle())})),$.on(window,ye,(()=>{const e=H.find('[data-bs-ride="carousel"]');for(const t of e)Ie.getOrCreateInstance(t)})),m(Ie);const Ee=".bs.collapse",Pe=`show${Ee}`,Oe=`shown${Ee}`,De=`hide${Ee}`,$e=`hidden${Ee}`,Me=`click${Ee}.data-api`,Le="show",Ne="collapse",Re="collapsing",je=`:scope .${Ne} .${Ne}`,ze='[data-bs-toggle="collapse"]',Ve={parent:null,toggle:!0},He={parent:"(null|element)",toggle:"boolean"};class Fe extends z{constructor(e,t){super(e,t),this._isTransitioning=!1,this._triggerArray=[];const a=H.find(ze);for(const s of a){const e=H.getSelectorFromElement(s),t=H.find(e).filter((e=>e===this._element));null!==e&&t.length&&this._triggerArray.push(s)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Ve}static get DefaultType(){return He}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter((e=>e!==this._element)).map((e=>Fe.getOrCreateInstance(e,{toggle:!1})))),e.length&&e[0]._isTransitioning)return;if($.trigger(this._element,Pe).defaultPrevented)return;for(const s of e)s.hide();const t=this._getDimension();this._element.classList.remove(Ne),this._element.classList.add(Re),this._element.style[t]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const a=`scroll${t[0].toUpperCase()+t.slice(1)}`;this._queueCallback((()=>{this._isTransitioning=!1,this._element.classList.remove(Re),this._element.classList.add(Ne,Le),this._element.style[t]="",$.trigger(this._element,Oe)}),this._element,!0),this._element.style[t]=`${this._element[a]}px`}hide(){if(this._isTransitioning||!this._isShown())return;if($.trigger(this._element,De).defaultPrevented)return;const e=this._getDimension();this._element.style[e]=`${this._element.getBoundingClientRect()[e]}px`,d(this._element),this._element.classList.add(Re),this._element.classList.remove(Ne,Le);for(const t of this._triggerArray){const e=H.getElementFromSelector(t);e&&!this._isShown(e)&&this._addAriaAndCollapsedClass([t],!1)}this._isTransitioning=!0,this._element.style[e]="",this._queueCallback((()=>{this._isTransitioning=!1,this._element.classList.remove(Re),this._element.classList.add(Ne),$.trigger(this._element,$e)}),this._element,!0)}_isShown(e=this._element){return e.classList.contains(Le)}_configAfterMerge(e){return e.toggle=Boolean(e.toggle),e.parent=o(e.parent),e}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren(ze);for(const t of e){const e=H.getElementFromSelector(t);e&&this._addAriaAndCollapsedClass([t],this._isShown(e))}}_getFirstLevelChildren(e){const t=H.find(je,this._config.parent);return H.find(e,this._config.parent).filter((e=>!t.includes(e)))}_addAriaAndCollapsedClass(e,t){if(e.length)for(const a of e)a.classList.toggle("collapsed",!t),a.setAttribute("aria-expanded",t)}static jQueryInterface(e){const t={};return"string"==typeof e&&/show|hide/.test(e)&&(t.toggle=!1),this.each((function(){const a=Fe.getOrCreateInstance(this,t);if("string"==typeof e){if(void 0===a[e])throw new TypeError(`No method named "${e}"`);a[e]()}}))}}$.on(document,Me,ze,(function(e){("A"===e.target.tagName||e.delegateTarget&&"A"===e.delegateTarget.tagName)&&e.preventDefault();for(const t of H.getMultipleElementsFromSelector(this))Fe.getOrCreateInstance(t,{toggle:!1}).toggle()})),m(Fe);var We="top",Ue="bottom",Ge="right",qe="left",Ke="auto",Ye=[We,Ue,Ge,qe],Xe="start",Qe="end",Je="clippingParents",Ze="viewport",et="popper",tt="reference",at=Ye.reduce((function(e,t){return e.concat([t+"-"+Xe,t+"-"+Qe])}),[]),st=[].concat(Ye,[Ke]).reduce((function(e,t){return e.concat([t,t+"-"+Xe,t+"-"+Qe])}),[]),nt="beforeRead",it="read",ot="afterRead",lt="beforeMain",rt="main",ct="afterMain",ut="beforeWrite",dt="write",ht="afterWrite",pt=[nt,it,ot,lt,rt,ct,ut,dt,ht];function ft(e){return e?(e.nodeName||"").toLowerCase():null}function mt(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function gt(e){return e instanceof mt(e).Element||e instanceof Element}function vt(e){return e instanceof mt(e).HTMLElement||e instanceof HTMLElement}function bt(e){return"undefined"!=typeof ShadowRoot&&(e instanceof mt(e).ShadowRoot||e instanceof ShadowRoot)}const yt={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var a=t.styles[e]||{},s=t.attributes[e]||{},n=t.elements[e];vt(n)&&ft(n)&&(Object.assign(n.style,a),Object.keys(s).forEach((function(e){var t=s[e];!1===t?n.removeAttribute(e):n.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,a={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,a.popper),t.styles=a,t.elements.arrow&&Object.assign(t.elements.arrow.style,a.arrow),function(){Object.keys(t.elements).forEach((function(e){var s=t.elements[e],n=t.attributes[e]||{},i=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:a[e]).reduce((function(e,t){return e[t]="",e}),{});vt(s)&&ft(s)&&(Object.assign(s.style,i),Object.keys(n).forEach((function(e){s.removeAttribute(e)})))}))}},requires:["computeStyles"]};function _t(e){return e.split("-")[0]}var wt=Math.max,xt=Math.min,St=Math.round;function kt(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function Ct(){return!/^((?!chrome|android).)*safari/i.test(kt())}function Tt(e,t,a){void 0===t&&(t=!1),void 0===a&&(a=!1);var s=e.getBoundingClientRect(),n=1,i=1;t&&vt(e)&&(n=e.offsetWidth>0&&St(s.width)/e.offsetWidth||1,i=e.offsetHeight>0&&St(s.height)/e.offsetHeight||1);var o=(gt(e)?mt(e):window).visualViewport,l=!Ct()&&a,r=(s.left+(l&&o?o.offsetLeft:0))/n,c=(s.top+(l&&o?o.offsetTop:0))/i,u=s.width/n,d=s.height/i;return{width:u,height:d,top:c,right:r+u,bottom:c+d,left:r,x:r,y:c}}function Bt(e){var t=Tt(e),a=e.offsetWidth,s=e.offsetHeight;return Math.abs(t.width-a)<=1&&(a=t.width),Math.abs(t.height-s)<=1&&(s=t.height),{x:e.offsetLeft,y:e.offsetTop,width:a,height:s}}function At(e,t){var a=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(a&&bt(a)){var s=t;do{if(s&&e.isSameNode(s))return!0;s=s.parentNode||s.host}while(s)}return!1}function It(e){return mt(e).getComputedStyle(e)}function Et(e){return["table","td","th"].indexOf(ft(e))>=0}function Pt(e){return((gt(e)?e.ownerDocument:e.document)||window.document).documentElement}function Ot(e){return"html"===ft(e)?e:e.assignedSlot||e.parentNode||(bt(e)?e.host:null)||Pt(e)}function Dt(e){return vt(e)&&"fixed"!==It(e).position?e.offsetParent:null}function $t(e){for(var t=mt(e),a=Dt(e);a&&Et(a)&&"static"===It(a).position;)a=Dt(a);return a&&("html"===ft(a)||"body"===ft(a)&&"static"===It(a).position)?t:a||function(e){var t=/firefox/i.test(kt());if(/Trident/i.test(kt())&&vt(e)&&"fixed"===It(e).position)return null;var a=Ot(e);for(bt(a)&&(a=a.host);vt(a)&&["html","body"].indexOf(ft(a))<0;){var s=It(a);if("none"!==s.transform||"none"!==s.perspective||"paint"===s.contain||-1!==["transform","perspective"].indexOf(s.willChange)||t&&"filter"===s.willChange||t&&s.filter&&"none"!==s.filter)return a;a=a.parentNode}return null}(e)||t}function Mt(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Lt(e,t,a){return wt(e,xt(t,a))}function Nt(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function Rt(e,t){return t.reduce((function(t,a){return t[a]=e,t}),{})}const jt={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,a,s,n=e.state,i=e.name,o=e.options,l=n.elements.arrow,r=n.modifiersData.popperOffsets,c=_t(n.placement),u=Mt(c),d=[qe,Ge].indexOf(c)>=0?"height":"width";if(l&&r){var h=(s=n,Nt("number"!=typeof(a="function"==typeof(a=o.padding)?a(Object.assign({},s.rects,{placement:s.placement})):a)?a:Rt(a,Ye))),p=Bt(l),f="y"===u?We:qe,m="y"===u?Ue:Ge,g=n.rects.reference[d]+n.rects.reference[u]-r[u]-n.rects.popper[d],v=r[u]-n.rects.reference[u],b=$t(l),y=b?"y"===u?b.clientHeight||0:b.clientWidth||0:0,_=g/2-v/2,w=h[f],x=y-p[d]-h[m],S=y/2-p[d]/2+_,k=Lt(w,S,x),C=u;n.modifiersData[i]=((t={})[C]=k,t.centerOffset=k-S,t)}},effect:function(e){var t=e.state,a=e.options.element,s=void 0===a?"[data-popper-arrow]":a;null!=s&&("string"!=typeof s||(s=t.elements.popper.querySelector(s)))&&At(t.elements.popper,s)&&(t.elements.arrow=s)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function zt(e){return e.split("-")[1]}var Vt={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Ht(e){var t,a=e.popper,s=e.popperRect,n=e.placement,i=e.variation,o=e.offsets,l=e.position,r=e.gpuAcceleration,c=e.adaptive,u=e.roundOffsets,d=e.isFixed,h=o.x,p=void 0===h?0:h,f=o.y,m=void 0===f?0:f,g="function"==typeof u?u({x:p,y:m}):{x:p,y:m};p=g.x,m=g.y;var v=o.hasOwnProperty("x"),b=o.hasOwnProperty("y"),y=qe,_=We,w=window;if(c){var x=$t(a),S="clientHeight",k="clientWidth";x===mt(a)&&"static"!==It(x=Pt(a)).position&&"absolute"===l&&(S="scrollHeight",k="scrollWidth"),(n===We||(n===qe||n===Ge)&&i===Qe)&&(_=Ue,m-=(d&&x===w&&w.visualViewport?w.visualViewport.height:x[S])-s.height,m*=r?1:-1),n!==qe&&(n!==We&&n!==Ue||i!==Qe)||(y=Ge,p-=(d&&x===w&&w.visualViewport?w.visualViewport.width:x[k])-s.width,p*=r?1:-1)}var C,T,B,A,I,E,P=Object.assign({position:l},c&&Vt),O=!0===u?(T={x:p,y:m},B=mt(a),A=T.x,I=T.y,E=B.devicePixelRatio||1,{x:St(A*E)/E||0,y:St(I*E)/E||0}):{x:p,y:m};return p=O.x,m=O.y,r?Object.assign({},P,((C={})[_]=b?"0":"",C[y]=v?"0":"",C.transform=(w.devicePixelRatio||1)<=1?"translate("+p+"px, "+m+"px)":"translate3d("+p+"px, "+m+"px, 0)",C)):Object.assign({},P,((t={})[_]=b?m+"px":"",t[y]=v?p+"px":"",t.transform="",t))}const Ft={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,a=e.options,s=a.gpuAcceleration,n=void 0===s||s,i=a.adaptive,o=void 0===i||i,l=a.roundOffsets,r=void 0===l||l,c={placement:_t(t.placement),variation:zt(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:n,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,Ht(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:r})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,Ht(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:r})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}};var Wt={passive:!0};const Ut={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,a=e.instance,s=e.options,n=s.scroll,i=void 0===n||n,o=s.resize,l=void 0===o||o,r=mt(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&c.forEach((function(e){e.addEventListener("scroll",a.update,Wt)})),l&&r.addEventListener("resize",a.update,Wt),function(){i&&c.forEach((function(e){e.removeEventListener("scroll",a.update,Wt)})),l&&r.removeEventListener("resize",a.update,Wt)}},data:{}};var Gt={left:"right",right:"left",bottom:"top",top:"bottom"};function qt(e){return e.replace(/left|right|bottom|top/g,(function(e){return Gt[e]}))}var Kt={start:"end",end:"start"};function Yt(e){return e.replace(/start|end/g,(function(e){return Kt[e]}))}function Xt(e){var t=mt(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Qt(e){return Tt(Pt(e)).left+Xt(e).scrollLeft}function Jt(e){var t=It(e),a=t.overflow,s=t.overflowX,n=t.overflowY;return/auto|scroll|overlay|hidden/.test(a+n+s)}function Zt(e){return["html","body","#document"].indexOf(ft(e))>=0?e.ownerDocument.body:vt(e)&&Jt(e)?e:Zt(Ot(e))}function ea(e,t){var a;void 0===t&&(t=[]);var s=Zt(e),n=s===(null==(a=e.ownerDocument)?void 0:a.body),i=mt(s),o=n?[i].concat(i.visualViewport||[],Jt(s)?s:[]):s,l=t.concat(o);return n?l:l.concat(ea(Ot(o)))}function ta(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function aa(e,t,a){return t===Ze?ta(function(e,t){var a=mt(e),s=Pt(e),n=a.visualViewport,i=s.clientWidth,o=s.clientHeight,l=0,r=0;if(n){i=n.width,o=n.height;var c=Ct();(c||!c&&"fixed"===t)&&(l=n.offsetLeft,r=n.offsetTop)}return{width:i,height:o,x:l+Qt(e),y:r}}(e,a)):gt(t)?((n=Tt(s=t,!1,"fixed"===a)).top=n.top+s.clientTop,n.left=n.left+s.clientLeft,n.bottom=n.top+s.clientHeight,n.right=n.left+s.clientWidth,n.width=s.clientWidth,n.height=s.clientHeight,n.x=n.left,n.y=n.top,n):ta(function(e){var t,a=Pt(e),s=Xt(e),n=null==(t=e.ownerDocument)?void 0:t.body,i=wt(a.scrollWidth,a.clientWidth,n?n.scrollWidth:0,n?n.clientWidth:0),o=wt(a.scrollHeight,a.clientHeight,n?n.scrollHeight:0,n?n.clientHeight:0),l=-s.scrollLeft+Qt(e),r=-s.scrollTop;return"rtl"===It(n||a).direction&&(l+=wt(a.clientWidth,n?n.clientWidth:0)-i),{width:i,height:o,x:l,y:r}}(Pt(e)));var s,n}function sa(e){var t,a=e.reference,s=e.element,n=e.placement,i=n?_t(n):null,o=n?zt(n):null,l=a.x+a.width/2-s.width/2,r=a.y+a.height/2-s.height/2;switch(i){case We:t={x:l,y:a.y-s.height};break;case Ue:t={x:l,y:a.y+a.height};break;case Ge:t={x:a.x+a.width,y:r};break;case qe:t={x:a.x-s.width,y:r};break;default:t={x:a.x,y:a.y}}var c=i?Mt(i):null;if(null!=c){var u="y"===c?"height":"width";switch(o){case Xe:t[c]=t[c]-(a[u]/2-s[u]/2);break;case Qe:t[c]=t[c]+(a[u]/2-s[u]/2)}}return t}function na(e,t){void 0===t&&(t={});var a,s,n,i,o,l,r,c,u,d,h,p=t,f=p.placement,m=void 0===f?e.placement:f,g=p.strategy,v=void 0===g?e.strategy:g,b=p.boundary,y=void 0===b?Je:b,_=p.rootBoundary,w=void 0===_?Ze:_,x=p.elementContext,S=void 0===x?et:x,k=p.altBoundary,C=void 0!==k&&k,T=p.padding,B=void 0===T?0:T,A=Nt("number"!=typeof B?B:Rt(B,Ye)),I=S===et?tt:et,E=e.rects.popper,P=e.elements[C?I:S],O=(a=gt(P)?P:P.contextElement||Pt(e.elements.popper),n=w,i=v,c="clippingParents"===(s=y)?(l=ea(Ot(o=a)),gt(r=["absolute","fixed"].indexOf(It(o).position)>=0&&vt(o)?$t(o):o)?l.filter((function(e){return gt(e)&&At(e,r)&&"body"!==ft(e)})):[]):[].concat(s),d=(u=[].concat(c,[n]))[0],h=u.reduce((function(e,t){var s=aa(a,t,i);return e.top=wt(s.top,e.top),e.right=xt(s.right,e.right),e.bottom=xt(s.bottom,e.bottom),e.left=wt(s.left,e.left),e}),aa(a,d,i)),h.width=h.right-h.left,h.height=h.bottom-h.top,h.x=h.left,h.y=h.top,h),D=Tt(e.elements.reference),$=sa({reference:D,element:E,placement:m}),M=ta(Object.assign({},E,$)),L=S===et?M:D,N={top:O.top-L.top+A.top,bottom:L.bottom-O.bottom+A.bottom,left:O.left-L.left+A.left,right:L.right-O.right+A.right},R=e.modifiersData.offset;if(S===et&&R){var j=R[m];Object.keys(N).forEach((function(e){var t=[Ge,Ue].indexOf(e)>=0?1:-1,a=[We,Ue].indexOf(e)>=0?"y":"x";N[e]+=j[a]*t}))}return N}const ia={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,a=e.options,s=e.name;if(!t.modifiersData[s]._skip){for(var n=a.mainAxis,i=void 0===n||n,o=a.altAxis,l=void 0===o||o,r=a.fallbackPlacements,c=a.padding,u=a.boundary,d=a.rootBoundary,h=a.altBoundary,p=a.flipVariations,f=void 0===p||p,m=a.allowedAutoPlacements,g=t.options.placement,v=_t(g),b=r||(v!==g&&f?function(e){if(_t(e)===Ke)return[];var t=qt(e);return[Yt(e),t,Yt(t)]}(g):[qt(g)]),y=[g].concat(b).reduce((function(e,a){return e.concat(_t(a)===Ke?function(e,t){void 0===t&&(t={});var a=t,s=a.placement,n=a.boundary,i=a.rootBoundary,o=a.padding,l=a.flipVariations,r=a.allowedAutoPlacements,c=void 0===r?st:r,u=zt(s),d=u?l?at:at.filter((function(e){return zt(e)===u})):Ye,h=d.filter((function(e){return c.indexOf(e)>=0}));0===h.length&&(h=d);var p=h.reduce((function(t,a){return t[a]=na(e,{placement:a,boundary:n,rootBoundary:i,padding:o})[_t(a)],t}),{});return Object.keys(p).sort((function(e,t){return p[e]-p[t]}))}(t,{placement:a,boundary:u,rootBoundary:d,padding:c,flipVariations:f,allowedAutoPlacements:m}):a)}),[]),_=t.rects.reference,w=t.rects.popper,x=new Map,S=!0,k=y[0],C=0;C<y.length;C++){var T=y[C],B=_t(T),A=zt(T)===Xe,I=[We,Ue].indexOf(B)>=0,E=I?"width":"height",P=na(t,{placement:T,boundary:u,rootBoundary:d,altBoundary:h,padding:c}),O=I?A?Ge:qe:A?Ue:We;_[E]>w[E]&&(O=qt(O));var D=qt(O),$=[];if(i&&$.push(P[B]<=0),l&&$.push(P[O]<=0,P[D]<=0),$.every((function(e){return e}))){k=T,S=!1;break}x.set(T,$)}if(S)for(var M=function(e){var t=y.find((function(t){var a=x.get(t);if(a)return a.slice(0,e).every((function(e){return e}))}));if(t)return k=t,"break"},L=f?3:1;L>0&&"break"!==M(L);L--);t.placement!==k&&(t.modifiersData[s]._skip=!0,t.placement=k,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function oa(e,t,a){return void 0===a&&(a={x:0,y:0}),{top:e.top-t.height-a.y,right:e.right-t.width+a.x,bottom:e.bottom-t.height+a.y,left:e.left-t.width-a.x}}function la(e){return[We,Ge,Ue,qe].some((function(t){return e[t]>=0}))}const ra={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,a=e.name,s=t.rects.reference,n=t.rects.popper,i=t.modifiersData.preventOverflow,o=na(t,{elementContext:"reference"}),l=na(t,{altBoundary:!0}),r=oa(o,s),c=oa(l,n,i),u=la(r),d=la(c);t.modifiersData[a]={referenceClippingOffsets:r,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}},ca={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,a=e.options,s=e.name,n=a.offset,i=void 0===n?[0,0]:n,o=st.reduce((function(e,a){return e[a]=(s=a,n=t.rects,o=i,l=_t(s),r=[qe,We].indexOf(l)>=0?-1:1,u=(u=(c="function"==typeof o?o(Object.assign({},n,{placement:s})):o)[0])||0,d=((d=c[1])||0)*r,[qe,Ge].indexOf(l)>=0?{x:d,y:u}:{x:u,y:d}),e;var s,n,o,l,r,c,u,d}),{}),l=o[t.placement],r=l.x,c=l.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=r,t.modifiersData.popperOffsets.y+=c),t.modifiersData[s]=o}},ua={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,a=e.name;t.modifiersData[a]=sa({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})},data:{}},da={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t,a,s=e.state,n=e.options,i=e.name,o=n.mainAxis,l=void 0===o||o,r=n.altAxis,c=void 0!==r&&r,u=n.boundary,d=n.rootBoundary,h=n.altBoundary,p=n.padding,f=n.tether,m=void 0===f||f,g=n.tetherOffset,v=void 0===g?0:g,b=na(s,{boundary:u,rootBoundary:d,padding:p,altBoundary:h}),y=_t(s.placement),_=zt(s.placement),w=!_,x=Mt(y),S="x"===x?"y":"x",k=s.modifiersData.popperOffsets,C=s.rects.reference,T=s.rects.popper,B="function"==typeof v?v(Object.assign({},s.rects,{placement:s.placement})):v,A="number"==typeof B?{mainAxis:B,altAxis:B}:Object.assign({mainAxis:0,altAxis:0},B),I=s.modifiersData.offset?s.modifiersData.offset[s.placement]:null,E={x:0,y:0};if(k){if(l){var P,O="y"===x?We:qe,D="y"===x?Ue:Ge,$="y"===x?"height":"width",M=k[x],L=M+b[O],N=M-b[D],R=m?-T[$]/2:0,j=_===Xe?C[$]:T[$],z=_===Xe?-T[$]:-C[$],V=s.elements.arrow,H=m&&V?Bt(V):{width:0,height:0},F=s.modifiersData["arrow#persistent"]?s.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},W=F[O],U=F[D],G=Lt(0,C[$],H[$]),q=w?C[$]/2-R-G-W-A.mainAxis:j-G-W-A.mainAxis,K=w?-C[$]/2+R+G+U+A.mainAxis:z+G+U+A.mainAxis,Y=s.elements.arrow&&$t(s.elements.arrow),X=Y?"y"===x?Y.clientTop||0:Y.clientLeft||0:0,Q=null!=(P=null==I?void 0:I[x])?P:0,J=M+K-Q,Z=Lt(m?xt(L,M+q-Q-X):L,M,m?wt(N,J):N);k[x]=Z,E[x]=Z-M}if(c){var ee,te="x"===x?We:qe,ae="x"===x?Ue:Ge,se=k[S],ne="y"===S?"height":"width",ie=se+b[te],oe=se-b[ae],le=-1!==[We,qe].indexOf(y),re=null!=(ee=null==I?void 0:I[S])?ee:0,ce=le?ie:se-C[ne]-T[ne]-re+A.altAxis,ue=le?se+C[ne]+T[ne]-re-A.altAxis:oe,de=m&&le?(a=Lt(ce,se,t=ue))>t?t:a:Lt(m?ce:ie,se,m?ue:oe);k[S]=de,E[S]=de-se}s.modifiersData[i]=E}},requiresIfExists:["offset"]};function ha(e,t,a){void 0===a&&(a=!1);var s,n,i,o,l,r,c=vt(t),u=vt(t)&&(o=(i=t).getBoundingClientRect(),l=St(o.width)/i.offsetWidth||1,r=St(o.height)/i.offsetHeight||1,1!==l||1!==r),d=Pt(t),h=Tt(e,u,a),p={scrollLeft:0,scrollTop:0},f={x:0,y:0};return(c||!c&&!a)&&(("body"!==ft(t)||Jt(d))&&(p=(s=t)!==mt(s)&&vt(s)?{scrollLeft:(n=s).scrollLeft,scrollTop:n.scrollTop}:Xt(s)),vt(t)?((f=Tt(t,!0)).x+=t.clientLeft,f.y+=t.clientTop):d&&(f.x=Qt(d))),{x:h.left+p.scrollLeft-f.x,y:h.top+p.scrollTop-f.y,width:h.width,height:h.height}}function pa(e){var t=new Map,a=new Set,s=[];function n(e){a.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!a.has(e)){var s=t.get(e);s&&n(s)}})),s.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){a.has(e.name)||n(e)})),s}var fa={placement:"bottom",modifiers:[],strategy:"absolute"};function ma(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function ga(e){void 0===e&&(e={});var t=e,a=t.defaultModifiers,s=void 0===a?[]:a,n=t.defaultOptions,i=void 0===n?fa:n;return function(e,t,a){void 0===a&&(a=i);var n,o,l={placement:"bottom",orderedModifiers:[],options:Object.assign({},fa,i),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},r=[],c=!1,u={state:l,setOptions:function(a){var n="function"==typeof a?a(l.options):a;d(),l.options=Object.assign({},i,l.options,n),l.scrollParents={reference:gt(e)?ea(e):e.contextElement?ea(e.contextElement):[],popper:ea(t)};var o,c,h,p,f=(o=[].concat(s,l.options.modifiers),c=o.reduce((function(e,t){var a=e[t.name];return e[t.name]=a?Object.assign({},a,t,{options:Object.assign({},a.options,t.options),data:Object.assign({},a.data,t.data)}):t,e}),{}),h=Object.keys(c).map((function(e){return c[e]})),p=pa(h),pt.reduce((function(e,t){return e.concat(p.filter((function(e){return e.phase===t})))}),[]));return l.orderedModifiers=f.filter((function(e){return e.enabled})),l.orderedModifiers.forEach((function(e){var t=e.name,a=e.options,s=void 0===a?{}:a,n=e.effect;if("function"==typeof n){var i=n({state:l,name:t,instance:u,options:s});r.push(i||function(){})}})),u.update()},forceUpdate:function(){if(!c){var e=l.elements,t=e.reference,a=e.popper;if(ma(t,a)){l.rects={reference:ha(t,$t(a),"fixed"===l.options.strategy),popper:Bt(a)},l.reset=!1,l.placement=l.options.placement,l.orderedModifiers.forEach((function(e){return l.modifiersData[e.name]=Object.assign({},e.data)}));for(var s=0;s<l.orderedModifiers.length;s++)if(!0!==l.reset){var n=l.orderedModifiers[s],i=n.fn,o=n.options,r=void 0===o?{}:o,d=n.name;"function"==typeof i&&(l=i({state:l,options:r,name:d,instance:u})||l)}else l.reset=!1,s=-1}}},update:(n=function(){return new Promise((function(e){u.forceUpdate(),e(l)}))},function(){return o||(o=new Promise((function(e){Promise.resolve().then((function(){o=void 0,e(n())}))}))),o}),destroy:function(){d(),c=!0}};if(!ma(e,t))return u;function d(){r.forEach((function(e){return e()})),r=[]}return u.setOptions(a).then((function(e){!c&&a.onFirstUpdate&&a.onFirstUpdate(e)})),u}}var va=ga(),ba=ga({defaultModifiers:[Ut,ua,Ft,yt]}),ya=ga({defaultModifiers:[Ut,ua,Ft,yt,ca,ia,da,jt,ra]});const _a=Object.freeze(Object.defineProperty({__proto__:null,afterMain:ct,afterRead:ot,afterWrite:ht,applyStyles:yt,arrow:jt,auto:Ke,basePlacements:Ye,beforeMain:lt,beforeRead:nt,beforeWrite:ut,bottom:Ue,clippingParents:Je,computeStyles:Ft,createPopper:ya,createPopperBase:va,createPopperLite:ba,detectOverflow:na,end:Qe,eventListeners:Ut,flip:ia,hide:ra,left:qe,main:rt,modifierPhases:pt,offset:ca,placements:st,popper:et,popperGenerator:ga,popperOffsets:ua,preventOverflow:da,read:it,reference:tt,right:Ge,start:Xe,top:We,variationPlacements:at,viewport:Ze,write:dt},Symbol.toStringTag,{value:"Module"})),wa="dropdown",xa=".bs.dropdown",Sa=".data-api",ka="ArrowUp",Ca="ArrowDown",Ta=`hide${xa}`,Ba=`hidden${xa}`,Aa=`show${xa}`,Ia=`shown${xa}`,Ea=`click${xa}${Sa}`,Pa=`keydown${xa}${Sa}`,Oa=`keyup${xa}${Sa}`,Da="show",$a='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',Ma=`${$a}.${Da}`,La=".dropdown-menu",Na=f()?"top-end":"top-start",Ra=f()?"top-start":"top-end",ja=f()?"bottom-end":"bottom-start",za=f()?"bottom-start":"bottom-end",Va=f()?"left-start":"right-start",Ha=f()?"right-start":"left-start",Fa={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Wa={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Ua extends z{constructor(e,t){super(e,t),this._popper=null,this._parent=this._element.parentNode,this._menu=H.next(this._element,La)[0]||H.prev(this._element,La)[0]||H.findOne(La,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Fa}static get DefaultType(){return Wa}static get NAME(){return wa}toggle(){return this._isShown()?this.hide():this.show()}show(){if(r(this._element)||this._isShown())return;const e={relatedTarget:this._element};if(!$.trigger(this._element,Aa,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const e of[].concat(...document.body.children))$.on(e,"mouseover",u);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Da),this._element.classList.add(Da),$.trigger(this._element,Ia,e)}}hide(){if(r(this._element)||!this._isShown())return;const e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!$.trigger(this._element,Ta,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(const e of[].concat(...document.body.children))$.off(e,"mouseover",u);this._popper&&this._popper.destroy(),this._menu.classList.remove(Da),this._element.classList.remove(Da),this._element.setAttribute("aria-expanded","false"),R.removeDataAttribute(this._menu,"popper"),$.trigger(this._element,Ba,e)}}_getConfig(e){if("object"==typeof(e=super._getConfig(e)).reference&&!i(e.reference)&&"function"!=typeof e.reference.getBoundingClientRect)throw new TypeError(`${wa.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(void 0===_a)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let e=this._element;"parent"===this._config.reference?e=this._parent:i(this._config.reference)?e=o(this._config.reference):"object"==typeof this._config.reference&&(e=this._config.reference);const t=this._getPopperConfig();this._popper=ya(e,this._menu,t)}_isShown(){return this._menu.classList.contains(Da)}_getPlacement(){const e=this._parent;if(e.classList.contains("dropend"))return Va;if(e.classList.contains("dropstart"))return Ha;if(e.classList.contains("dropup-center"))return"top";if(e.classList.contains("dropdown-center"))return"bottom";const t="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return e.classList.contains("dropup")?t?Ra:Na:t?za:ja}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:e}=this._config;return"string"==typeof e?e.split(",").map((e=>Number.parseInt(e,10))):"function"==typeof e?t=>e(t,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(R.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...g(this._config.popperConfig,[void 0,e])}}_selectMenuItem({key:e,target:t}){const a=H.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter((e=>l(e)));a.length&&b(a,t,e===Ca,!a.includes(t)).focus()}static jQueryInterface(e){return this.each((function(){const t=Ua.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e]()}}))}static clearMenus(e){if(2===e.button||"keyup"===e.type&&"Tab"!==e.key)return;const t=H.find(Ma);for(const a of t){const t=Ua.getInstance(a);if(!t||!1===t._config.autoClose)continue;const s=e.composedPath(),n=s.includes(t._menu);if(s.includes(t._element)||"inside"===t._config.autoClose&&!n||"outside"===t._config.autoClose&&n)continue;if(t._menu.contains(e.target)&&("keyup"===e.type&&"Tab"===e.key||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;const i={relatedTarget:t._element};"click"===e.type&&(i.clickEvent=e),t._completeHide(i)}}static dataApiKeydownHandler(e){const t=/input|textarea/i.test(e.target.tagName),a="Escape"===e.key,s=[ka,Ca].includes(e.key);if(!s&&!a)return;if(t&&!a)return;e.preventDefault();const n=this.matches($a)?this:H.prev(this,$a)[0]||H.next(this,$a)[0]||H.findOne($a,e.delegateTarget.parentNode),i=Ua.getOrCreateInstance(n);if(s)return e.stopPropagation(),i.show(),void i._selectMenuItem(e);i._isShown()&&(e.stopPropagation(),i.hide(),n.focus())}}$.on(document,Pa,$a,Ua.dataApiKeydownHandler),$.on(document,Pa,La,Ua.dataApiKeydownHandler),$.on(document,Ea,Ua.clearMenus),$.on(document,Oa,Ua.clearMenus),$.on(document,Ea,$a,(function(e){e.preventDefault(),Ua.getOrCreateInstance(this).toggle()})),m(Ua);const Ga="backdrop",qa="show",Ka=`mousedown.bs.${Ga}`,Ya={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Xa={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Qa extends j{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return Ya}static get DefaultType(){return Xa}static get NAME(){return Ga}show(e){if(!this._config.isVisible)return void g(e);this._append();const t=this._getElement();this._config.isAnimated&&d(t),t.classList.add(qa),this._emulateAnimation((()=>{g(e)}))}hide(e){this._config.isVisible?(this._getElement().classList.remove(qa),this._emulateAnimation((()=>{this.dispose(),g(e)}))):g(e)}dispose(){this._isAppended&&($.off(this._element,Ka),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add("fade"),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=o(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),$.on(e,Ka,(()=>{g(this._config.clickCallback)})),this._isAppended=!0}_emulateAnimation(e){v(e,this._getElement(),this._config.isAnimated)}}const Ja=".bs.focustrap",Za=`focusin${Ja}`,es=`keydown.tab${Ja}`,ts="backward",as={autofocus:!0,trapElement:null},ss={autofocus:"boolean",trapElement:"element"};class ns extends j{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return as}static get DefaultType(){return ss}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),$.off(document,Ja),$.on(document,Za,(e=>this._handleFocusin(e))),$.on(document,es,(e=>this._handleKeydown(e))),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,$.off(document,Ja))}_handleFocusin(e){const{trapElement:t}=this._config;if(e.target===document||e.target===t||t.contains(e.target))return;const a=H.focusableChildren(t);0===a.length?t.focus():this._lastTabNavDirection===ts?a[a.length-1].focus():a[0].focus()}_handleKeydown(e){"Tab"===e.key&&(this._lastTabNavDirection=e.shiftKey?ts:"forward")}}const is=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",os=".sticky-top",ls="padding-right",rs="margin-right";class cs{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,ls,(t=>t+e)),this._setElementAttributes(is,ls,(t=>t+e)),this._setElementAttributes(os,rs,(t=>t-e))}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,ls),this._resetElementAttributes(is,ls),this._resetElementAttributes(os,rs)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,t,a){const s=this.getWidth();this._applyManipulationCallback(e,(e=>{if(e!==this._element&&window.innerWidth>e.clientWidth+s)return;this._saveInitialAttribute(e,t);const n=window.getComputedStyle(e).getPropertyValue(t);e.style.setProperty(t,`${a(Number.parseFloat(n))}px`)}))}_saveInitialAttribute(e,t){const a=e.style.getPropertyValue(t);a&&R.setDataAttribute(e,t,a)}_resetElementAttributes(e,t){this._applyManipulationCallback(e,(e=>{const a=R.getDataAttribute(e,t);null!==a?(R.removeDataAttribute(e,t),e.style.setProperty(t,a)):e.style.removeProperty(t)}))}_applyManipulationCallback(e,t){if(i(e))t(e);else for(const a of H.find(e,this._element))t(a)}}const us=".bs.modal",ds=`hide${us}`,hs=`hidePrevented${us}`,ps=`hidden${us}`,fs=`show${us}`,ms=`shown${us}`,gs=`resize${us}`,vs=`click.dismiss${us}`,bs=`mousedown.dismiss${us}`,ys=`keydown.dismiss${us}`,_s=`click${us}.data-api`,ws="modal-open",xs="show",Ss="modal-static",ks={backdrop:!0,focus:!0,keyboard:!0},Cs={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Ts extends z{constructor(e,t){super(e,t),this._dialog=H.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new cs,this._addEventListeners()}static get Default(){return ks}static get DefaultType(){return Cs}static get NAME(){return"modal"}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||$.trigger(this._element,fs,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(ws),this._adjustDialog(),this._backdrop.show((()=>this._showElement(e))))}hide(){this._isShown&&!this._isTransitioning&&($.trigger(this._element,ds).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(xs),this._queueCallback((()=>this._hideModal()),this._element,this._isAnimated())))}dispose(){$.off(window,us),$.off(this._dialog,us),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Qa({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new ns({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const t=H.findOne(".modal-body",this._dialog);t&&(t.scrollTop=0),d(this._element),this._element.classList.add(xs),this._queueCallback((()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,$.trigger(this._element,ms,{relatedTarget:e})}),this._dialog,this._isAnimated())}_addEventListeners(){$.on(this._element,ys,(e=>{"Escape"===e.key&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())})),$.on(window,gs,(()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()})),$.on(this._element,bs,(e=>{$.one(this._element,vs,(t=>{this._element===e.target&&this._element===t.target&&("static"!==this._config.backdrop?this._config.backdrop&&this.hide():this._triggerBackdropTransition())}))}))}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide((()=>{document.body.classList.remove(ws),this._resetAdjustments(),this._scrollBar.reset(),$.trigger(this._element,ps)}))}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if($.trigger(this._element,hs).defaultPrevented)return;const e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._element.style.overflowY;"hidden"===t||this._element.classList.contains(Ss)||(e||(this._element.style.overflowY="hidden"),this._element.classList.add(Ss),this._queueCallback((()=>{this._element.classList.remove(Ss),this._queueCallback((()=>{this._element.style.overflowY=t}),this._dialog)}),this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._scrollBar.getWidth(),a=t>0;if(a&&!e){const e=f()?"paddingLeft":"paddingRight";this._element.style[e]=`${t}px`}if(!a&&e){const e=f()?"paddingRight":"paddingLeft";this._element.style[e]=`${t}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,t){return this.each((function(){const a=Ts.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===a[e])throw new TypeError(`No method named "${e}"`);a[e](t)}}))}}$.on(document,_s,'[data-bs-toggle="modal"]',(function(e){const t=H.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&e.preventDefault(),$.one(t,fs,(e=>{e.defaultPrevented||$.one(t,ps,(()=>{l(this)&&this.focus()}))}));const a=H.findOne(".modal.show");a&&Ts.getInstance(a).hide(),Ts.getOrCreateInstance(t).toggle(this)})),F(Ts),m(Ts);const Bs=".bs.offcanvas",As=".data-api",Is=`load${Bs}${As}`,Es="show",Ps="showing",Os="hiding",Ds=".offcanvas.show",$s=`show${Bs}`,Ms=`shown${Bs}`,Ls=`hide${Bs}`,Ns=`hidePrevented${Bs}`,Rs=`hidden${Bs}`,js=`resize${Bs}`,zs=`click${Bs}${As}`,Vs=`keydown.dismiss${Bs}`,Hs={backdrop:!0,keyboard:!0,scroll:!1},Fs={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Ws extends z{constructor(e,t){super(e,t),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Hs}static get DefaultType(){return Fs}static get NAME(){return"offcanvas"}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||$.trigger(this._element,$s,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||(new cs).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Ps),this._queueCallback((()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(Es),this._element.classList.remove(Ps),$.trigger(this._element,Ms,{relatedTarget:e})}),this._element,!0))}hide(){this._isShown&&($.trigger(this._element,Ls).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Os),this._backdrop.hide(),this._queueCallback((()=>{this._element.classList.remove(Es,Os),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new cs).reset(),$.trigger(this._element,Rs)}),this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=Boolean(this._config.backdrop);return new Qa({className:"offcanvas-backdrop",isVisible:e,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:e?()=>{"static"!==this._config.backdrop?this.hide():$.trigger(this._element,Ns)}:null})}_initializeFocusTrap(){return new ns({trapElement:this._element})}_addEventListeners(){$.on(this._element,Vs,(e=>{"Escape"===e.key&&(this._config.keyboard?this.hide():$.trigger(this._element,Ns))}))}static jQueryInterface(e){return this.each((function(){const t=Ws.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e](this)}}))}}$.on(document,zs,'[data-bs-toggle="offcanvas"]',(function(e){const t=H.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&e.preventDefault(),r(this))return;$.one(t,Rs,(()=>{l(this)&&this.focus()}));const a=H.findOne(Ds);a&&a!==t&&Ws.getInstance(a).hide(),Ws.getOrCreateInstance(t).toggle(this)})),$.on(window,Is,(()=>{for(const e of H.find(Ds))Ws.getOrCreateInstance(e).show()})),$.on(window,js,(()=>{for(const e of H.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(e).position&&Ws.getOrCreateInstance(e).hide()})),F(Ws),m(Ws);const Us={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Gs=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),qs=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,Ks=(e,t)=>{const a=e.nodeName.toLowerCase();return t.includes(a)?!Gs.has(a)||Boolean(qs.test(e.nodeValue)):t.filter((e=>e instanceof RegExp)).some((e=>e.test(a)))},Ys={allowList:Us,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Xs={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Qs={entry:"(string|element|function|null)",selector:"(string|element)"};class Js extends j{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return Ys}static get DefaultType(){return Xs}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map((e=>this._resolvePossibleFunction(e))).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){const e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(const[s,n]of Object.entries(this._config.content))this._setContent(e,n,s);const t=e.children[0],a=this._resolvePossibleFunction(this._config.extraClass);return a&&t.classList.add(...a.split(" ")),t}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(const[t,a]of Object.entries(e))super._typeCheckConfig({selector:t,entry:a},Qs)}_setContent(e,t,a){const s=H.findOne(a,e);s&&((t=this._resolvePossibleFunction(t))?i(t)?this._putElementInTemplate(o(t),s):this._config.html?s.innerHTML=this._maybeSanitize(t):s.textContent=t:s.remove())}_maybeSanitize(e){return this._config.sanitize?function(e,t,a){if(!e.length)return e;if(a&&"function"==typeof a)return a(e);const s=(new window.DOMParser).parseFromString(e,"text/html"),n=[].concat(...s.body.querySelectorAll("*"));for(const i of n){const e=i.nodeName.toLowerCase();if(!Object.keys(t).includes(e)){i.remove();continue}const a=[].concat(...i.attributes),s=[].concat(t["*"]||[],t[e]||[]);for(const t of a)Ks(t,s)||i.removeAttribute(t.nodeName)}return s.body.innerHTML}(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return g(e,[void 0,this])}_putElementInTemplate(e,t){if(this._config.html)return t.innerHTML="",void t.append(e);t.textContent=e.textContent}}const Zs=new Set(["sanitize","allowList","sanitizeFn"]),en="fade",tn="show",an=".tooltip-inner",sn=".modal",nn="hide.bs.modal",on="hover",ln="focus",rn={AUTO:"auto",TOP:"top",RIGHT:f()?"left":"right",BOTTOM:"bottom",LEFT:f()?"right":"left"},cn={allowList:Us,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},un={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class dn extends z{constructor(e,t){if(void 0===_a)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(e,t),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return cn}static get DefaultType(){return un}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),$.off(this._element.closest(sn),nn,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const e=$.trigger(this._element,this.constructor.eventName("show")),t=(c(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!t)return;this._disposePopper();const a=this._getTipElement();this._element.setAttribute("aria-describedby",a.getAttribute("id"));const{container:s}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(s.append(a),$.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(a),a.classList.add(tn),"ontouchstart"in document.documentElement)for(const n of[].concat(...document.body.children))$.on(n,"mouseover",u);this._queueCallback((()=>{$.trigger(this._element,this.constructor.eventName("shown")),!1===this._isHovered&&this._leave(),this._isHovered=!1}),this.tip,this._isAnimated())}hide(){if(this._isShown()&&!$.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(tn),"ontouchstart"in document.documentElement)for(const e of[].concat(...document.body.children))$.off(e,"mouseover",u);this._activeTrigger.click=!1,this._activeTrigger[ln]=!1,this._activeTrigger[on]=!1,this._isHovered=null,this._queueCallback((()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),$.trigger(this._element,this.constructor.eventName("hidden")))}),this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return Boolean(this._getTitle())}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){const t=this._getTemplateFactory(e).toHtml();if(!t)return null;t.classList.remove(en,tn),t.classList.add(`bs-${this.constructor.NAME}-auto`);const a=(e=>{do{e+=Math.floor(1e6*Math.random())}while(document.getElementById(e));return e})(this.constructor.NAME).toString();return t.setAttribute("id",a),this._isAnimated()&&t.classList.add(en),t}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new Js({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[an]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(en)}_isShown(){return this.tip&&this.tip.classList.contains(tn)}_createPopper(e){const t=g(this._config.placement,[this,e,this._element]),a=rn[t.toUpperCase()];return ya(this._element,e,this._getPopperConfig(a))}_getOffset(){const{offset:e}=this._config;return"string"==typeof e?e.split(",").map((e=>Number.parseInt(e,10))):"function"==typeof e?t=>e(t,this._element):e}_resolvePossibleFunction(e){return g(e,[this._element,this._element])}_getPopperConfig(e){const t={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:e=>{this._getTipElement().setAttribute("data-popper-placement",e.state.placement)}}]};return{...t,...g(this._config.popperConfig,[void 0,t])}}_setListeners(){const e=this._config.trigger.split(" ");for(const t of e)if("click"===t)$.on(this._element,this.constructor.eventName("click"),this._config.selector,(e=>{this._initializeOnDelegatedTarget(e).toggle()}));else if("manual"!==t){const e=t===on?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),a=t===on?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");$.on(this._element,e,this._config.selector,(e=>{const t=this._initializeOnDelegatedTarget(e);t._activeTrigger["focusin"===e.type?ln:on]=!0,t._enter()})),$.on(this._element,a,this._config.selector,(e=>{const t=this._initializeOnDelegatedTarget(e);t._activeTrigger["focusout"===e.type?ln:on]=t._element.contains(e.relatedTarget),t._leave()}))}this._hideModalHandler=()=>{this._element&&this.hide()},$.on(this._element.closest(sn),nn,this._hideModalHandler)}_fixTitle(){const e=this._element.getAttribute("title");e&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout((()=>{this._isHovered&&this.show()}),this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout((()=>{this._isHovered||this.hide()}),this._config.delay.hide))}_setTimeout(e,t){clearTimeout(this._timeout),this._timeout=setTimeout(e,t)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){const t=R.getDataAttributes(this._element);for(const a of Object.keys(t))Zs.has(a)&&delete t[a];return e={...t,..."object"==typeof e&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=!1===e.container?document.body:o(e.container),"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),"number"==typeof e.title&&(e.title=e.title.toString()),"number"==typeof e.content&&(e.content=e.content.toString()),e}_getDelegateConfig(){const e={};for(const[t,a]of Object.entries(this._config))this.constructor.Default[t]!==a&&(e[t]=a);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each((function(){const t=dn.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e]()}}))}}m(dn);const hn=".popover-header",pn=".popover-body",fn={...dn.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},mn={...dn.DefaultType,content:"(null|string|element|function)"};class gn extends dn{static get Default(){return fn}static get DefaultType(){return mn}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[hn]:this._getTitle(),[pn]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each((function(){const t=gn.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e]()}}))}}m(gn);const vn=".bs.scrollspy",bn=`activate${vn}`,yn=`click${vn}`,_n=`load${vn}.data-api`,wn="active",xn="[href]",Sn=".nav-link",kn=`${Sn}, .nav-item > ${Sn}, .list-group-item`,Cn={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Tn={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Bn extends z{constructor(e,t){super(e,t),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Cn}static get DefaultType(){return Tn}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=o(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,"string"==typeof e.threshold&&(e.threshold=e.threshold.split(",").map((e=>Number.parseFloat(e)))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&($.off(this._config.target,yn),$.on(this._config.target,yn,xn,(e=>{const t=this._observableSections.get(e.target.hash);if(t){e.preventDefault();const a=this._rootElement||window,s=t.offsetTop-this._element.offsetTop;if(a.scrollTo)return void a.scrollTo({top:s,behavior:"smooth"});a.scrollTop=s}})))}_getNewObserver(){const e={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver((e=>this._observerCallback(e)),e)}_observerCallback(e){const t=e=>this._targetLinks.get(`#${e.target.id}`),a=e=>{this._previousScrollData.visibleEntryTop=e.target.offsetTop,this._process(t(e))},s=(this._rootElement||document.documentElement).scrollTop,n=s>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=s;for(const i of e){if(!i.isIntersecting){this._activeTarget=null,this._clearActiveClass(t(i));continue}const e=i.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(n&&e){if(a(i),!s)return}else n||e||a(i)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const e=H.find(xn,this._config.target);for(const t of e){if(!t.hash||r(t))continue;const e=H.findOne(decodeURI(t.hash),this._element);l(e)&&(this._targetLinks.set(decodeURI(t.hash),t),this._observableSections.set(t.hash,e))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(wn),this._activateParents(e),$.trigger(this._element,bn,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains("dropdown-item"))H.findOne(".dropdown-toggle",e.closest(".dropdown")).classList.add(wn);else for(const t of H.parents(e,".nav, .list-group"))for(const e of H.prev(t,kn))e.classList.add(wn)}_clearActiveClass(e){e.classList.remove(wn);const t=H.find(`${xn}.${wn}`,e);for(const a of t)a.classList.remove(wn)}static jQueryInterface(e){return this.each((function(){const t=Bn.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e]()}}))}}$.on(window,_n,(()=>{for(const e of H.find('[data-bs-spy="scroll"]'))Bn.getOrCreateInstance(e)})),m(Bn);const An=".bs.tab",In=`hide${An}`,En=`hidden${An}`,Pn=`show${An}`,On=`shown${An}`,Dn=`click${An}`,$n=`keydown${An}`,Mn=`load${An}`,Ln="ArrowLeft",Nn="ArrowRight",Rn="ArrowUp",jn="ArrowDown",zn="Home",Vn="End",Hn="active",Fn="fade",Wn="show",Un=".dropdown-toggle",Gn=`:not(${Un})`,qn='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Kn=`.nav-link${Gn}, .list-group-item${Gn}, [role="tab"]${Gn}, ${qn}`,Yn=`.${Hn}[data-bs-toggle="tab"], .${Hn}[data-bs-toggle="pill"], .${Hn}[data-bs-toggle="list"]`;class Xn extends z{constructor(e){super(e),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),$.on(this._element,$n,(e=>this._keydown(e))))}static get NAME(){return"tab"}show(){const e=this._element;if(this._elemIsActive(e))return;const t=this._getActiveElem(),a=t?$.trigger(t,In,{relatedTarget:e}):null;$.trigger(e,Pn,{relatedTarget:t}).defaultPrevented||a&&a.defaultPrevented||(this._deactivate(t,e),this._activate(e,t))}_activate(e,t){e&&(e.classList.add(Hn),this._activate(H.getElementFromSelector(e)),this._queueCallback((()=>{"tab"===e.getAttribute("role")?(e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),$.trigger(e,On,{relatedTarget:t})):e.classList.add(Wn)}),e,e.classList.contains(Fn)))}_deactivate(e,t){e&&(e.classList.remove(Hn),e.blur(),this._deactivate(H.getElementFromSelector(e)),this._queueCallback((()=>{"tab"===e.getAttribute("role")?(e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),$.trigger(e,En,{relatedTarget:t})):e.classList.remove(Wn)}),e,e.classList.contains(Fn)))}_keydown(e){if(![Ln,Nn,Rn,jn,zn,Vn].includes(e.key))return;e.stopPropagation(),e.preventDefault();const t=this._getChildren().filter((e=>!r(e)));let a;if([zn,Vn].includes(e.key))a=t[e.key===zn?0:t.length-1];else{const s=[Nn,jn].includes(e.key);a=b(t,e.target,s,!0)}a&&(a.focus({preventScroll:!0}),Xn.getOrCreateInstance(a).show())}_getChildren(){return H.find(Kn,this._parent)}_getActiveElem(){return this._getChildren().find((e=>this._elemIsActive(e)))||null}_setInitialAttributes(e,t){this._setAttributeIfNotExists(e,"role","tablist");for(const a of t)this._setInitialAttributesOnChild(a)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);const t=this._elemIsActive(e),a=this._getOuterElement(e);e.setAttribute("aria-selected",t),a!==e&&this._setAttributeIfNotExists(a,"role","presentation"),t||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){const t=H.getElementFromSelector(e);t&&(this._setAttributeIfNotExists(t,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(t,"aria-labelledby",`${e.id}`))}_toggleDropDown(e,t){const a=this._getOuterElement(e);if(!a.classList.contains("dropdown"))return;const s=(e,s)=>{const n=H.findOne(e,a);n&&n.classList.toggle(s,t)};s(Un,Hn),s(".dropdown-menu",Wn),a.setAttribute("aria-expanded",t)}_setAttributeIfNotExists(e,t,a){e.hasAttribute(t)||e.setAttribute(t,a)}_elemIsActive(e){return e.classList.contains(Hn)}_getInnerElement(e){return e.matches(Kn)?e:H.findOne(Kn,e)}_getOuterElement(e){return e.closest(".nav-item, .list-group-item")||e}static jQueryInterface(e){return this.each((function(){const t=Xn.getOrCreateInstance(this);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e]()}}))}}$.on(document,Dn,qn,(function(e){["A","AREA"].includes(this.tagName)&&e.preventDefault(),r(this)||Xn.getOrCreateInstance(this).show()})),$.on(window,Mn,(()=>{for(const e of H.find(Yn))Xn.getOrCreateInstance(e)})),m(Xn);const Qn=".bs.toast",Jn=`mouseover${Qn}`,Zn=`mouseout${Qn}`,ei=`focusin${Qn}`,ti=`focusout${Qn}`,ai=`hide${Qn}`,si=`hidden${Qn}`,ni=`show${Qn}`,ii=`shown${Qn}`,oi="hide",li="show",ri="showing",ci={animation:"boolean",autohide:"boolean",delay:"number"},ui={animation:!0,autohide:!0,delay:5e3};class di extends z{constructor(e,t){super(e,t),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return ui}static get DefaultType(){return ci}static get NAME(){return"toast"}show(){$.trigger(this._element,ni).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(oi),d(this._element),this._element.classList.add(li,ri),this._queueCallback((()=>{this._element.classList.remove(ri),$.trigger(this._element,ii),this._maybeScheduleHide()}),this._element,this._config.animation))}hide(){this.isShown()&&($.trigger(this._element,ai).defaultPrevented||(this._element.classList.add(ri),this._queueCallback((()=>{this._element.classList.add(oi),this._element.classList.remove(ri,li),$.trigger(this._element,si)}),this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(li),super.dispose()}isShown(){return this._element.classList.contains(li)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout((()=>{this.hide()}),this._config.delay)))}_onInteraction(e,t){switch(e.type){case"mouseover":case"mouseout":this._hasMouseInteraction=t;break;case"focusin":case"focusout":this._hasKeyboardInteraction=t}if(t)return void this._clearTimeout();const a=e.relatedTarget;this._element===a||this._element.contains(a)||this._maybeScheduleHide()}_setListeners(){$.on(this._element,Jn,(e=>this._onInteraction(e,!0))),$.on(this._element,Zn,(e=>this._onInteraction(e,!1))),$.on(this._element,ei,(e=>this._onInteraction(e,!0))),$.on(this._element,ti,(e=>this._onInteraction(e,!1)))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each((function(){const t=di.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e](this)}}))}}F(di),m(di)}();const EO=((...e)=>{const t=(ko||(ko=tn(So))).createApp(...e),{mount:a}=t;return t.mount=e=>{const s=function(e){return w(e)?document.querySelector(e):e}(e);if(!s)return;const n=t._component;_(n)||n.render||n.template||(n.template=s.innerHTML),1===s.nodeType&&(s.textContent="");const i=a(s,!1,function(e){return e instanceof SVGElement?"svg":"function"==typeof MathMLElement&&e instanceof MathMLElement?"mathml":void 0}(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),i},t})(xr),PO=function(){const e=re(!0),t=e.run((()=>At({})));let a=[],s=[];const n=kt({install(e){To(n),n._a=e,e.provide(Bo,n),e.config.globalProperties.$pinia=n,s.forEach((e=>a.push(e))),s=[]},use(e){return this._a?a.push(e):s.push(e),this},_p:a,_a:null,_e:e,_s:new Map,state:t});return n}();PO.use(IO),EO.use(PO),EO.use(vO),EO.use(gx),EO.mount("#app");export{kn as F,FI as _,es as a,$n as b,pi as c,Ra as d,En as e,zn as f,ds as g,Y as h,Gn as i,W as n,Xa as o,At as r,ae as t,yr as u,fC as 刺,pC as 弓,hC as 法,mC as 牧,gC as 騎};
